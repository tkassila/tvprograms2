(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{dYij:function(e,t,n){"use strict";function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},a.apply(this,arguments)}function o(e,t,n,l,a,o,r){try{var s=e[o](r),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(l,a)}function r(e){return function(){var t=this,n=arguments;return new Promise((function(l,a){function r(e){o(c,l,a,r,s,"next",e)}function s(e){o(c,l,a,r,s,"throw",e)}var c=e.apply(t,n);r(void 0)}))}}function s(e,t){for(var n=0;n<t.length;n++){var l=t[n];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,g(l.key),l)}}function c(e,t,n){return t=h(t),i(e,u()?Reflect.construct(t,n||[],h(e).constructor):t.apply(e,n))}function i(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(u=function(){return!!e})()}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function b(e,t,n){return(t=g(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=l(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l(t)?t:t+""}function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function m(e,t){for(var n=0;n<t.length;n++){var l=t[n];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,S(l.key),l)}}function f(e,t,n){return t=k(t),function(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,v()?Reflect.construct(t,n||[],k(e).constructor):t.apply(e,n))}function v(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(v=function(){return!!e})()}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}function C(e,t,n){return(t=S(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e){var t=function(e,t){if("object"!=p(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var l=n.call(e,t||"default");if("object"!=p(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==p(t)?t:t+""}n.r(t),n.d(t,"default",(function(){return F}));var x=n("hosL"),w=n("x2AU"),O="home__PEN99",j=n("IKRQ"),D=n("2fTU"),T=n("OXlV"),A=n("vqXW"),_=n.n(A),I=n("rnI4"),P=n("XmHI"),R=function(e){var t=null;return null!==e.data.channelprograms&&(t=e.data.channelprograms.map((function(t,n){return Object(x.h)(P.a,{id:"telkkuchannel"+n,data:t,displayAllDescriptions:e.displayAllDescriptions,getPOfIndex:e.getPOfIndex,themevalue:e.themevalue,showSearch:null!=e.showSearch&&e.showSearch,channel:e.data.title})}))),Object(x.h)("div",null,Object(x.h)("h3",{tabIndex:"0",lang:"fi","aria-label":e.data.title},e.showSearch&&null!=e.data.titleindex?e.getPOfIndex(e.data.titleindex,e.data.title,this.props.themevalue):e.data.title.toString().replace("Telkussa: ","")),Object(x.h)("div",null,t))},B=function(e){function t(e){var n,l;b(l=c(this,t,[e]),"store",null),b(l,"fetch_url_telkku",null),b(l,"showAllDescrRef",null),b(l,"showOneChannelRef",null),b(l,"selectChannelRef",null),b(l,"const_showChannelsAtSameTime",10),b(l,"_mounted",!1),b(l,"scrollingDlgRef",null),b(l,"tablCntl",null),b(l,"showTableBordersRef",null),b(l,"sectionStyle",null),b(l,"tablesectionStyle",null),b(l,"sectionRef",null),b(l,"section_width",null),b(l,"section_width_css",void 0),b(l,"getSectionWidthCss",(function(){return"width: "+l.section_width+"px;"})),b(l,"fetchRssTelkkuPrograms",function(){var e=r((function*(e,t){if(l._mounted&&(w.a.bDebug&&console.log("fetchRssTelkkuPrograms"),!l.state.bAllChannelsLoaded&&!l.state.bUnderFetch)){l.setState({bUnderFetch:!0});var n=1,a=10;void 0!==e&&(n=e),void 0!==t&&(a=t),l.state.fetcheddata=null,l.state.fetcheditems=[],null!=l.state.channels&&l.state.channels.length>0&&(l.state.fetcheditems=l.state.channels),l.scrollingDlgRef.current.open();try{for(;l.fetcheddata=yield l.fetchRssTelkkuChannel(n),null!==l.fetcheddata&&(l.state.fetcheditems.push(l.fetcheddata),n!==a||-1===a)&&(n+=1,!l.state.bAllChannelsLoaded););}catch(e){if("Error: 500"!==e.message)return console.error("error"),console.error(e),l.setState({errmsg:e.message,bUnderFetch:!1}),void l.scrollingDlgRef.current.close();l.setState({bAllChannelsLoaded:!0})}w.a.bDebug&&(console.log("fetcheditems"),console.log(l.state.fetcheditems)),l.scrollingDlgRef.current.close(),l.setState({channels:l.state.fetcheditems,errmsg:null,bUnderFetch:!1,bLoadAllChannels:!1,bLoad10Channels:!1})}}));return function(t,n){return e.apply(this,arguments)}}()),b(l,"fetchRssTelkkuChannel",function(){var e=r((function*(e){var t=l.fetch_url_telkku+e;w.a.bDebug&&(console.log("fetchRssTelkkuChannel 1"),console.log(t)),l.setState({channels:null,errmsg:null});var n=null;return yield fetch(t,{method:"GET",timeout:6e3,headers:{"Content-Type":"application/rss+xml; charset=UTF-8",Accept:"*/*"},mode:"cors",signal:l.abortSignal}).then(l.handleErrors).then((function(e){return e.text()})).then((function(e){-1==e.indexOf("<rss version=")?(n=null,l.setState({bAllChannelsLoaded:!0})):n=l.getJsonDataFromTelkkuRssXml(e)})).catch((function(e){throw console.error("error"),console.error(e),l.setState({errmsg:e.toString()}),new l.TelkkuException(e.toString())})),n}));return function(t){return e.apply(this,arguments)}}()),b(l,"getJsonDataFromTelkkuRssXml",(function(e){var t=(new window.DOMParser).parseFromString(e,"text/xml"),n=t.getElementsByTagName("title")[0].childNodes[0].nodeValue;w.a.bDebug&&(console.log("channeltitle"),console.log(n));var a={};a.title=n;var o=t.querySelectorAll("item");return w.a.bDebug&&(console.log("xmlitems"),console.log(o)),null==o||null==o?null:(a.channelprograms=[],o.forEach((function(e){void 0!==e&&a.channelprograms.push(l.getChannelProgramFromXml(e))})),w.a.bDebug&&(console.log("json"),console.log(a)),a)})),b(l,"getChannelProgramXmlValue",(function(e){if(null==e||NaN===e)return console.log("json"),console.log(json),null;var t=e[0];if(null==t||NaN===t)return console.log("item1"),console.log(t),null;var n=t.childNodes[0];if(null==n||NaN===n)return w.a.bDebug&&(console.log("childNode1"),console.log(n)),null;var l=n.nodeValue;return null==l||NaN===l?(console.log("nodeValue1"),console.log(l),null):l})),b(l,"getChannelProgramFromXml",(function(e){w.a.bDebug&&(console.log("item"),console.log(e));var t={};return t.title=l.getChannelProgramXmlValue(e.getElementsByTagName("title")),t.description=l.getChannelProgramXmlValue(e.getElementsByTagName("description")),t.pubdate=l.getChannelProgramXmlValue(e.getElementsByTagName("pubDate")),t.link=l.getChannelProgramXmlValue(e.getElementsByTagName("link")),t})),b(l,"handleErrors",(function(e){if(!e.ok)throw console.log("response"),console.log(e),console.log(e.status),Error(e.status);return e})),b(l,"showOneChannel",(function(e){e.preventDefault(),l.setState(e.target.checked?{showChannelsAtSameTime:1,bCheckShowChannelsAtSameTime:!0,bSearchButtonClicked:!1}:{showChannelsAtSameTime:l.const_showChannelsAtSameTime,selectedchannelindex:-1,bCheckShowChannelsAtSameTime:!1})})),b(l,"showAllDescriptions",(function(e){e.preventDefault();var t=e.target.checked;w.a.bDebug&&console.log("showAllDescriptions");var n=t;w.a.bDebug&&console.log("bValue"),w.a.bDebug&&console.log(n),l.setState({bDisplayAllDescriptions:n})})),b(l,"getPOfIndex",(function(e,t,n){w.a.bDebug&&console.log("getPOfIndex");var a=l.state.textSearch;if(w.a.bDebug&&(console.log("textSearch"),console.log(a)),null==t||null==t)return"";if(w.a.bDebug&&(console.log("txt"),console.log(t),console.log("index"),console.log(e)),null==e||null==e||e<0||t.length<=e)return t;if(null==a||null==a||0==a.toString().trim().length)return t;var o=t.substring(0,e),r=t.substring(e,e+a.length),s=t.substring(e+a.length);w.a.bDebug&&(console.log("first"),console.log(o),console.log("between"),console.log(r),console.log("last"),console.log(s));var c=null!=o&&null!=o&&0!=o.trim().length?Object(x.h)("span",{style:"margin-right: 0px; margin-left: 0px; padding: 0px;"},o):"",i="background-color: green; color: white; margin-right: 0px; margin-left: 0px; padding: 0px;";"--dark"===n&&(i="background-color: yellow; color: black; margin-right: 0px; margin-left: 0px; padding: 0px;");var u=Object(x.h)("span",{style:i},r),h=null!=s&&null!=s&&0!=s.trim().length?Object(x.h)("span",{style:"margin-right: 0px; margin-left: 0px; padding: 0px;"},s):"",d=Object(x.h)("div",null,c,u,h);return w.a.bDebug&&(console.log("newvalue_first"),console.log(c),console.log("newvalue_between"),console.log(u),console.log("newvalue_last"),console.log(h)),w.a.bDebug&&(console.log("newvalue"),console.log(d)),d})),b(l,"getTableHeadersAndTableRowsAfterChannels",(function(){var e=null,t=null;w.a.bDebug&&(console.log("getTableHeadersAndTableRowsAfterChannels"),console.log("this.state.bCheckShowChannelsAtSameTime"),console.log(l.state.bCheckShowChannelsAtSameTime),console.log("this.state.selectedchannelindex"),console.log(l.state.selectedchannelindex),console.log(l.state));if(l.state.bSearchButtonClicked){if(null==l.state.channels){t=[];var n={};return n.headers=e=[],n.channels=t,n}var o=l.state.textSearch;if(null!=o&&o.toString().trim().length>0){var r=-1,s=[],c=[],i=!1,u=!1,h=o.toUpperCase(),d={},b=l.state.channels;if(console.log("before filter search"),console.log("this.state.bCheckShowChannelsAtSameTime"),console.log(l.state.bCheckShowChannelsAtSameTime),console.log("this.state.selectedchannelindex"),console.log(l.state.selectedchannelindex),l.state.bCheckShowChannelsAtSameTime&&-1!=l.state.selectedchannelindex){console.log("filter search bCheckShowChannelsAtSameTime");var g=b[l.state.selectedchannelindex].title,p=b.filter((function(e){return e.title===g}));b=p}Array.from(b).forEach((function(e){d={},r=-1,i=!1,void 0!==e&&(a(d,e),w.a.bDebug&&(console.log("chcoopy"),console.log(d),console.log("chcoopy.channelprograms"),console.log(d.channelprograms)),d.title&&(d.title=d.title.toString().replace("Telkussa: ","")),-1!=(r=d.title?d.title.toUpperCase().indexOf(h):-1)&&(d.titleindex=r,i=!0),c=[],Array.from(d.channelprograms).forEach((function(e){u=!1,void 0!==e&&(-1!=(r=e.title?e.title.toUpperCase().indexOf(h):-1)&&(e.titleindex=r,i=!0,u=!0),-1!=(r=e.description?e.description.toUpperCase().indexOf(h):-1)&&(e.descriptionindex=r,i=!0,u=!0),u&&c.push(e))})),i&&(d.channelprograms=null!=c&&0!=c.length?c:e.channelprograms,s.push(d)))})),null==s&&0==s.length?(e=[],t=[]):(e=s.map((function(e){return e.title.replace("Telkussa: ","")})),t=s.map((function(e,t){return Object(x.h)(R,{id:"telkkuchannel"+t,data:e,showSearch:!0,getPOfIndex:l.getPOfIndex,themevalue:l.props.themevalue,displayAllDescriptions:l.state.bDisplayAllDescriptions})})))}else e=l.state.channels.map((function(e){return e.title.replace("Telkussa: ","")})),t=l.state.channels.map((function(e,t){return Object(x.h)(R,{id:t,data:e,themevalue:l.props.themevalue,displayAllDescriptions:l.state.bDisplayAllDescriptions})}))}else if(l.state.bCheckShowChannelsAtSameTime&&-1!=l.state.selectedchannelindex){console.log("filter");var m=l.state.channels[l.state.selectedchannelindex].title,f=l.state.channels.filter((function(e){return e.title===m}));e=f.map((function(e){return e.title.replace("Telkussa: ","")})),t=f.map((function(e,t){return Object(x.h)(R,{id:t,data:e,themevalue:l.props.themevalue,displayAllDescriptions:l.state.bDisplayAllDescriptions})}))}else if(l.state.showChannelsAtSameTime==l.state.channels.length||l.state.showChannelsAtSameTime>l.state.channels.length)e=l.state.channels.map((function(e){return e.title.replace("Telkussa: ","")})),t=l.state.channels.map((function(e,t){return Object(x.h)(R,{id:t,data:e,themevalue:l.props.themevalue,displayAllDescriptions:l.state.bDisplayAllDescriptions})}));else{var v=!1;if(l.state.showChannelsAtSameTime<l.state.channels.length){var k=Math.floor(l.state.currentChannelSetIndex*l.state.showChannelsAtSameTime),y=0==l.state.currentChannelSetIndex?l.state.showChannelsAtSameTime:Math.floor(l.state.currentChannelSetIndex*l.state.showChannelsAtSameTime+l.state.showChannelsAtSameTime);if(w.a.bDebug&&(console.log("min"),console.log(k),console.log("max"),console.log(y)),k<0?k=0:k>l.state.channels.length&&(k=l.state.channels.length,v=!0),y>l.state.channels.length&&(y=l.state.channels.length),!v){var C,S=[];for(C=k;C<y;C++)S.push(l.state.channels[C]);e=S.map((function(e){return e.title.replace("Telkussa: ","")})),t=S.map((function(e,t){return Object(x.h)(R,{id:t,data:e,themevalue:l.props.themevalue,displayAllDescriptions:l.state.bDisplayAllDescriptions})}))}}else v=!0;v&&(e=l.state.channels.map((function(e){return e.title.replace("Telkussa: ","")})),t=l.state.channels.map((function(e,t){return Object(x.h)(R,{id:t,data:e,themevalue:l.props.themevalue,displayAllDescriptions:l.state.bDisplayAllDescriptions})})))}var O={};return O.headers=e,O.channels=t,O})),b(l,"textFieldChannelsAtSameTimeChanged",(function(e){e.preventDefault();var t=e.target.value;w.a.bDebug&&(console.log("textFieldChannelsAtSameTimeChanged"),console.log(t));var n=parseInt(t);w.a.bDebug&&(console.log("validNumber"),console.log(n)),NaN!=n&&null!=n?parseInt(n)<1?e.target.value=1:parseInt(n)>l.const_showChannelsAtSameTime?e.target.value=l.const_showChannelsAtSameTime:l.setState({showChannelsAtSameTime:n,currentChannelSetIndex:0}):e.target.value=l.const_showChannelsAtSameTime})),b(l,"calculateMaxChannelSetIndex",(function(){if(w.a.bDebug&&console.log("calculateMaxChannelSetIndex"),null==l.state.channels)return 0;if(0===l.state.channels.length)return 0;if(l.state.bCheckShowChannelsAtSameTime)return 0;if(l.state.showChannelsAtSameTime>=l.state.channels.length)return 0;var e=l.state.channels.length/l.state.showChannelsAtSameTime;return w.a.bDebug&&(console.log("channelSets"),console.log(e)),0==e?0:e-1})),b(l,"nextChannelSetClicked",(function(e){e.preventDefault(),null!=l.state.channels&&0!=l.state.channels.length&&(l.state.currentChannelSetIndex>l.calculateMaxChannelSetIndex()?l.setState({currentChannelSetIndex:l.calculateMaxChannelSetIndex(),bSearchButtonClicked:!1}):l.state.currentChannelSetIndex!==l.calculateMaxChannelSetIndex()&&l.setState({currentChannelSetIndex:l.state.currentChannelSetIndex+1}))})),b(l,"prevChannelSetClicked",(function(e){e.preventDefault(),null!=l.state.channels&&0!=l.state.channels.length&&(l.state.currentChannelSetIndex<0?l.setState({currentChannelSetIndex:0}):0!==l.state.currentChannelSetIndex&&l.setState({currentChannelSetIndex:l.state.currentChannelSetIndex-1}))})),b(l,"loadMoreChannelClicked",(function(){l.state.bAllChannelsHasLoaded||l.fetchRssTelkkuPrograms(null==l.state.channels||0==l.state.channels.length?1:l.state.channels.length+1,null==l.state.channels||0==l.state.channels.length?10:l.state.channels.length+10)})),b(l,"loadAllChannelClicked",(function(){l.state.bAllChannelsHasLoaded||l.fetchRssTelkkuPrograms(null==l.state.channels?1:l.state.channels.length+1,-1)})),b(l,"searchTextFromChannelsClicked",(function(){event.preventDefault(),w.a.bDebug&&console.log("searchTextFromChannelsClicked");var e=l.state.textSearch;(w.a.bDebug&&(console.log("searchText 2 "),console.log(e)),null!=e&&null!=e&&0!=e.trim().length)&&(w.a.bDebug&&console.log("searchTextFromChannelsClicked 2 "),l.showAllDescrRef.current.checked||(l.showAllDescrRef.current.checked=!0),l.setState({bSearchButtonClicked:!0,bDisplayAllDescriptions:!0}),l.forceUpdate())})),b(l,"textFieldSearchChanged",(function(e){e.preventDefault();var t=e.target.value;w.a.bDebug&&(console.log("textFieldSearchChanged"),console.log(t)),l.setState({textSearch:t,bSearchButtonClicked:!1})})),b(l,"abortFetchClicked",(function(e){e.preventDefault(),l.state.bUnderFetch&&(w.a.bDebug&&console.log("abortFetchClicked.abort()"),l.abortSignal.aborted||(l.abortController.abort(),l.setState({bUnderFetch:!1})))})),b(l,"getFetchedDate",(function(){var e=l.state.today;if(null==e||null==e)return"";var t=e.getDate(),n=e.getMonth()+1;return t<10&&(t="0"+t),n<10&&(n="0"+n),t+"."+n+"."+e.getFullYear()})),b(l,"getFetchDateValue",(function(){var e=l.state.today;if(null==e||null==e)return"";var t=e.getDate(),n=e.getMonth()+1;return t<10&&(t="0"+t),n<10&&(n="0"+n),"/"+e.getFullYear()+n+t})),b(l,"showTableBorders",(function(e){e.preventDefault();var t=e.target.checked;w.a.bDebug&&console.log("showTableBorders");var n=t;w.a.bDebug&&(console.log("bValue"),console.log(n)),l.setState({bShowTableBorder:n})})),b(l,"onClickDisplayDialog",(function(){l.scrollingDlgRef.current.close()})),b(l,"getNextColumn",(function(e,t){var n=null;return e&&null!=t&&e[t+1]&&(n=e[t+1]),n})),b(l,"getPrevColumn",(function(e,t){var n=null;return e&&t&&e[t-1]&&(n=e[t-1]),n})),b(l,"getCurrentColumnIndex",(function(e){if(null==e||0===e.length)return null;w.a.bDebug&&(console.log("path"),console.log(e));var t,n=-1,l=0,a=e.length,o="tablecol";for(l=0;l<a;l++)if((t=e[l].id.toString())&&t.includes(o)){var r=t.indexOf(o),s=t.substring(r+8);n=parseInt(s);break}return n})),b(l,"getH3OfCurrentColumn",(function(e){if(null==e||0===e.length)return null;w.a.bDebug&&(console.log("path"),console.log(e));var t,n,l=-1,a=0,o=e.length,r="tablecol";for(a=0;a<o;a++)if((n=(t=e[a]).id.toString())&&n.includes(r)){var s=n.indexOf(r),c=n.substring(s+8);parseInt(c);if(l=t.childNodes[0]){var i=l.childNodes[0];i&&(l=i)}break}return l})),b(l,"altPlusKeyUp",(function(e){var t=(e=e||window.event).keyCode||e.which;if(w.a.bDebug&&console.log("pressed"),e.altKey){w.a.bDebug&&(console.log("control key"),console.log("e.altKey"),console.log(e.altKey),console.log("keyCode"),console.log(t),console.log("e.keyCode"),console.log(e.keyCode),console.log("e"),console.log(e));var n=l.tablCntl.current.rows[1],a=n.cells,o=n.colIndex,r=a.length,s=n.closest("td");w.a.bDebug&&(console.log("--- row"),console.log(n),console.log("--- cols"),console.log(a),console.log("--- lenCols"),console.log(r),console.log("--- currColInd"),console.log(o),console.log("--- currentCol"),console.log(s),console.log("--- this.tablCntl.current"),console.log(l.tablCntl.current));var c=null,i=null;switch(e.key){case"r":case"R":e.preventDefault(),(i=document.activeElement)&&i.innerHTML&&l.speakScreenReader(i.innerHTML.toString());break;case"c":case"C":if(e.preventDefault(),i=e.composedPath(),h=l.getH3OfCurrentColumn(i)){var u=h.innerHTML.toString();u&&l.speakScreenReader(u)}break;case"o":case"O":e.preventDefault(),i=e.composedPath();var h=l.getH3OfCurrentColumn(i);h&&h.focus();break;case"k":case"K":if(e.preventDefault(),i=e.composedPath(),-1!==(c=l.getCurrentColumnIndex(i))&&c>0){var d=l.getPrevColumn(a,c);d&&d.focus()}break;case"a":case"A":if(e.preventDefault(),i=e.composedPath(),-1!==(c=l.getCurrentColumnIndex(i))&&c<r-1){var b=l.getNextColumn(a,c);b&&(w.a.bDebug&&(console.log("nextcol"),console.log(b)),b.focus())}}}})),b(l,"altPlusKeyUpProgramHeader",(function(e){var t=(e=e||window.event).keyCode||e.which;if(console.log("pressed"),e.altKey)switch(w.a.bDebug&&(console.log("control key"),console.log("e.altKey"),console.log(e.altKey),console.log("keyCode"),console.log(t),console.log("e.keyCode"),console.log(e.keyCode),console.log("e"),console.log(e)),e.key){case"m":case"M":if(document.getElementById("idprogramtableh3")){var n=document.getElementById("idprogramtableh3");n&&n.focus()}break;case"n":case"N":if(document.getElementById("divControl")){var a=document.getElementById("divControl");a&&a.focus()}break;case"j":case"J":l.nextChannelSetClicked(e);break;case"g":case"G":l.prevChannelSetClicked(e);break;default:return l.altPlusKeyUp(e)}})),b(l,"buttonHidePressed",(function(){var e=!l.state.hideButton,t=document.getElementById("hideDiv");t.style.display="none"===t.style.display?"block":"none",l.setState({hideButton:e,hideButtonText:e?"Näytä ohje":"Piilota ohje"})})),w.a.bDebug&&(console.log("Telkku.js"),console.log("props"),console.log(e)),l.store=e.store;var o=Date.now();l.state=(b(b(b(b(b(b(b(b(b(b(n={errmsg:null,channels:null,currentchannel:null,bUnderFetch:!1,today:new Date(o),bDisplayAllDescriptions:!1,showChannelsAtSameTime:l.const_showChannelsAtSameTime,selectedchannelindex:-1,bCheckShowChannelsAtSameTime:!1,currentChannelSetIndex:0},"bUnderFetch",!1),"bAllChannelsLoaded",!1),"textSearch",null),"bSearchButtonClicked",!1),"bShowTableBorder",!1),"bLoadAllChannels",!1),"bLoad10Channels",!1),"fetcheddata",null),"fetcheditems",[]),"sectionwidth",0),b(b(b(n,"screenreaderdiv",""),"hideButton",!1),"hideButtonText","Piilota ohje"));var s=e.themevalue;return l.sectionStyle=void 0!==s&&""!==s?" border:1px solid pink; padding:15px;  margin:10px; background: black; color: white; "+(null==l.section_width_css?"":l.section_width_css):" border:1px solid black; padding:15px;  margin:10px; background: white; color: black;"+(null==l.section_width_css?"":l.section_width_css),l.tablesectionStyle=void 0!==s&&""!==s?" border:1px solid pink; padding:15px;  margin:10px; background: black; color: white; ":" border:1px solid black; padding:15px;  margin:10px; background: white; color: black;",l.fetch_url_telkku=w.a.http_curlserver+"/telkku/",l.TelkkuException=l.TelkkuException.bind(l),l.removelisteners=l.removelisteners.bind(l),l.showAllDescrRef=Object(x.createRef)(),l.showOneChannelRef=Object(x.createRef)(),l.selectChannelRef=Object(x.createRef)(),l.scrollingDlgRef=Object(x.createRef)(),l.tablCntl=Object(x.createRef)(),l.showTableBordersRef=Object(x.createRef)(),l.sectionRef=Object(x.createRef)(),l}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(t,e),n=t,(l=[{key:"componentWillReceiveProps",value:function(e){w.a.bDebug&&(console.log("Telkku componentWillReceiveProps nextProps"),console.log(e)),null!==e&&e.themevalue!=this.props.themevalue&&(this.setState({themevalue:e.themevalue}),this.sectionStyle=void 0!==e.themevalue&&""!==e.themevalue?" border:1px solid pink; padding:15px;  margin:10px; background: black; color: white; "+(null==this.state.sectionwidth?"":this.state.sectionwidth):" border:1px solid black; padding:15px;  margin:10px; background: white; color: black;"+(null==this.state.sectionwidth?"":this.state.sectionwidth))}},{key:"componentDidMount",value:function(){w.a.bDebug&&console.log("componentDidMount 1"),this.abortController=new _.a,this.abortSignal=this.abortController.signal,this._mounted=!0,this.section_width=this.sectionRef.current.offsetWidth,w.a.bDebug&&console.log("kissa")}},{key:"removelisteners",value:function(){this.abortSignal&&!this.abortSignal.aborted&&this.abortController.abort()}},{key:"componentWillUnmount",value:function(){this.removelisteners(),this._mounted=!1}},{key:"TelkkuException",value:function(e){this.message=e,this.name="TelkkuException"}},{key:"speakScreenReader",value:function(e){document.getElementById("screenreaderdiv").innerHTML=e,this.setState({screenreaderdiv:e})}},{key:"render",value:function(e,t){var n=this;w.a.bDebug&&(console.log("state"),console.log(t));var l="";null!=t.fetcheditems&&t.fetcheditems.length>0&&(l=this.getSectionWidthCss(),this.section_width_css=l);var a=void 0!==e.themevalue&&""!==e.themevalue?"color: #FFF; background-color: black; border-color: #FFF;":"",o="float: none; display: inline-block; vertical-align: middle; ",r="float: none; display: inline-block; vertical-align: middle; "+(void 0!==e.themevalue&&""!==e.themevalue?"":" color: white; ");w.a.bDebug&&(console.log("divDialogStyle"),console.log(a));var s="",c="black";t.bShowTableBorder&&("--dark"===e.themevalue&&(c="white"),s=" border: 1px solid "+c+";");var i=null,u=null,h=null;if(null!==t.channels){u=t.channels.map((function(e,t){return Object(x.h)("option",{value:e.title,id:t,selected:t===n.state.selectedchannelindex},e.title)}));var d=this.getTableHeadersAndTableRowsAfterChannels();h=i=d.channels,null!=i&&(h=i.map((function(e,t){return Object(x.h)("td",{id:"telkkutablecol"+t,lang:"fi",tabIndex:"0",style:"vertical-align: top; padding-left: 5px; padding-right: 5px; "+s},e)})))}return Object(x.h)(x.Fragment,null,Object(x.h)("div",{id:"telkku_main_div",style:a,onKeyUp:this.altPlusKeyUpProgramHeader},Object(x.h)("div",{class:I.a.cardHeader},Object(x.h)("h1",{tabIndex:"0",lang:"fi",id:"focus_1_element"},"Telkku ",this.getFetchedDate()),Object(x.h)("section",{ref:this.sectionRef,style:""===this.state.themevalue?l:this.sectionStyle},Object(x.h)("div",{class:I.a.cardBody},Object(x.h)("div",{lang:"fi",tabIndex:"0","aria-labelled":"Miten ohjelmatiedot näytetään"},Object(x.h)("div",{style:{"background-color":"red",color:"yellow"},tabIndex:"0"},t.errmsg),Object(x.h)("div",{class:" mdc-typography--caption",tabIndex:"0",id:"divControl"},"Miten ohjelmatiedot näytetään:")),Object(x.h)("div",{class:I.a.cardBody},Object(x.h)("div",null,Object(x.h)("span",null,Object(x.h)(j.a,{tabIndex:"0",ripple:!0,raised:!0,disabled:null==t.channels||1==t.showChannelsAtSameTime&&t.bCheckShowChannelsAtSameTime||t.showChannelsAtSameTime>=t.channels.length,onClick:this.prevChannelSetClicked,style:r,"aria-label":"Aikaisemmat kanavat",text:"<"})),Object(x.h)("span",null,Object(x.h)("space",null," "),Object(x.h)(j.a,{tabIndex:"0",ripple:!0,raised:!0,disabled:null==t.channels||1==t.showChannelsAtSameTime&&t.bCheckShowChannelsAtSameTime||t.showChannelsAtSameTime>=t.channels.length,onClick:this.nextChannelSetClicked,style:r,"aria-label":"Seuraavat kanavat",text:">"})),Object(x.h)("span",null,Object(x.h)(T.a,{onChange:this.showAllDescriptions,propref:this.showAllDescrRef,inputid:"checkshowdescribtions",style:o,labeltext:"Näytä selitykset",checked:t.bDisplayAllDescriptions})),Object(x.h)("span",null,Object(x.h)(T.a,{onChange:this.showOneChannel,propref:this.showOneChannelRef,inputid:"checkshowonechannel",style:o,labeltext:"Näytä yksi kanava:",checked:t.bCheckShowChannelsAtSameTime}),Object(x.h)("select",{tabIndex:"0",selectedIndex:this.state.selectedchannelindex,disabled:1!==t.showChannelsAtSameTime,preselected:!0,outlined:!0,style:o,ref:this.selectChannelRef,onChange:function(e){n.setState({selectedchannelindex:e.target.selectedIndex,bSearchButtonClicked:!1})}},u)),Object(x.h)("space",null," "),Object(x.h)("span",null,Object(x.h)("label",{for:"input_number_columss",style:o},"Näytettävien kanavien lkm:"," "),Object(x.h)("input",{id:"input_number_columss",name:"input_number_columns",style:o,disabled:this.state.bCheckShowChannelsAtSameTime,type:"number",min:"1",max:"10",value:-1===this.state.showChannelsAtSameTime?"":this.state.showChannelsAtSameTime,onKeyUp:this.textFieldChannelsAtSameTimeChanged})),Object(x.h)("span",null,Object(x.h)("label",{for:"idsearchvalue"},"Etsi tekstiä ohjelmista:"),Object(x.h)("input",{id:"idsearchvalue",type:"text",tabIndex:"0",outlined:!0,disabled:null==t.channels||t.bUnderFetch,onKeyUp:this.textFieldSearchChanged,style:" width: 30%;"})),Object(x.h)("span",null,Object(x.h)(j.a,b(b(b({tabIndex:"0",ripple:!0,raised:!0,style:o,disabled:null==t.channels||t.bUnderFetch,onClick:this.searchTextFromChannelsClicked},"style",r),"aria-label","Hae"),"text","Hae"))),Object(x.h)("span",null,Object(x.h)(j.a,{tabIndex:"0",ripple:!0,raised:!0,disabled:t.bUnderFetch||t.bAllChannelsLoaded,onClick:this.loadMoreChannelClicked,style:r,text:"Lataa +10 kanavaa"})),Object(x.h)("span",null,Object(x.h)(j.a,{tabIndex:"0",ripple:!0,raised:!0,disabled:t.bUnderFetch||t.bAllChannelsLoaded,onClick:this.loadAllChannelClicked,style:r,text:"Lataa kaikki kanavat"})),Object(x.h)("space",null," "),Object(x.h)("span",null,Object(x.h)(T.a,{onChange:this.showTableBorders,style:o,propref:this.showTableBordersRef,inputid:"checkTableBorders",labeltext:"Näytä taulun raamit",checked:t.bShowTableBorder})),Object(x.h)("space",null," "),Object(x.h)("span",null,Object(x.h)(j.a,{tabIndex:"0",ripple:!0,raised:!0,disabled:!t.bUnderFetch,style:r,onClick:this.abortFetchClicked,text:"Keskeytä lataus"})))))),Object(x.h)("br",null),Object(x.h)("br",null),Object(x.h)("section",{style:""===this.state.themevalue?"":this.tablesectionStyle},Object(x.h)("div",{style:{"background-color":"red",color:"yellow"}},t.errmsg),Object(x.h)("div",{class:" mdc-typography--caption"},Object(x.h)("h3",{id:"idprogramtableh3",tabIndex:"0"},"Ohjelmataulukko ",Object(x.h)(j.a,{lang:"fi",ripple:!0,raised:!0,style:r,text:t.hideButtonText,id:"buttonHide",onClick:this.buttonHidePressed,"aria-label":"Näytä/Piilota teksi"})),Object(x.h)("div",{class:I.a.cardHeader,id:"hideDiv"},Object(x.h)("h3",{lang:"fi",tabIndex:"0"},'-- Ohjelmataulukko, liikutaan hiirellä tai taulukon sisällä seuraavilla näppäimillä: alt+a = seuraava kanava, alt+k = edellinen kanava sekä alt+o = liikutaan kanavan otsakkeeseen. Myös ensimmäisen kerran/sama kanava on mahdollista painaa alt+c:ää, jolloin ruudunlukuohjelma sanoo kanavan nimen, mutta selauskohta ei muutu. Samoin atl+r:lla toistetaan kerran/ohjelmatieto sen teksti. Ohjelman kuvailun saa näkymään tab näppäimellä ja enterillä tai hiirenklikkauksella. Taulukon sisällä toimivat myös tab sekä shift-tab näppäimet. Taulukon yläpuolelle tekstin "Ohjelmataulukko" kohdalle pääsee komennolla alt+a. Myös seuraavat näppäimet toimivat, kun kanavia enemmän kuin taulukossa näytetään: edelliset kanavat: alt+g ja seuraavat kanavat: alt+j. Alt+n vie suoraan miten taulukon ohjelmatiedot näytetään yläpuolelle.')),t.bSearchButtonClicked&&null!=t.textSearch?" (haun tulokset)":""),Object(x.h)("table",{id:"programtable",style:"width:100%",ref:this.tablCntl},Object(x.h)("tbody",null,Object(x.h)("tr",null,null),Object(x.h)("tr",null,h))))),Object(x.h)(D.a,{role:"dialog",id:"dialogloading","aria-labelledby":"h1loading","aria-modal":"false",lang:"fi",ref:this.scrollingDlgRef,title:"Odota!",themevalue:e.themevalue,okButtonPressed:this.onClickDisplayDialog,okText:"Sulje",scrollable:!0},Object(x.h)("div",{style:a},Object(x.h)("div",{class:"card-header"},Object(x.h)("h3",{lang:"fi",id:"h1loading",default:!0,tabIndex:"0",class:" mdc-typography--title"},"Hetkinen tietoja haetaan par'aikaa...")))),Object(x.h)("div",{id:"screenreaderdiv",tabindex:"0","aria-live":"priority || polite",class:"visually-hidden","aria-label":this.state.screenreaderdiv})))}}])&&s(n.prototype,l),o&&s(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,l,o}(x.Component),F=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),C(n=f(this,t,[e]),"control",null),C(n,"removelisteners",(function(){n.control.removelisteners()})),w.a.bDebug&&(console.log("YleRoute.js"),console.log("props"),console.log(e)),n.state={errmsg:null},n.control=Object(x.createRef)(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(t,e),n=t,(l=[{key:"componentDidMount",value:function(){w.a.bDebug&&console.log("componentDidMount 1")}},{key:"render",value:function(e,t){return Object(x.h)("div",{class:"".concat(O," page")},Object(x.h)(B,{store:e.store,ref:this.control,themevalue:e.themevalue}),Object(x.h)("div",{style:{"background-color":"red",color:"yellow"}},t.errmsg))}}])&&m(n.prototype,l),a&&m(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,l,a}(x.Component)},rnI4:function(e,t){"use strict";t.a={home:"home__wog+i",cardHeader:"cardHeader__dyMRZ",cardBody:"cardBody__M1xly"}}}]);
//# sourceMappingURL=12.chunk.53d2c.js.map