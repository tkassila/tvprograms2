{"version":3,"sources":["webpack:///./components/amppari/ChannelTypes.js","webpack:///./components/dialog/Dialog.css","webpack:///./components/dialog/PreactDialog.js","webpack:///./components/button/Button.js","webpack:///./components/checkbox/CheckBox.js","webpack:///./components/telkku/ShowProgram.js","webpack:///./components/amppari/AmppariChannel.js","webpack:///./routes/amppari/style.css","webpack:///./components/amppari/ProgramTypes.js","webpack:///./components/amppari/SearchPrograms.js","webpack:///./components/amppari/Amppari.js","webpack:///./routes/amppari/AmppariRoute.js","webpack:///../node_modules/dayjs/dayjs.min.js","webpack:///./components/amppari/style.css","webpack:///./components/amppari/AmppariShowProgram.js"],"names":["ChannelTypes","Component","constructor","props","super","_defineProperty","this","unsubscribelistener","storestate","console","log","_mounted","fetchitems","state","Config","bDebug","items","filterChannesAfterChannelPay","channeltypeitems","setState","store","channeltype","ind","selected","chtype","fitems","length","undefined","selectedsuodattimet","selectedsuodatinindex","chls","ret","filter","s","pay","Date","now","errmsg","fetcheditems","disabled","componentDidMount","keys","push","subscribeAttributeNameListener","listenerStoreChange2","setRemoverFunction","removelisteners","componentWillUnmounted","componentWillReceiveProps","nextProps","render","selectchanneltypes","arr_selectchanneltypes","map","child","i","h","value","id","Fragment","for","tabIndex","selectedIndex","preselected","outlined","onChange","e","target","text","changed","PreactDialog","event","preventDefault","dialogRef","MDComponent","show","current","closeButtonRef","focus","close","cancelButtonPressed","okButtonPressed","setTheme","Omiu","window","keyCode","dialogid","_uniqueId","createRef","Dialog","ref","role","style","css","Header","lang","title","Body","scrollable","Card","class","children","Media","className","Footer","onKeyDown","enterKeyDown","slot","type","onClick","cancelBttnPressed","cancelText","okBttnPressed","autofocus","okText","Button","buttonid","SwitchCheckBox","chechRef","inputw","propref","inputid","checked","labeltext","ShowProgram","displaydescription","setDisplayDescription","useState","scrollingDlgRef","useRef","onClickDisplay","displayAllDescriptions","open","changeDisplayDescriptionValue","changeDisplayDes","bValue","onClickDisplayDialog","showSearch","data","titleindex","getPOfIndex","descriptionindex","description","themevalue","link","href","blankurl","channel","replace","AmppariChannel","displayitems","channelprograms","filteredchannels","selectedtyyppi","filteredchannels1","movie","sport","bshowdcurrentprograms","program","nextprogram","max","oldProgram","currenttime","AmppariShowProgram","toString","ProgramTypes","filterAfterProgramType","programtypeitems","change","mychange","getMovieOrSportChannels","channels","chcoopy","foundedPrograms","progfounded","foundmovies","foundsport","foundedChannels","Array","from","forEach","cha","_extends","pr","selectedTyyppiinindex","selecttyyppi_items","arr_selecttyyppi_items","SearchPrograms","filterAfterSearch","bSearchButtonClicked","bDisplayAllDescriptions","setDisplayAllDescriptionsTrue","textSearch","searchText","trim","getState","makeSearchChange","all_channels","index","founded","uppersearchText","toUpperCase","search_channels","bCheckShowChannelsAtSameTime","selectedchannelindex","selectedTitle","indexOf","prcopy","buttoninputw","onKeyUp","textFieldSearchChanged","ripple","raised","searchTextFromChannelsClicked","String","prototype","indexOfRegex","regex","fromIndex","str","substring","match","lastIndexOfRegex","lastIndexOf","filtercalled","Amppari","_this","milliseconds","Promise","resolve","setTimeout","removerfunctionProgramType","removerfunctionSearchProgram","removerfunctionChannelType","func","fname","store_selectedtyyppi","selday","selecteddate","month","getMonth","day","getDate","getFullYear","tvchannels","jsonch","item","getJsonChannel","name","getNextJsonArrayAfterLabel","slug","pr2","timestamp","ch","ch2","tvchannel","programs","jsonprograms","jsonpr","jsonchannel","getArrayIntoChannel","getJsonProgram","json","j","maxj","tv","programming","searchtext","foundSearchText","programchannels","jsonprogram","progdata","k","maxk","async","dayparameter","bUnderFetch","channelurl","getUrlQueryForAmppari","currentChannelSetIndex","fetched","fetch","method","headers","Accept","mode","signal","abortSignal","then","handleErrors","response","data2","INITIAL_STATE","indexEnd","JSON","parse","json2","getChannelsAndProgramsFromJsonArray","catch","error","AmppariException","Map","get","set","size","Object","fromEntries","strprorams","indStart","searchResultChannel","getJsonLabel","strprograms","channeldata","firstIndex","arrprogs","firstIndexEnd","strprogram","jsonprog","iCount","indSecondChannel","searchResultChanne","indEnd","searchResult","searchresult","getJsonNextValue","channelname","channelslug","channelpay","search_start_program","getJsonProg","searchstart","indId","strjson","getJsonLabelAndValue","getJsonNextLabel","name2","ind2","search","bStartWithStrike","iAdd","querySelectorAll","ok","status","Error","fetch_url_ampparissa","selectedaika","searchsanat","parseddate","today","checkshowdcurrentprogramsRef","fetchHtmlAmppariChannels","plusdaynumber","dayjs","plusdate","add","format","weekdayname","getDay","timeparameter","idends","days","showChannelsAtSameTime","channelSets","calculateMaxChannelSetIndex","bShowTableBorder","const_showChannelsAtSameTime","txt","txt1","txtlen","first","between","last","newvalue_first","foundedthtml","newvalue_between","newvalue_last","newvalue","currProg","currtime","nextProg","getNextProgOf","oldProgramWithNextProg","foundedChannel","nextPropgram","foundedProg","progs","prog","endtTime","endtTimeHours","getHours","currentHours","getMinutes","bAllChannels","min","Math","floor","newChannelSet","validNumber","parseInt","NaN","filterWhenUIControlsHasBeenChanged","showAllDescrRef","forceUpdate","bChange","showOneChannelRef","onech","calledfrom","path","includes","strNum","childNodes","ret2","cols","currentColInd","which","shiftKey","altKey","row","tablCntl","rows","cells","currColInd","colIndex","lenCols","currentCol","closest","key","document","activeElement","innerHTML","speakScreenReader","composedPath","divInsideOfCol","getH3OfCurrentColumn","channelText","getCurrentColumnIndex","prevcol","getPrevColumn","nextcol","getNextColumn","getElementById","divh3","nextChannelSetClicked","prevChannelSetClicked","altPlusKeyUp","section_width","hideButton","x","display","hideButtonText","html","selectedpage","currentchannel","bAllChannelsLoaded","fetch_url_telkku","http_curlserver","bind","selectChannelRef","showTableBordersRef","channelTypeRef","searchProgramRef","programTypeRef","sectionRef","sectionStyle","sectionwidth","tablesectionStyle","abortController","AbortController","store_fetcheditems","offsetWidth","aField","sleep","componentWillUnmount","aborted","abort","setStateNoneCallListeners","categories","schedules","message","labelitem","found","foundedItem","screenreaderdiv","getSectionWidthCss","divDialogStyle","tableBorderStyle","table_border_color","selectchannels","ddd","tableheaders","tabletds","tableheaders_and_rows","getTableHeadersAndTableRowsAfterChannels","altPlusKeyUpProgramHeader","cardHeader","getFetchedDate","getPlus1DayId","onClickSetDateString","getPlus1Day","color","SwitchCheckbox","showdcurrentprograms","showAllDescriptions","showOneChannel","textFieldChannelsAtSameTimeChanged","showTableBorders","buttonHidePressed","tabindex","AmppariRoute","control","loadTime","performance","timing","domContentLoadedEventEnd","navigationStart","module","exports","t","n","r","u","a","o","c","f","d","l","$","y","M","weekdays","split","months","ordinal","m","join","v","z","utcOffset","abs","date","year","clone","ceil","p","w","D","ms","Q","toLowerCase","g","S","_","O","args","arguments","b","locale","$L","utc","$u","$x","$offset","$d","test","UTC","init","$y","$M","$D","$W","$H","$m","$s","getSeconds","$ms","getMilliseconds","$utils","isValid","isSame","startOf","endOf","isAfter","isBefore","$g","unix","valueOf","getTime","toDate","apply","slice","$locale","weekStart","$set","daysInMonth","Number","round","subtract","invalidDate","meridiem","monthsShort","weekdaysMin","weekdaysShort","getTimezoneOffset","diff","toJSON","toISOString","toUTCString","extend","$i","isDayjs","en","Ls","dot","timemillisec","hours","minutes","getProgramSymbol","getPOfTitleIndex","openHtmlPage","default"],"mappings":"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","file":"7.chunk.a5176.esm.js","sourcesContent":["import { Component, Fragment } from \"preact\";\nimport style from \"./style\";\nimport Config from \"../../utils/Config\";\n// import moment from 'moment';\n//import Select from 'preact-material-components/Select';\n//import 'preact-material-components/List/style.css';\n//import 'preact-material-components/Menu/style.css';\n//import 'preact-material-components/Select/style.css';\n//import Formfield from 'preact-material-components/FormField';\n//import 'preact-material-components/Theme/style.css';\n\nimport dayjs from \"dayjs\";\nimport AmppariChannel from \"./AmppariChannel\";\n\n//if (!season) {\n//\tthrow new Error(\"Season is not defined\")\n//}\n\nexport default class ChannelTypes extends Component {\n  _mounted = false;\n  store = null;\n  unsubscribelistener = null;\n  arr_selectchanneltypes = [\"kaikki\", \"ilmaiset\", \"maksulliset\"];\n  fetcheditems = [];\n  channeltypeitems = [];\n\n  constructor(props) {\n    super(props);\n    if (Config.bDebug) {\n      console.log(\"ChannnelTypes.js\");\n      console.log(\"props\");\n      console.log(props);\n    }\n\n    this.store = props.store;\n    let today = new Date(Date.now());\n    this.state = {\n      errmsg: null,\n      selectedsuodattimet: \"kaikki\",\n      selectedsuodatinindex: 0,\n      fetcheditems: [],\n      channeltypeitems: [],\n      disabled: props.disabled,\n    };\n  }\n\n  componentDidMount() {\n    if (Config.bDebug) console.log(\"componentDidMount ChannnelTypes\");\n\n    let keys = [];\n    keys.push(\"fetchitems\");\n    this.unsubscribelistener = this.store.subscribeAttributeNameListener(\n      keys,\n      (state) => this.listenerStoreChange2(state)\n    );\n    this.props.setRemoverFunction(this.removelisteners, \"ChannelTypes\");\n    this._mounted = true;\n  }\n\n  componentWillUnmounted() {\n    this.removelisteners();\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (Config.bDebug) {\n      console.log(\"ChannnelTypes componentWillReceiveProps nextProps\");\n      console.log(nextProps);\n    }\n    if (!this._mounted) return;\n    if (\n      nextProps.disabled != undefined &&\n      nextProps.disabled != this.props.disabled\n    )\n      this.setState({ disabled: nextProps.disabled });\n  }\n\n  removelisteners = () => {\n    if (this.unsubscribelistener != null) {\n      this.unsubscribelistener();\n      this.unsubscribelistener = null;\n    }\n  };\n\n  listenerStoreChange2 = (storestate) => {\n    if (storestate === undefined || storestate === null) {\n      console.log(\"ChannnelTypes listenerStoreChange storestate\");\n      return;\n    }\n    if (!this._mounted) return;\n\n    const fetchitems = storestate.fetchitems;\n    if (fetchitems == this.state.fetchitems) return;\n\n    if (Config.bDebug) {\n      console.log(\"storestate.fetchitems change\");\n      console.log(\"storestate\");\n      console.log(storestate);\n    }\n\n    this.fetchitems = fetchitems;\n    const items = this.filterChannesAfterChannelPay();\n    this.channeltypeitems = items;\n    this.setState({ fetchitems: fetchitems });\n    this.store.setState({ channeltypeitems: items });\n  };\n\n  filterChannesAfterChannelPay = (channeltype) => {\n    //  filterChannesAfterChannelPay takes items from fetcheditems and populates: channeltypeitems,\n    let ind = null;\n    let selected = null;\n    let chtype = null;\n\n    // const fitems = this.state.fetcheditems;\n    const fitems = this.fetchitems;\n\n    if (Config.bDebug) {\n      console.log(\"filterChannesAfterChannelPay\");\n      console.log(\"channeltype\");\n      console.log(channeltype);\n      console.log(\"fitems\");\n      console.log(fitems);\n      console.log(\"fitems.size\");\n      console.log(fitems.length);\n    }\n    if (channeltype !== undefined) {\n      ind = channeltype.ind;\n      selected = channeltype.selected;\n      chtype = channeltype.channeltype;\n    } else {\n      selected = this.state.selectedsuodattimet;\n      ind = this.state.selectedsuodatinindex;\n    }\n\n    if (Config.bDebug) {\n      console.log(\"filterChannesAfterChannelPay 2\");\n      console.log(\"ind\");\n      console.log(ind);\n      console.log(\"selected\");\n      console.log(selected);\n    }\n\n    let chls = null;\n    if (fitems == null) chls = null;\n    else if (selected == undefined || selected == null) chls = fitems;\n    else {\n      if (selected == \"kaikki\") chls = fitems;\n      else {\n        let ret = null;\n        if (selected === \"ilmaiset\") {\n          ret = fitems.filter((s, i) => {\n            //\tconsole.log(\"i\");\n            //\tconsole.log(i);\n            return s.pay === false;\n          });\n        } else if (selected === \"maksulliset\") {\n          ret = fitems.filter((s, i) => {\n            //\tconsole.log(\"i\");\n            //\tconsole.log(i);\n            return s.pay === true;\n          });\n        }\n        chls = ret;\n      }\n    }\n\n    if (Config.bDebug) {\n      console.log(\"chls 2\");\n      console.log(chls);\n    }\n\n    if (Config.bDebug) {\n      console.log(\"chls - channeltypeitems\");\n      console.log(chls);\n      console.log(\"channeltypeitems.size\");\n      console.log(chls.length);\n    }\n\n    this.channeltypeitems = chls;\n\n    // let chls = this.filterFetchedItemsIntoChannelsAfterSuodin(chtype);\n    /*\n\t\tif (!bChange)\n\t\tthis.setState({\n\t\t\tselectedsuodatinindex: ind,\t\n\t\t\tselectedsuodattimet: selected,\n\t\t\tchanneltypeitems: chls\n\t\t});\n\t\telse\n\t\tthis.setState({\n\t\t\tselectedsuodatinindex: ind,\t\n\t\t\tselectedsuodattimet: selected,\n\t\t\tchanneltypeitems: chls,\n\t\t\tbCheckShowChannelsAtSameTime: true\n\t\t});\n\t\t*/\n\n    if (Config.bDebug) {\n      console.log(\"filterChannesAfterChannelPay 3\");\n      console.log(this.state);\n    }\n    return chls;\n  };\n\n  render(props, state) {\n    if (Config.bDebug) {\n      console.log(\"state\");\n      console.log(state);\n    }\n\n    // suodatus=ilmaiset,maksulliset,kaikki\n    //return <Select.Item id={i}>{child}</Select.Item>\n    let selectchanneltypes = this.arr_selectchanneltypes.map((child, i) => {\n      return (\n        <option value={child} id={i}>\n          {child}\n        </option>\n      );\n    });\n\n    return (\n      <Fragment>\n        <span>\n          <label for=\"idchanneltype\">Kanavatyyppi:</label>\n          <select\n            tabIndex=\"0\"\n            disabled={state.disabled}\n            id=\"idchanneltype\"\n            selectedIndex={this.state.selectedsuodatinindex}\n            preselected\n            outlined\n            onChange={(e) => {\n              console.log(\"e.target.target\");\n              console.log(e.target.text);\n              const ind = e.target.selectedIndex;\n              const selected =\n                this.arr_selectchanneltypes[e.target.selectedIndex];\n              let changed = {};\n              changed.ind = ind;\n              changed.selected = selected;\n              let items = this.filterChannesAfterChannelPay(changed);\n              this.setState({\n                selectedsuodatinindex: ind,\n                selectedsuodattimet: selected,\n                channeltypeitems: items,\n              });\n              this.store.setState({ channeltypeitems: items });\n            }}\n          >\n            {selectchanneltypes}\n          </select>\n        </span>\n      </Fragment>\n    );\n  }\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"mask\":\"mask__Z7FtU\",\"mydialog\":\"mydialog__SaN+F\",\"o-dialog\":\"o-dialog__fiF7E\",\"odialog\":\"odialog__C8B3T\",\"is-fullscreen\":\"is-fullscreen__PcNIc\",\"o-dialog__wrapper\":\"o-dialog__wrapper__VWE+X\",\"o-dialog__header\":\"o-dialog__header__KXdCq\",\"o-dialog__headerbtn\":\"o-dialog__headerbtn__+9beg\",\"o-dialog__close\":\"o-dialog__close__VdD1T\",\"o-dialog__title\":\"o-dialog__title__B29+7\",\"o-dialog__body\":\"o-dialog__body__doxod\",\"o-dialog__footer\":\"o-dialog__footer__YMo1O\",\"o-dialog--center\":\"o-dialog--center__5BkiG\",\"dialog-zoom-enter-active\":\"dialog-zoom-enter-active__wt5cM\",\"dialog-zoom-in\":\"dialog-zoom-in__OAnXz\",\"dialog-zoom-leave-active\":\"dialog-zoom-leave-active__HjBjW\",\"dialog-zoom-out\":\"dialog-zoom-out__RusTg\",\"mask-enter-active\":\"mask-enter-active__BFcuN\",\"mask-in\":\"mask-in__fUWQb\",\"mask-leave-active\":\"mask-leave-active__+Bk7h\",\"mask-out\":\"mask-out__QcW6a\",\"content\":\"content__c48gI\"};","import { h, Component, Fragment, createRef } from \"preact\";\nimport _uniqueId from \"lodash/uniqueId\";\nimport style from \"./Dialog.css\";\nimport css from \"./Dialog.css\";\nimport Config from \"../../utils/Config\";\n\nimport Dialog from \"preact-material-components/Dialog\";\n//import Button from \"preact-material-components/Button\";\n// import Button from \"../button/Button\";\n// import List from \"preact-material-components/List\";\nimport Card from \"preact-material-components/Card\";\n// import \"preact-material-components/List/style.css\";\n// import \"preact-material-components/Button/style.css\";\nimport \"preact-material-components/Dialog/style.css\";\n\n/**\n * This dialog class combines together preact dialog class with\n * @micro/button class, because preact material button class dies\n * not work with DialogFooter.Button alias preact Button!\n */\nclass PreactDialog extends Component {\n  dialogRef = null;\n  closeButtonRef = null;\n  channelHeader = null;\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      dialogid: _uniqueId(\"dialog-\"),\n    };\n\n    this.closeButtonRef = createRef();\n    this.dialogRef = createRef();\n    //   console.log(\"dialog constructor: dialogid=\" +this.state.dialogid)\n    // this.dialogRef = createRef();\n  }\n\n  componentDidMount() {\n    //TODO:  this.dialogRef = document.getElementById(\"dialog\" + this.state.dialogid);\n    //    this.dialogRef.open();\n  }\n\n  dialogBttnPressed = (event) => {\n    event.preventDefault();\n    //    console.log(\"dialog dialogBttnPressed: dialogRef=\" +this.dialogRef)\n    this.dialogRef.MDComponent.show();\n  };\n\n  open = () => {\n    this.dialogRef.current.MDComponent.show();\n    if (Config.bDebug) console.log(\"before closeButtonRef.current.focus\");\n    this.closeButtonRef.current.focus();\n    // this.dialogRef = document.getElementById(\"mydialog\");\n    if (Config.bDebug)\n      console.log(\"dialog componentDidMount: dialogRef=\" + this.dialogRef);\n  };\n\n  close = () => {\n    this.dialogRef.current.MDComponent.close();\n  };\n\n  cancelBttnPressed = (event) => {\n    event.preventDefault();\n    //   console.log(\"dialog cancelBttnPressed: dialogRef=\" +this.dialogRef)\n    this.dialogRef.current.MDComponent.close();\n    this.props.cancelButtonPressed(event);\n  };\n\n  okBttnPressed = (event) => {\n    event.preventDefault();\n    if (Config.bDebug)\n      console.log(\"dialog okBttnPressed: dialogRef=\" + this.dialogRef);\n    // console.log(\"this.dialogRef=\" +this.dialogRef.visible);\n    // this.dialogRef.visible = true;\n    this.dialogRef.current.MDComponent.close();\n    this.props.okButtonPressed(event);\n    // console.log(\"this.dialogRef=\" +this.dialogRef.visible);\n  };\n\n  changeThemeBttnPressed = (event) => {\n    event.preventDefault();\n    const setTheme = Omiu.setTheme;\n    setTheme(\"primary\", \"green\");\n  };\n\n  enterKeyDown = (e) => {\n    e = e || window.event;\n    let keyCode = e.keyCode || e.which;\n\n    if (Config.bDebug) console.log(\"Dialog pressed\");\n\n    let currentColInd = null;\n\n    // .item(0).innerHTML\n    switch (e.keyCode) {\n      case 13:\n        this.dialogRef.current.MDComponent.close();\n        this.props.okButtonPressed(e);\n        break;\n    }\n  };\n\n  /*\n                   <o-button type=\"primary\" onClick={this.changeThemeBttnPressed} >Kissa2</o-button>\n                    <o-button round type=\"primary\" size=\"mini\"\n                    onClick={this.dialogBttnPressed} >Dialog</o-button>\n            \n\t\t\t\t\tid={\"dialog\"+this.state.dialogid}\n    */\n\n  render(props, state) {\n    if (Config.bDebug) {\n      console.log(\"->\");\n      console.log(props);\n      console.log(state);\n      console.log(\"<-\");\n    }\n\n    return (\n      <Fragment>\n        <Dialog\n          ref={this.dialogRef}\n          role=\"dialog\"\n          id=\"dialogtheme\"\n          aria-modal=\"true\"\n          style={css.odialog}\n        >\n          <Dialog.Header lang=\"fi\" tabIndex=\"0\">\n            {props.title}\n          </Dialog.Header>\n          <Dialog.Body scrollable={true}>\n            <Card>\n              <div class=\"card-header\">\n                {props.children ? props.children : null}\n              </div>\n              <Card.Media className=\"card-media\" />\n            </Card>\n          </Dialog.Body>\n          <Dialog.Footer>\n            <div onKeyDown={this.enterKeyDown}>\n              <span></span>\n              <span slot=\"footer\" class=\"dialog-footer\">\n                {props.cancelButtonPressed !== undefined ? (\n                  <button\n                    style={\n                      \" margin: 15px;  height: 30px; background: blue; color: white;\"\n                    }\n                    id=\"cancelBtn\"\n                    tabIndex=\"0\"\n                    type=\"primary\"\n                    onClick={this.cancelBttnPressed}\n                  >\n                    {props.cancelText !== undefined\n                      ? props.cancelText\n                      : \"Cancel\"}\n                  </button>\n                ) : null}\n                {props.okButtonPressed !== undefined ? (\n                  <button\n                    id=\"okBtn\"\n                    tabIndex=\"0\"\n                    style={\n                      \" margin: 15px;  height: 30px; background: blue; color: white;\"\n                    }\n                    onClick={this.okBttnPressed}\n                    type=\"primary\"\n                    autofocus={true}\n                    ref={this.closeButtonRef}\n                  >\n                    {props.okText !== undefined ? props.okText : \"Ok\"}\n                  </button>\n                ) : null}\n              </span>\n            </div>\n          </Dialog.Footer>\n        </Dialog>\n      </Fragment>\n    );\n  }\n}\n\n// {props.children ? props.children : null}\n\nexport default PreactDialog;\n","import { h, Component, Fragment } from 'preact';\n//import style from './style.css';\n// import { styled, setup } from \"goober\";\n// import style from './Button.css';\n// import  '@omiu/button';\n// import * as css from './Dialog.css';\n\n/*\nsetup(h);\n\nconst OButton = styled(\"button\")`\nposition: relative;\nbackground: black;\nborder-radius: 10px;\n-webkit-box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);\nbox-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);\n-webkit-box-sizing: border-box;\nbox-sizing: border-box;\nwidth: 50%;\ntop: 50%;\nleft: 50%;\ntransform: translate(-50%, -50%);\n`;\n*/\n\nconst Button = (props) => {\n\n\tconst buttonid = Date.now();\n\n    /*\n\tconstructor(props)\n\t{\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t    buttonid:  Date.now()\n\t\t};\n     //   console.log(\"dialog constructor: dialogid=\" +this.state.dialogid)\n\t\t// this.dialogRef = createRef();\t\t\n\t}\n    */\n\n    /*\n\tcomponentDidMount()\n\t{\n\t//\tthis.dialogRef = document.getElementById(\"dialog\"+this.state.dialogid);\n//\tthis.dialogRef = document.getElementById(\"mydialog\");\t\n    //    console.log(\"dialog componentDidMount: dialogRef=\" +this.dialogRef)\n   //    this.dialogRef.open();\n\t}\n    */\n\n    /*\n                   <o-button type=\"primary\" onClick={this.changeThemeBttnPressed} >Kissa2</o-button>\n                    <o-button round type=\"primary\" size=\"mini\"\n                    onClick={this.dialogBttnPressed} >Dialog</o-button>\n            \n\t\t\t\t\tid={\"dialog\"+this.state.dialogid}\n    */\n\n//\trender(props, state) {\n\t\treturn(\t\n            <Fragment>\n                <button type=\"primary\" onClick={props.onClick} tabIndex=\"0\"\n                disabled={props.disabled} id={ props.id ? props.id : buttonid}\n\t\t\t\tstyle={props.style !== undefined ? props.style +\" height: 30px; background: blue; \" : \" height: 30px; background: blue; \"} \n\t\t\t\tclass={props.class !== undefined ? props.class : null} \n\t\t\t\t>{props.text}\n            </button>\t\n            </Fragment>\n\t\t);\n//\t}\n}\n\n/*\n             <o-button type=\"primary\" onClick={props.onClick} tabIndex=\"0\"\n                disabled={props.disabled}\n\t\t\t\tstyle={props.style !== undefined ? props.style : null} \n\t\t\t\tclass={props.class !== undefined ? props.class : null} \n\t\t\t\t>{props.text}\n            </o-button>\t\n   */\nexport default Button;\n","import {h, Fragment, Component, createRef, render } from 'preact';\n// import { useRef } from 'preact/hooks';\n// import { forwardRef } from 'preact/compat';\nimport Config from '../../utils/Config';\nimport './index.css';\n//import Switch from 'preact-material-components/Switch';\n//import 'preact-material-components/Switch/style.css';\n\n/**\n * This Address function is showing a programgrid or -list.\n */\n// class Address extends Component \nclass SwitchCheckBox extends Component \n// function SwitchCheckBox(props) /* = forwardRef((props, ref) => */\n{\n    constructor(props)\n\t{\n\t\tsuper(props);\n\t\tif(Config.bDebug) \n\t\t{\n\t\t\tconsole.log(\"SwitchCheckBox.js\");\n\t\t\tconsole.log(\"props\");\n\t\t\tconsole.log(props);\n\t\t}\n\n\t\tthis.state = {\n\t\t\terrmsg: null,\n\t\t}\n\t\t\n\t\tthis.chechRef = createRef();\n\t\n\t }\n\n    //const refcomp = useRef(null);\n    /*\n       <Fragment>\n\n        <Switch lang=\"fi\" tabIndex=\"0\" type=\"checkbox\" onChange={props.onChange} .\n                            ref={props.inputref === undefined ? undefined : props.inputref}                     \n                            id={props.inputid === undefined ? 'idcheckboxundef' : props.inputid}\n                            checked={props.checked === undefined ? false : props.checked}\n\n                        <input lang=\"fi\" type=\"checkbox\" onChange={props.onChange} \n                            ref={props.inputref === undefined ? undefined : props.inputref}                     \n                            id={props.inputid === undefined ? 'idcheckboxundef' : props.inputid}\n                            checked={props.checked === undefined ? false : props.checked} />\n                            <span class=\"checkmark\"></span>\n                            <label lang=\"fi\" class=\"container\" \n                        for={props.inputid === undefined ? 'idcheckboxundef' : props.inputid}\n                        id={props.inputid === undefined ? 'idcheckboxundef-label' : props.inputid+'-label'} >\n                            {props.labeltext}\n                    </label>\n                </Fragment>\n                */\n     render(props, state)\n     {\n        const inputw = \"float: none; display: inline-block; vertical-align: middle; \";\n\n        return (\n                <Fragment>\n                        <input lang=\"fi\" tabIndex=\"0\" type=\"checkbox\" onChange={props.onChange} \n                            className=\"form-check-input filled-in\" \n                            ref={props.propref} style={inputw}                    \n                            id={props.inputid === undefined ? 'idcheckboxundef' : props.inputid}\n                            checked={props.checked === undefined ? false : props.checked}\n                             />\n                         \n                            <label lang=\"fi\" style={  'margin-left: 5px;'} class=\"container\" style={inputw} \n                        for={props.inputid === undefined ? 'idcheckboxundef' : props.inputid}\n                        id={props.inputid === undefined ? 'idcheckboxundef-label' : props.inputid+'-label'} >\n                            {props.labeltext}\n                    </label>\n                </Fragment>\n        );\n     }\n}\n\nexport default SwitchCheckBox;","import { h, Fragment, Component, createRef } from \"preact\";\nimport { useState, useRef } from \"preact/hooks\";\n//import Chips from 'preact-material-components/Chips';\n//import 'preact-material-components/Chips/style.css';\n//import Card from 'preact-material-components/Card';\n//import 'preact-material-components/Card/style.css';\n//import Dialog from 'preact-material-components/Dialog';\n//import 'preact-material-components/Dialog/style.css';\n//import 'preact-material-components/Theme/style.css';\n//import Button from 'preact-material-components/Button';\n//import 'preact-material-components/Button/style.css';\n//import 'preact-material-components/Theme/style.css';\n//import Formfield from 'preact-material-components/FormField';\n//import 'preact-material-components/Checkbox/style.css';\n//import LayoutGrid from 'preact-material-components/LayoutGrid';\n//import 'preact-material-components/LayoutGrid/style.css';\n\n//import Dialog from \"../dialog/Dialog\";\nimport Dialog from \"../dialog/PreactDialog\";\nimport Config from \"../../utils/Config\";\n\n/**\n * This Address function is showing a programgrid or -list.\n */\n// class Address extends Component\nfunction ShowProgram(props) {\n  const [displaydescription, setDisplayDescription] = useState(false);\n  //   const [displayAllDescriptions, setDisplayAllDescriptions] = useState(props.displayAllDescriptions);\n  const scrollingDlgRef = useRef(null);\n\n  let divDialogStyle =\n    props.themevalue !== undefined && props.themevalue !== \"\"\n      ? \"color: #FFF; background-color: black; border-color: #FFF;\"\n      : \"color: #FFF; background-color: black; border-color: #FFF;\";\n  const inputw = \"float: none; display: inline-block; vertical-align: middle; \";\n\n  const onClickDisplay = (event) => {\n    event.preventDefault();\n    //   console.log(\"onClickDisplay\");\n    if (props.displayAllDescriptions) return;\n    if (!displaydescription)\n      //scrollingDlgRef.current.MDComponent.show();\n      scrollingDlgRef.current.open();\n      changeDisplayDescriptionValue();\n  };\n\n  const changeDisplayDescriptionValue = () => changeDisplayDes(!displaydescription);\n\n  const changeDisplayDes = (bValue) => {\n    setDisplayDescription(bValue);\n  }\n\n  const onClickDisplayDialog = (event) => {\n    event.preventDefault();\n    //    console.log(\"onClickDisplayDialog\");\n    // if (displaydescription)\n    //scrollingDlgRef.current.MDComponent.close();\n    scrollingDlgRef.current.close();\n    changeDisplayDescriptionValue();\n  };\n\n  /*\n        \tjsonitem.title = item.getElementsByTagName(\"title\")[0].childNodes[0].nodeValue;\n\t\tjsonitem.description = item.getElementsByTagName(\"description\")[0].childNodes[0].nodeValue;\n\t\tjsonitem.pubdate = item.getElementsByTagName(\"pubDate\")[0].childNodes[0].nodeValue;\n\t\tjsonitem.link =\n\n          <Chips.Chip onClick={onClickDisplay} >\n                    <Chips.Text>{data.title}</Chips.Text></Chips.Chip> : <Chips.Chip onClick={onClickDisplay}>\n                    <Chips.Text>Kissa</Chips.Text></Chips.Chip> }\n\n                     {(!displaydescription ? \n                <Button onClick={onClickDisplay} >\n                    {data.title}</Button> : <Chips.Chip onClick={onClickDisplay}>\n                    <Chips.Text>Kissa</Chips.Text></Chips.Chip>) }\n\n                                 <p>Count: {count}</p>\n            <button onClick={increment}>Increment</button>\n            <button onClick={decrement}>Decrement</button>\n\n                <Chips.Text>{props.data.title}</Chips.Text></Chips.Chip> \n        */\n\n  const openHtmlPage = (event) => {\n    console.log(\"openHtmlPage\");\n    event.preventDefault();\n    let blankurl = event.target.href;\n    console.log(\"blankurl\");\n    console.log(blankurl);\n    // window.open(blankurl, '_blank', \"Telkussa\", \"location=no\");\n    window.open(blankurl, \"_blank\", \"Telkussa\");\n    return false;\n  };\n\n  const enterKeyDown = (e) => {\n    e = e || window.event;\n    let keyCode = e.keyCode || e.which;\n    console.log(\"pressed\");\n\n    let currentColInd = null;\n\n    // .item(0).innerHTML\n    switch (e.keyCode) {\n      case 13:\n        onClickDisplay(e);\n        break;\n    }\n  };\n\n  const onEnterDisplayDialog = (e) => {\n    if (e.keyCode === 13) onClickDisplayDialog(e);\n  };\n\n  return (\n    <div>\n      <div>\n        <div onClick={onClickDisplay} onKeyDown={enterKeyDown}>\n          <p lang=\"fi\" tabIndex=\"0\">\n            <b>\n              {props.showSearch && props.data.titleindex != undefined\n                ? props.getPOfIndex(props.data.titleindex, props.data.title)\n                : props.data.title}\n            </b>\n          </p>\n          {props.displayAllDescriptions ? (\n            <Fragment>\n              <p lang=\"fi\" tabIndex=\"0\">\n                {props.showSearch && props.data.descriptionindex != undefined\n                  ? props.getPOfIndex(\n                      props.data.descriptionindex,\n                      props.data.description,\n                      props.themevalue\n                    )\n                  : props.data.description}\n              </p>\n              {props.data.link != undefined || props.data.link != null ? (\n                <p>\n                  <a lang=\"fi\" href={props.data.link} onClick={openHtmlPage}>\n                    ohjelmalinkki\n                  </a>\n                </p>\n              ) : null}\n            </Fragment>\n          ) : null}\n        </div>\n        <Dialog\n          role=\"dialog\"\n          id=\"telkkudialogshowporg\"\n          aria-labelledby=\"h1loading\"\n          aria-modal=\"false\"\n          lang=\"fi\"\n          ref={scrollingDlgRef}\n          title={props.channel ? props.channel.replace(\"Telkussa: \", \"\") : \"\"}\n          okButtonPressed={onClickDisplayDialog}\n          okText=\"Sulje\"\n          scrollable={true}\n          themevalue={props.themevalue}\n        >\n          <div class=\"card-header\" style={divDialogStyle}>\n            <h3\n              lang=\"fi\"\n              id=\"h3program\"\n              tabIndex=\"0\"\n              class=\" mdc-typography--title\"\n            >\n              {props.data.title}\n            </h3>\n            <h3 lang=\"fi\" tabIndex=\"0\" class=\" mdc-typography--title\">\n              {props.data.description}\n            </h3>\n            <br />\n          </div>\n        </Dialog>\n      </div>\n    </div>\n  );\n}\n\n/*\n                    <Dialog role=\"dialog\" id=\"dialogtheme\" aria-modal=\"true\"\n                               ref={scrollingDlgRef}>\n                                <Dialog.Header lang=\"fi\" tabIndex=\"0\">{props.channel ? \n                                props.channel.replace(\"Telkussa: \", \"\") : ''}</Dialog.Header>\n                                <Dialog.Body scrollable={true}>\n                                  <Card><div class=\"card-header\">\n                                     <h3 lang=\"fi\" id=\"h3program\" tabIndex=\"0\" class=\" mdc-typography--title\">\n                                         {props.data.title}</h3>\n                                     <h3 lang=\"fi\" tabIndex=\"0\" class=\" mdc-typography--title\">\n                                         {props.data.description}</h3><br/>\n                                     </div>\n                                     <Card.Media className=\"card-media\" />\n                                  </Card>\n                                </Dialog.Body>\n                                <Dialog.Footer>\n                                    <Dialog.FooterButton tabIndex=\"0\" \n                                    onKeyDown={onEnterDisplayDialog} \n                                    onCancel={onClickDisplayDialog} onAccept={onClickDisplayDialog}\n                                    cancel={true} >Sulje</Dialog.FooterButton>\n                                </Dialog.Footer>\n                    </Dialog> \n*/\n\nexport default ShowProgram;\n","    \n//import 'preact-material-components/Theme/style.css';\nimport AmppariShowProgram from './AmppariShowProgram';\n\n/**\n * This Address function is showing a programgrid or -list.\n */\n// class Address extends Component \nfunction AmppariChannel(props)\n{\n       // const cssDark = useContext(CssDark);\n        let displayitems = null;\n        /*\n        \tjsonitem.title = item.getElementsByTagName(\"title\")[0].childNodes[0].nodeValue;\n\t\tjsonitem.description = item.getElementsByTagName(\"description\")[0].childNodes[0].nodeValue;\n\t\tjsonitem.pubdate = item.getElementsByTagName(\"pubDate\")[0].childNodes[0].nodeValue;\n\t\tjsonitem.link =\n        */\n        if (props.data.channelprograms !== null)\n        {\n            let filteredchannels = props.data.channelprograms;\n            if (props.selectedtyyppi !== undefined && props.selectedtyyppi !== 'kaikki')\n            {\n                if (props.selectedtyyppi === 'elokuvat')\n                {\n                    let filteredchannels1 = filteredchannels.filter( (s, i) =>\n\t\t\t\t\t{ \n\t\t\t\t\t//\tconsole.log(\"i\");\n\t\t\t\t\t//\tconsole.log(i);\n\t\t\t\t\t\treturn s.movie == true \n\t\t\t\t\t} );\n                    filteredchannels = filteredchannels1;\n                }\n                else\n                if (props.selectedtyyppi === 'urheilu')\n                {\n                    let filteredchannels1 = filteredchannels.filter( (s, i) =>\n\t\t\t\t\t{ \n\t\t\t\t\t//\tconsole.log(\"i\");\n\t\t\t\t\t//\tconsole.log(i);\n\t\t\t\t\t\treturn s.sport === true \n\t\t\t\t\t} );\n                    filteredchannels = filteredchannels1;\n                }\n            }\n            \n            if (props.bshowdcurrentprograms && filteredchannels)\n            {\n                let i = 0, max = filteredchannels.length;\n                let program, nextprogram;\n                let filteredchannels1 = [];\n                for(i = 0; i < max; i++)\n                {\n                    program = filteredchannels[i];\n                    nextprogram = null;\n                    if ((i+1) < max)\n                        nextprogram = filteredchannels[i+1];\n                    if (!props.oldProgram(program, props.currenttime, nextprogram))\n                        filteredchannels1.push(program);\n                }\n                filteredchannels = filteredchannels1;\n            }\n\n            displayitems = filteredchannels.map((program, i) => {\n\t\t\t\treturn <AmppariShowProgram id={i} data={program}\n                    displayAllDescriptions={props.displayAllDescriptions}\n                    themevalue={props.themevalue}\n                    getPOfIndex={props.getPOfIndex}\n                    showSearch={props.showSearch == undefined ? false \n                        : props.showSearch}\n                    channel={props.data.title.toString()} />;\n\t\t\t});\n        }\n\n        return ( \n            <div>\n            <h3 tabIndex=\"0\" lang=\"fi\" aria-label={props.data.title}>\n                {props.showSearch && \n\t\t\t\t\tprops.data.titleindex != undefined\n\t\t\t\t\t? props.getPOfIndex(props.data.titleindex, \n                    props.data.title, props.themevalue) : props.data.title}</h3>\n            <div>{displayitems}</div>\n            </div>\n          );\n}\n\nexport default AmppariChannel;","// extracted by mini-css-extract-plugin\nexport default {\"home\":\"home__uUe1w\",\"cardHeader\":\"cardHeader__x2VlE\",\"cardBody\":\"cardBody__wlgxk\"};","import { h, Component, Fragment } from \"preact\";\nimport style from \"./style\";\nimport Config from \"../../utils/Config\";\n// import moment from 'moment';\n//import Select from 'preact-material-components/Select';\n//import 'preact-material-components/List/style.css';\n//import 'preact-material-components/Menu/style.css';\n//import 'preact-material-components/Select/style.css';\n//import Formfield from 'preact-material-components/FormField';\n//import 'preact-material-components/Theme/style.css';\n\nimport dayjs from \"dayjs\";\n//import AmppariChannel from './AmppariChannel';\n\n//if (!season) {\n//\tthrow new Error(\"Season is not defined\")\n//}\n\nexport default class ProgramTypes extends Component {\n  _mounted = false;\n  store = null;\n  unsubscribelistener = null;\n  arr_selecttyyppi_items = [\"kaikki\", \"elokuvat\", \"urheilu\"];\n  channeltypeitems = [];\n  programtypeitems = [];\n\n  constructor(props) {\n    super(props);\n    if (Config.bDebug) {\n      console.log(\"ProgramTypes.js\");\n      console.log(\"props\");\n      console.log(props);\n    }\n\n    this.store = props.store;\n    let today = new Date(Date.now());\n    this.state = {\n      errmsg: null,\n      selectedTyyppiinindex: 0,\n\n      disabled: props.disabled,\n    };\n  }\n\n  componentDidMount() {\n    if (Config.bDebug) console.log(\"componentDidMount ProgramTypes\");\n    //  this.unsubscribelistener = this.store.subscribe( state => this.listenerStoreChange2(state) );\n    let keys = [];\n    keys.push(\"channeltypeitems\");\n    this.unsubscribelistener = this.store.subscribeAttributeNameListener(\n      keys,\n      (state) => this.listenerStoreChange2(state)\n    );\n    this.props.setRemoverFunction(this.removelisteners, \"ProgramTypes\");\n    this._mounted = true;\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (Config.bDebug) {\n      console.log(\"ProgramTypes componentWillReceiveProps nextProps\");\n      console.log(nextProps);\n    }\n    if (!this._mounted) return;\n    if (\n      nextProps.disabled != undefined &&\n      nextProps.disabled != this.props.disabled\n    )\n      this.setState({ disabled: nextProps.disabled });\n  }\n\n  removelisteners = () => {\n    if (this.unsubscribelistener != null) {\n      this.unsubscribelistener();\n      this.unsubscribelistener = null;\n    }\n  };\n\n  listenerStoreChange2 = (storestate) => {\n    if (Config.bDebug) {\n      console.log(\"ProgramTypes listenerStoreChange2\");\n      console.log(storestate);\n    }\n    if (storestate === undefined || storestate === null) {\n      if (Config.bDebug)\n        console.log(\"ChannnelTypes listenerStoreChange storestate\");\n      return;\n    }\n    if (!this._mounted) return;\n\n    const fetchitems = storestate.channeltypeitems;\n    if (fetchitems == this.state.channeltypeitems) return;\n\n    if (Config.bDebug) {\n      console.log(\"storestate.channeltypeitems change\");\n      console.log(\"storestate\");\n      console.log(storestate);\n    }\n\n    this.channeltypeitems = fetchitems;\n    this.setState({ channeltypeitems: fetchitems });\n    const items = this.filterAfterProgramType();\n    this.store.setState({ programtypeitems: items });\n  };\n\n  componentWillUnmounted() {\n    this.removelisteners();\n  }\n\n  filterAfterProgramType = (change) => {\n    // if change parameter is undefined, then take value from state!\n    // filterAfterProgramType takes items from channeltypeitems and populates: programtypeitems\n    //         and/or channels if there is no search,\n\n    let ind = null;\n    let mychange = null;\n    if (change == undefined) mychange = this.state.selectedtyyppi;\n    else {\n      ind = change.ind;\n      mychange = change.selected;\n    }\n\n    const fitems = this.channeltypeitems;\n    if (Config.bDebug) {\n      console.log(\"filterAfterProgramType channeltypeitems\");\n      console.log(this.channeltypeitems);\n      console.log(\"channeltypeitems.length\");\n      console.log(fitems.length);\n    }\n\n    let items = fitems;\n    if (mychange == \"kaikki\") items = fitems;\n    else if (mychange === \"elokuvat\") {\n      items = this.getMovieOrSportChannels(mychange);\n    } else if (mychange === \"urheilu\") {\n      items = this.getMovieOrSportChannels(mychange);\n    }\n\n    this.programtypeitems = items;\n    this.channels = items;\n    if (Config.bDebug) {\n      console.log(\"programtypeitems\");\n      console.log(this.programtypeitems);\n      console.log(\"programtypeitems.length\");\n      console.log(this.programtypeitems.length);\n    }\n    /*\t\t\n\t\tif (change !== undefined)\n\t\t\tthis.setState({ programtypeitems: items,\n\t\t\t\tselectedTyyppiinindex: ind,\n\t\t\t\tselectedtyyppi: selected\n\t\t\t\t});\n\t\telse\n\t\t\tthis.setState({ programtypeitems: items\t});\n\t\t\t*/\n\n    // { fetcheditems: data, channels: data,\n    //\tbUnderFetch: false, selectedsuodattimet: 'kaikki',\n    //\t\tselectedtyyppi: 'kaikki', selectedTyyppiinindex: 0,\n    //\t\tselectedsuodatinindex: 0 }\n    return items;\n  };\n\n  getMovieOrSportChannels = (selected) => {\n    const fitems = this.channeltypeitems;\n    if (fitems == null) return null;\n    if (selected == undefined || selected == null) return null;\n    let ret = null;\n    let foundmovies = selected === \"elokuvat\";\n    let foundsport = selected === \"urheilu\";\n    let chcoopy, foundedPrograms, progfounded;\n    let foundedChannels = [];\n\n    Array.from(fitems).forEach((cha) => {\n      if (cha === undefined) return;\n      chcoopy = {};\n      Object.assign(chcoopy, cha);\n      /*\n\t\t\tif (Config.bDebug)\n\t\t\t{\n\t\t\t\tconsole.log(\"chcoopy\");\n\t\t\t\tconsole.log(chcoopy);\n\t\t\t\tconsole.log(\"chcoopy.channelprograms\");\n\t\t\t\tconsole.log(chcoopy.channelprograms);\n\t\t\t}\n\t\t\t*/\n      foundedPrograms = [];\n      progfounded = false;\n\n      let prcopy = null;\n      Array.from(chcoopy.channelprograms).forEach((pr) => {\n        // cha.channelprograms.forEach(pr, i => {\n        if (pr === undefined) return;\n        if (foundmovies && pr.movie) {\n          progfounded = true;\n          foundedPrograms.push(pr);\n        } else if (foundsport && pr.sport) {\n          progfounded = true;\n          foundedPrograms.push(pr);\n        }\n      });\n\n      if (progfounded) {\n        if (foundedPrograms != null && foundedPrograms.length != 0) {\n          chcoopy.channelprograms = foundedPrograms;\n          foundedChannels.push(chcoopy);\n        }\n      }\n    });\n\n    return foundedChannels;\n  };\n\n  render(props, state) {\n    if (Config.bDebug) {\n      console.log(\"state\");\n      console.log(state);\n    }\n\n    // \t\t\treturn <Select.Item id={i}>{child}</Select.Item>\n    let selecttyyppi_items = this.arr_selecttyyppi_items.map((child, i) => {\n      return (\n        <option id={i} value={child}>\n          {child}\n        </option>\n      );\n    });\n\n    return (\n      <Fragment>\n        <span>\n          <label for=\"idprogramtype\">Ohjelmatyyppi:</label>\n          <select\n            tabIndex=\"0\"\n            id=\"idprogramtype\"\n            disabled={state.disabled}\n            selectedIndex={this.state.selectedTyyppiinindex}\n            preselected\n            outlined\n            onChange={(e) => {\n              console.log(\"e.target.target\");\n              console.log(e.target.text);\n              const ind = e.target.selectedIndex;\n              const selected = this.arr_selecttyyppi_items[ind];\n              let changed = {};\n              changed.ind = ind;\n              changed.selected = selected;\n              const items = this.filterAfterProgramType(changed);\n              this.setState({\n                selectedTyyppiinindex: ind,\n                selectedtyyppi: selected,\n                channels: items,\n              });\n              this.store.setState({\n                programtypeitems: items,\n                selectedtyyppi: selected,\n              });\n            }}\n          >\n            {selecttyyppi_items}\n          </select>\n        </span>\n      </Fragment>\n    );\n  }\n}\n","import { h, Component, Fragment } from \"preact\";\nimport style from \"./style\";\nimport Config from \"../../utils/Config\";\n// import moment from 'moment';\n//import Button from 'preact-material-components/Button';\nimport Button from \"../button/Button\";\n//import 'preact-material-components/Button/style.css';\n//import TextField from 'preact-material-components/TextField';\n//import 'preact-material-components/TextField/style.css';\n//import 'preact-material-components/Theme/style.css';\n//import Formfield from 'preact-material-components/FormField';\n//import 'preact-material-components/Theme/style.css';\n\nimport dayjs from \"dayjs\";\nimport AmppariChannel from \"./AmppariChannel\";\n\nexport default class SearchPrograms extends Component {\n  _mounted = false;\n  store = null;\n  unsubscribelistener = null;\n  programtypeitems = [];\n  textSearch = null;\n\n  constructor(props) {\n    super(props);\n    if (Config.bDebug) {\n      console.log(\"SearchPrograms.js\");\n      console.log(\"props\");\n      console.log(props);\n    }\n\n    this.store = props.store;\n    let today = new Date(Date.now());\n    this.state = {\n      errmsg: null,\n      programtypeitems: [],\n      channeltypeitems: [],\n      textSearch: null,\n      bDisplayAllDescriptions: false,\n      disabled: props.disabled,\n    };\n  }\n\n  componentDidMount() {\n    if (Config.bDebug) console.log(\"componentDidMount SearchPrograms\");\n\n    let keys = [];\n    keys.push(\"programtypeitems\");\n    this.unsubscribelistener = this.store.subscribeAttributeNameListener(\n      keys,\n      (state) => this.listenerStoreChange2(state)\n    );\n    this.props.setRemoverFunction(this.removelisteners, \"SearchPrograms\");\n    this._mounted = true;\n  }\n\n  componentWillUnmounted() {\n    this.removelisteners();\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (Config.bDebug) {\n      console.log(\"SearchPrograms componentWillReceiveProps nextProps\");\n      console.log(nextProps);\n    }\n    if (!this._mounted) return;\n    if (\n      nextProps.disabled != undefined &&\n      nextProps.disabled != null &&\n      nextProps.disabled != this.props.disabled\n    )\n      this.setState({ disabled: nextProps.disabled });\n  }\n\n  removelisteners = () => {\n    if (this.unsubscribelistener != null) {\n      this.unsubscribelistener();\n      this.unsubscribelistener = null;\n    }\n  };\n\n  listenerStoreChange2 = (storestate) => {\n    if (Config.bDebug) {\n      console.log(\"SearchPrograms listenerStoreChange2\");\n      console.log(storestate);\n    }\n    if (storestate === undefined || storestate === null) {\n      console.log(\"SearchPrograms listenerStoreChange storestate\");\n      return;\n    }\n    if (!this._mounted) return;\n\n    const programtypeitems = storestate.programtypeitems;\n    if (programtypeitems == undefined || programtypeitems == null) return;\n    if (programtypeitems == this.state.programtypeitems) return;\n\n    /*\n\t\tif (Config.bDebug)\n\t\t{\n\t\t\tconsole.log(\"storestate change\");\n\t\t\tconsole.log(\"storestate\");\n\t\t\tconsole.log(storestate);\n\t\t}\n\t\t*/\n\n    this.programtypeitems = programtypeitems;\n    /*\n\t\tconsole.log(\"before programtypeitems\");\n\t\tconsole.log(programtypeitems);\n\t\t*/\n    const items = this.filterAfterSearch();\n    this.setState({ programtypeitems: programtypeitems });\n    let bSearchButtonClicked = false;\n    let bDisplayAllDescriptions = false;\n    if (items != this.programtypeitems) {\n      bSearchButtonClicked = true;\n      bDisplayAllDescriptions = true;\n      this.props.setDisplayAllDescriptionsTrue(this.textSearch);\n    }\n    /*\n\t\tconsole.log(\"before store channels\");\n\t\tconsole.log(items);\n\t\t*/\n    this.store.setState({\n      channels: items,\n      bSearchButtonClicked: bSearchButtonClicked,\n      textSearch: this.textSearch,\n      bDisplayAllDescriptions: bDisplayAllDescriptions,\n    });\n  };\n\n  searchTextFromChannelsClicked = (event) => {\n    event.preventDefault();\n    if (Config.bDebug) {\n      console.log(\"searchTextFromChannelsClicked\");\n    }\n\n    const searchText = this.textSearch;\n    if (Config.bDebug) {\n      console.log(\"searchText 2 \");\n      console.log(searchText);\n    }\n    if (\n      searchText == undefined ||\n      searchText == null ||\n      searchText.trim().length == 0\n    )\n      return;\n    // to start make indirect the search:\n    if (Config.bDebug) {\n      console.log(\"searchTextFromChannelsClicked 2 \");\n    }\n\n    console.log(\"before programtypeitems filter\");\n    console.log(this.programtypeitems);\n    this.programtypeitems = this.state.programtypeitems;\n    this.setState({ bSearchButtonClicked: true });\n    const items = this.filterAfterSearch(true);\n    let bSearchButtonClicked = false;\n    let bDisplayAllDescriptions = false;\n    if (items != this.programtypeitems) {\n      bSearchButtonClicked = true;\n      bDisplayAllDescriptions = true;\n      this.props.setDisplayAllDescriptionsTrue(this.textSearch);\n    }\n    this.setState({\n      bSearchButtonClicked: true,\n      bDisplayAllDescriptions: true,\n    });\n    console.log(\"before store channels\");\n    console.log(items);\n    this.store.setState({\n      channels: items,\n      bSearchButtonClicked: bSearchButtonClicked,\n      textSearch: this.textSearch,\n      bDisplayAllDescriptions: true,\n    });\n    console.log(\"after store\");\n    console.log(this.store.getState());\n    // this.forceUpdate();\n  };\n\n  makeSearchChange = (change) => {\n    const bSearch = this.state.bSearchButtonClicked;\n    if (\n      /* bSearch && */ change === undefined ||\n      change === null ||\n      change.toString().trim().length == 0\n    ) {\n      this.textSearch = null;\n      this.setState({ textSearch: null, bSearchButtonClicked: false });\n      this.store.setState({\n        channels: this.programtypeitems,\n        bSearchButtonClicked: false,\n        textSearch: null,\n        bDisplayAllDescriptions: false,\n      });\n    } else this.textSearch = change;\n  };\n\n  textFieldSearchChanged = (event) => {\n    event.preventDefault();\n    const value = event.target.value;\n    if (Config.bDebug) {\n      console.log(\"textFieldSearchChanged\");\n      console.log(value);\n    }\n    this.makeSearchChange(value);\n  };\n\n  filterAfterSearch = (change) => {\n    // if change parameter is undefined, then take value from state!\n    // filterAfterSearch takes items from programtypeitems and populates: channels if there is a\n    // ongoing search.\n    let mychange = null;\n    if (change == undefined) mychange = this.state.bSearchButtonClicked;\n    else {\n      mychange = change;\n    }\n\n    let bAllChannels = false;\n    let foundedChannels = [];\n    let foundedPrograms = [];\n\n    if (Config.bDebug) {\n      console.log(\"filterAfterSearch mychange\");\n      console.log(mychange);\n    }\n\n    this.channels = this.programtypeitems;\n    if (mychange !== undefined && mychange !== null && mychange) {\n      let all_channels = this.channels;\n      //let all_channels = this.channels;\n      if (Config.bDebug) {\n        console.log(\"all_channels\");\n        console.log(all_channels);\n        console.log(\"all_channels.length\");\n        console.log(all_channels.length);\n      }\n\n      if (all_channels == null) {\n        return null; // this.setState({ bSearchButtonClicked: false, channels: null});\n      } else {\n        // const searchText = this.state.textSearch;\n        const searchText = this.textSearch;\n        if (Config.bDebug) {\n          console.log(\"searchText\");\n          console.log(searchText);\n        }\n        if (searchText == null || searchText.toString().trim().length == 0) {\n          //\t\t\t\t\tthis.setState({ bSearchButtonClicked: false,\n          //\t\t\t\t\t\tchannels: all_channels});\n        } else {\n          let foundedChannelsTitle = null;\n          let index = -1;\n          let founded = false;\n          let progfounded = false;\n          let uppersearchText = searchText.toUpperCase();\n          let chcoopy = {};\n\n          let search_channels = all_channels;\n          if (\n            this.state.bCheckShowChannelsAtSameTime &&\n            this.state.selectedchannelindex != -1\n          ) {\n            console.log(\"filter search bCheckShowChannelsAtSameTime\");\n            let selectedTitle =\n              search_channels[this.state.selectedchannelindex].title;\n            let filteredchannels = search_channels.filter((s, i) => {\n              //\tconsole.log(\"i\");\n              //\tconsole.log(i);\n              return s.title === selectedTitle;\n            });\n            search_channels = filteredchannels;\n          }\n\n          if (Config.bDebug) {\n            console.log(\"search_channels\");\n            console.log(search_channels);\n          }\n\n          Array.from(search_channels).forEach((cha) => {\n            chcoopy = {};\n            index = -1;\n            founded = false;\n            if (cha === undefined) return;\n            // this.state.channels.forEach(cha, i => {\n            Object.assign(chcoopy, cha);\n            /*\n\t\t\t\t\t\tif (Config.bDebug)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tconsole.log(\"chcoopy\");\n\t\t\t\t\t\t\tconsole.log(chcoopy);\n\t\t\t\t\t\t\tconsole.log(\"chcoopy.channelprograms\");\n\t\t\t\t\t\t\tconsole.log(chcoopy.channelprograms);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t*/\n            index = chcoopy.title\n              ? chcoopy.title.toUpperCase().indexOf(uppersearchText)\n              : -1;\n            if (index != -1) {\n              chcoopy.titleindex = index;\n              founded = true;\n              if (Config.bDebug) {\n                console.log(\"founded channel title chcoopy\");\n                console.log(chcoopy);\n              }\n            }\n            foundedPrograms = [];\n\n            let prcopy = null;\n            Array.from(chcoopy.channelprograms).forEach((pr) => {\n              // cha.channelprograms.forEach(pr, i => {\n              progfounded = false;\n              prcopy = null;\n              index = pr.title\n                ? pr.title.toString().toUpperCase().indexOf(uppersearchText)\n                : -1;\n              if (index != -1) {\n                if (prcopy == null) {\n                  prcopy = {};\n                  Object.assign(prcopy, pr);\n                }\n                prcopy.titleindex = index;\n                /*\n\t\t\t\t\t\t\t\tprcopy.title = pr.title;\n\t\t\t\t\t\t\t\tprcopy.description = pr.description;\n\t\t\t\t\t\t\t\tprcopy.channel  = pr.channel;\n\t\t\t\t\t\t\t\tprcopy.id  = pr.id;\n\t\t\t\t\t\t\t\tprcopy.movie  = pr.movie;\n\t\t\t\t\t\t\t\tprcopy.sport  = pr.sport;\n\t\t\t\t\t\t\t\tprcopy.timestamp  = pr.timestamp;\t\n\t\t\t\t\t\t\t\t*/\n\n                founded = true;\n                progfounded = true;\n                if (Config.bDebug) {\n                  console.log(\"founded program title\");\n                  console.log(prcopy);\n                }\n              }\n              index = pr.description\n                ? pr.description\n                    .toString()\n                    .toUpperCase()\n                    .indexOf(uppersearchText)\n                : -1;\n              if (index != -1) {\n                if (prcopy == null) {\n                  prcopy = {};\n                  Object.assign(prcopy, pr);\n                }\n                prcopy.descriptionindex = index;\n                founded = true;\n                /*\n\t\t\t\t\t\t\t\tprcopy.title = pr.title;\n\t\t\t\t\t\t\t\tprcopy.description = pr.description;\n\t\t\t\t\t\t\t\tprcopy.channel  = pr.channel;\n\t\t\t\t\t\t\t\tprcopy.id  = pr.id;\n\t\t\t\t\t\t\t\tprcopy.movie  = pr.movie;\n\t\t\t\t\t\t\t\tprcopy.sport  = pr.sport;\n\t\t\t\t\t\t\t\tprcopy.timestamp  = pr.timestamp;\n\t\t\t\t\t\t\t\t*/\n\n                progfounded = true;\n                if (Config.bDebug) {\n                  console.log(\"founded program description\");\n                  console.log(prcopy);\n                }\n              }\n              if (progfounded) foundedPrograms.push(prcopy);\n            });\n\n            if (founded) {\n              if (foundedPrograms != null && foundedPrograms.length != 0)\n                chcoopy.channelprograms = foundedPrograms;\n              else chcoopy.channelprograms = cha.channelprograms;\n              foundedChannels.push(chcoopy);\n            }\n          });\n\n          if (foundedChannels == null || foundedChannels.length == 0) {\n            // if (change == undefined)\n            // this.setState({ bSearchButtonClicked: false,\n            //\tchannels: null});\n            this.channels = null;\n          } else {\n            if (Config.bDebug) {\n              console.log(\"foundedChannels\");\n              console.log(this.foundedChannels);\n              console.log(\"foundedChannels.length\");\n              console.log(foundedChannels.length);\n            }\n            /*\n\t\t\t\t\t\tthis.setState({ bSearchButtonClicked: true, \n\t\t\t\t\t\t\tchannels: foundedChannels});\n\t\t\t\t\t\t\t*/\n            this.channels = foundedChannels;\n            return foundedChannels;\n          }\n        }\n      }\n    } else {\n      //\t\t\tthis.setState({ bSearchButtonClicked: false,\n      //\t\t\t\tchannels: this.state.programtypeitems });\n    }\n    return this.channels;\n  };\n\n  render(props, state) {\n    if (Config.bDebug) {\n      console.log(\"state\");\n      console.log(state);\n    }\n\n    const inputw =\n      \"float: none; display: inline-block; vertical-align: middle; \";\n    const buttoninputw =\n      \"float: none; display: inline-block; vertical-align: middle; \" +\n      (props.themevalue !== undefined && props.themevalue !== \"\"\n        ? \"\"\n        : \" color: white; \");\n\n    return (\n      <Fragment>\n        <span>\n          <label for=\"idsearchvalue\" style={inputw}>\n            Etsi tekstiä ohjelmista:\n          </label>\n          <input\n            type=\"text\"\n            tabIndex=\"0\"\n            id=\"idsearchvalue\"\n            disabled={state.disabled}\n            onKeyUp={this.textFieldSearchChanged}\n            style={\" width: 30%;\" + inputw}\n          />\n          <space> </space>\n          <Button\n            tabIndex=\"0\"\n            ripple\n            raised\n            tabIndex=\"0\"\n            disabled={state.disabled}\n            style={buttoninputw}\n            onClick={this.searchTextFromChannelsClicked}\n            aria-label=\"Hae\"\n            text=\"Hae\"\n          ></Button>\n        </span>\n      </Fragment>\n    );\n  }\n}\n","import { h, Component, createRef, Fragment } from \"preact\";\n\n//import Card from 'preact-material-components/Card';\n//import 'preact-material-components/Card/style.css';\n//import 'preact-material-components/Button/style.css';\nimport AbortController from \"abort-controller\";\nimport style from \"./style\";\nimport Config from \"../../utils/Config\";\n// import fetchJsonp from 'fetch-jsonp';\n// import moment from 'moment';\n//import Select from 'preact-material-components/Select';\n//import 'preact-material-components/List/style.css';\n//import 'preact-material-components/Menu/style.css';\n//import 'preact-material-components/Sele_ct/style.css';\n// import Checkbox from 'preact-material-components/Checkbox';\n//import Formfield from 'preact-material-components/FormField';\n//import Button from 'preact-material-components/Button';\n//import 'preact-material-components/Button/style.css';\n//import TextField from 'preact-material-components/TextField';\n//import 'preact-material-components/TextField/style.css';\n//import 'preact-material-components/Theme/style.css';\n\nimport Button from \"../button/Button\";\n\nimport dayjs from \"dayjs\";\nimport AmppariChannel from \"./AmppariChannel\";\nimport ChannelTypes from \"./ChannelTypes\";\nimport ProgramTypes from \"./ProgramTypes\";\nimport SearchPrograms from \"./SearchPrograms\";\nimport SwitchCheckbox from \"../checkbox/CheckBox\";\n\n// import store from '../../utils/store';\n\nString.prototype.indexOfRegex = function (regex, fromIndex) {\n  var str = fromIndex ? this.substring(fromIndex) : this;\n  var match = str.match(regex);\n  return match ? str.indexOf(match[0]) + fromIndex : -1;\n};\n\nString.prototype.lastIndexOfRegex = function (regex, fromIndex) {\n  var str = fromIndex ? this.substring(0, fromIndex) : this;\n  var match = str.match(regex);\n  return match ? str.lastIndexOf(match[match.length - 1]) : -1;\n};\n\nconst filtercalled = {\n  PROGRAMTYPE: \"programtype\",\n  CHANNELTYPE: \"channeltype\",\n  SEARCHCHANE: \"searchchange\",\n  MAKESEARCH: \"makesearch\",\n};\n\n//let season = seasons.SPakRING\n//if (!season) {\n//\tthrow new Error(\"Season is not defined\")\n//}\n\nexport default class Amppari extends Component {\n  store = null;\n  unsubscribelistener = null;\n  fetch_url_telkku = null;\n  fetch_url_ampparissa = null;\n  arr_selecttyyppi_items = [\"kaikki\", \"elokuvat\", \"urheilu\"];\n  arr_selectchanneltypes = [\"kaikki\", \"ilmaiset\", \"maksulliset\"];\n  ilmaisetchannelnames = [\n    \"Yle TV1\",\n    \"Yle TV2\",\n    \"MTV3\",\n    \"Nelonen\",\n    \"Yle Teema Fem\",\n    \"Sub\",\n    \"TV Viisi\",\n    \"Liv\",\n    \"Jim\",\n    \"Kutonen\",\n    \"TLC\",\n    \"Fox\",\n    \"Ava\",\n    \"Hero\",\n    \"alfatv\",\n    \"frii\",\n    \"National Geoprafic\",\n  ];\n  search_start_program = '[\"^2\",';\n  search_end_program = /\\]\\](,*)/gi;\n  showAllDescrRef = null;\n  showOneChannelRef = null;\n  selectChannelRef = null;\n  const_showChannelsAtSameTime = 10;\n  showTableBordersRef = null;\n  channelTypeRef = null;\n  searchProgramRef = null;\n  programTypeRef = null;\n  tablCntl = null;\n\n  fetcheditems = [];\n  channeltypeitems = [];\n  programtypeitems = [];\n  channels = [];\n  textSearch = null;\n  _mounted = false;\n\n  removerfunctionProgramType = null;\n  removerfunctionSearchProgram = null;\n  removerfunctionChannelType = null;\n  checkshowdcurrentprogramsRef = null;\n  bUnderFetch = false;\n  sectionStyle = null;\n  tablesectionStyle = null;\n  sectionRef = null;\n  section_width = null;\n\n  constructor(props) {\n    super(props);\n    if (Config.bDebug) {\n      console.log(\"Amppari.js\");\n      console.log(\"props\");\n      console.log(props);\n    }\n\n    this.store = props.store;\n    let today = new Date(Date.now());\n    this.state = {\n      errmsg: null,\n      html: null,\n      selecteddate: null,\n      selectedaika: \"paiva\",\n      selectedsuodattimet: \"kaikki\",\n      selectedtyyppi: \"kaikki\",\n      selectedTyyppiinindex: 0,\n      selectedsuodatinindex: 0,\n      searchsanat: \"\",\n      fetcheditems: [],\n      channeltypeitems: [],\n      programtypeitems: [],\n      channels: [],\n      selectedpage: 1,\n      today: new Date(Date.now),\n\n      currentchannel: null,\n      bDisplayAllDescriptions: false,\n      showChannelsAtSameTime: this.const_showChannelsAtSameTime,\n      selectedchannelindex: 0,\n      bCheckShowChannelsAtSameTime: false,\n      currentChannelSetIndex: 0,\n      bUnderFetch: false,\n      bAllChannelsLoaded: false,\n      textSearch: null,\n      bSearchButtonClicked: false,\n      bShowTableBorder: false,\n      bshowdcurrentprograms: true,\n      themevalue: props.themevalue,     \n      hideButton: false,\n      hideButtonText: 'Piilota ohje',\n    };\n\n    // https://telkussa.fi/sivu/1/20210215\n    this.fetch_url_telkku = \"/telkkussa/\";\n    // tyyppi=kaikki,urheilu,elokuvat\n    // aika=paiva,tulevat,nyt,ilta,yo\n    // pvm=2021-02-22\n    // suodatus=ilmaiset,maksulliset,kaikki\n    // https://www.ampparit.com/tv?aika=paiva&pvm=2021-02-22&sanat=&suodatus=ilmaiset&tyyppi=elokuvat\n    this.fetch_url_ampparissa = Config.http_curlserver + \"/ampparissa/tv\";\n    this.AmppariException = this.AmppariException.bind(this);\n    // location.host\n    this.showAllDescrRef = createRef();\n    this.showOneChannelRef = createRef();\n    this.selectChannelRef = createRef();\n    this.showTableBordersRef = createRef();\n    this.channelTypeRef = createRef();\n    this.searchProgramRef = createRef();\n    this.programTypeRef = createRef();\n    this.tablCntl = createRef();\n    this.checkshowdcurrentprogramsRef = createRef();\n    this.sectionRef = createRef();\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (Config.bDebug) {\n      console.log(\"Amppari componentWillReceiveProps nextProps\");\n      console.log(nextProps);\n    }\n\n    if (nextProps !== null && nextProps.themevalue != this.props.themevalue) {\n      this.setState({ themevalue: nextProps.themevalue });\n      this.sectionStyle =\n        nextProps.themevalue !== undefined && nextProps.themevalue !== \"\"\n          ? \" border:1px solid pink; padding:15px;  margin:10px; background: black; color: white; \" +\n            (this.state.sectionwidth == undefined\n              ? \"\"\n              : this.state.sectionwidth)\n          : \" border:1px solid black; padding:15px;  margin:10px; background: white; color: black;\" +\n            (this.state.sectionwidth == undefined\n              ? \"\"\n              : this.state.sectionwidth);\n      this.tablesectionStyle =\n        nextProps.themevalue !== undefined && nextProps.themevalue !== \"\"\n          ? \" border:1px solid pink; padding:15px;  margin:10px; background: black; color: white; \"\n          : \" border:1px solid black; padding:15px;  margin:10px; background: white; color: black;\";\n    }\n  }\n\n  componentDidMount() {\n    if (Config.bDebug) console.log(\"componentDidMount 1\");\n    this.abortController = new AbortController(); // 1\n    this.abortSignal = this.abortController.signal; // 2\n    //\tthis.unsubscribelistener = this.store.subscribe( state => this.listenerStoreChange2(state) );\n    let keys = [];\n    keys.push(\"channels\");\n    this.unsubscribelistener = this.store.subscribeAttributeNameListener(\n      keys,\n      (state) => this.listenerStoreChange2(state)\n    );\n    // this.openHtmlTelkkuPage(this.state.selectedpage);\n    this._mounted = true;\n    const store_fetcheditems = this.store.getState().fetcheditems;\n    if (store_fetcheditems) {\n      this.setState({ fetcheditems: store_fetcheditems });\n      this.store.setState({ fetcheditems: store_fetcheditems });\n    }\n  //  document.getElementById(\"programtable\").onkeydown = this.altPlusKeyUp;\n    this.section_width = this.sectionRef.current.offsetWidth;  \n    let aField = document.getElementById('focus_1_element'); \n    if (aField) \n    {\n      this.sleep(500);\n      aField.focus();    \n    }\n  }\n\n  sleep = (milliseconds) => {\n    return new Promise(resolve => setTimeout(resolve, milliseconds))\n  }\n  \n\n  removelisteners = () => {\n    if (this.unsubscribelistener != null) {\n      this.unsubscribelistener();\n      this.unsubscribelistener = null;\n    }\n    if (this.removerfunctionProgramType) this.removerfunctionProgramType();\n    if (this.removerfunctionSearchProgram) this.removerfunctionSearchProgram();\n    if (this.removerfunctionChannelType) this.removerfunctionChannelType();\n  };\n\n  setRemoverFunction = (func, fname) => {\n    if (fname === \"ProgramTypes\") this.removerfunctionProgramType = func;\n    else if (fname === \"SearchPrograms\")\n      this.removerfunctionSearchProgram = func;\n    else if (fname === \"ChannelTypes\") this.removerfunctionChannelType = func;\n  };\n\n  componentWillUnmount() {\n    if (this.abortSignal && !this.abortSignal.aborted)\n      this.abortController.abort();\n    this.removelisteners();\n    this.setState({});\n    this.store.setStateNoneCallListeners({\n      fetchitems: [],\n      channeltypeitems: [],\n      programtypeitems: [],\n      categories: [],\n      schedules: [],\n    });\n    this._mounted = false;\n  }\n\n  listenerStoreChange2 = (storestate) => {\n    if (Config.bDebug) {\n      console.log(\"Amppari listenerStoreChange2\");\n      console.log(storestate);\n    }\n    if (storestate === undefined || storestate === null) {\n      console.log(\"Amppari listenerStoreChange storestate\");\n      return;\n    }\n\n    const channels = storestate.channels;\n    const bSearchButtonClicked = storestate.bSearchButtonClicked;\n    const bDisplayAllDescriptions = storestate.bDisplayAllDescriptions;\n    const textSearch = storestate.textSearch;\n    const selectedTyyppiinindex = storestate.selectedTyyppiinindex;\n    this.channels = channels;\n    this.textSearch = textSearch;\n    let store_selectedtyyppi = storestate.selectedtyyppi;\n    if (\n      store_selectedtyyppi &&\n      store_selectedtyyppi != this.state.selectedtyyppi\n    ) {\n      this.setState({ selectedtyyppi: store_selectedtyyppi });\n    }\n    /*\n\t\tif (this.state.bDisplayAllDescriptions !== bDisplayAllDescriptions )\n\t\t{\n\t\t\tlet value = this.showAllDescrRef.current.checked;\n\t\t\tif (!value && bDisplayAllDescriptions)\n\t\t\t\tthis.showAllDescrRef.current.checked = true;\n\t\t\telse\n\t\t\tif (value && !bDisplayAllDescriptions)\n\t\t\t\tthis.showAllDescrRef.current.checked = false;\n\t\t\tthis.setState({ bDisplayAllDescriptions: bDisplayAllDescriptions,\n\t\t\t});\t\t\n\t\t}\n\t\t*/\n    if (bSearchButtonClicked && textSearch) {\n      this.setState({ bDisplayAllDescriptions: true });\n    }\n    this.setState({\n      channels: channels,\n      textSearch: textSearch,\n      bSearchButtonClicked: bSearchButtonClicked,\n      selectedTyyppiinindex: 0,\n    });\n\n    if (Config.bDebug) {\n      console.log(\"-- 3 bSearchButtonClicked\");\n      console.log(bSearchButtonClicked);\n      console.log(\"-- 3 bDisplayAllDescriptions\");\n      console.log(bDisplayAllDescriptions);\n      console.log(\"-- 3 textSearch\");\n      console.log(textSearch);\n      console.log(\"-- 3 channels\");\n      console.log(channels);\n      console.log(\"-- 3\");\n      console.log(this.state);\n    }\n  };\n\n  componentWillUnmounted() {\n    if (this.unsubscribelistener != null) this.unsubscribelistener();\n  }\n\n  AmppariException(message) {\n    this.message = message;\n    this.name = \"AmppariException\";\n  }\n\n  getSelectedDateParam = () => {\n    let selday = this.state.selecteddate;\n    let month = \"\" + (selday.getMonth() + 1);\n    if (month.trim().length === 1) month = \"0\" + month;\n    let day = \"\" + selday.getDate();\n    if (day.trim().length === 1) day = \"0\" + day;\n    return \"\" + selday.getFullYear() + month + day;\n  };\n\n  getNextJsonArrayAfterLabel(json, labelitem) {\n    let ret = null;\n    /*\n\t\tif(Config.bDebug) \n\t\t{\n\t\t\tconsole.log(\"getNextJsonArrayAfterLabel\"); \n\t\t\tconsole.log(\"json\"); \n\t\t\tconsole.log(json); \n\t\t\tconsole.log(\"labelitem\"); \n\t\t\tconsole.log(labelitem); \n\t\t}\n\t\t*/\n    if (labelitem == undefined || labelitem == null) return null;\n    if (json == undefined || json == null || json.length == 0) return null;\n    let iCount = 0;\n    let found = false,\n      founded = false;\n    let foundedItem = null;\n\n    let i = 0;\n    let item = null;\n    let max = json.length;\n\n    for (\n      i = 0;\n      i < max;\n      i++ //Array.from(json).forEach(item =>\n    ) {\n      item = json[i];\n      iCount = iCount + 1;\n      if (!founded) {\n        if (\n          !found &&\n          typeof item === \"string\" &&\n          item.toString() === labelitem\n        ) {\n          found = true;\n          /*\n\t\t\t\t\tif (Config.bDebug)\n\t\t\t\t\t{\t\t\t\n\t\t\t\t\t\tconsole.log(\"iCount \" +iCount);\n\t\t\t\t\t\tconsole.log(\"found = true\");\n\t\t\t\t\t}\n\t\t\t\t\t*/\n        } else {\n          if (found) {\n            /*\n\t\t\t\t\t\tif (Config.bDebug)\n\t\t\t\t\t\t{\t\t\t\t\n\t\t\t\t\t\t\tconsole.log(\"iCount \" +iCount);\n\t\t\t\t\t\t\tconsole.log(\"return item\");\n\t\t\t\t\t\t\tconsole.log(item);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t*/\n            foundedItem = item;\n            founded = true;\n            return item;\n          }\n        }\n      }\n    }\n    // });\n\n    if (foundedItem == null) console.log(\"return null\");\n\n    return foundedItem;\n  }\n\n  getChannelsAndPrograms = (tvchannels) => {\n    let ret = null;\n    if (tvchannels == undefined || tvchannels == null || tvchannels.length == 0)\n      return null;\n    let jsonch;\n    let channels = [];\n\n    Array.from(tvchannels).forEach((item) => {\n      if (item === undefined) return;\n      jsonch = this.getJsonChannel(item);\n      if (jsonch !== null) channels.push(jsonch);\n    });\n    return channels;\n  };\n\n  getArrayIntoChannel = (channel) => {\n    let ret = null;\n    if (Config.bDebug) {\n      console.log(\"getArrayIntoChannel\");\n      console.log(channel);\n    }\n    if (channel == null) return null;\n    ret = {};\n    let name = this.getNextJsonArrayAfterLabel(channel, \"name\");\n    let slug = this.getNextJsonArrayAfterLabel(channel, \"slug\");\n    let pay = this.getNextJsonArrayAfterLabel(channel, \"pay\");\n    ret.title = name;\n    ret.slug = slug;\n    ret.pay = pay;\n    return ret;\n  };\n\n  getJsonProgram = (pr) => {\n    let ret = null;\n    if (Config.bDebug) {\n      console.log(\"getJsonProgram\");\n      console.log(pr);\n    }\n    if (pr == null) return null;\n    let pr2 = pr[1]; // this.getNextJsonArrayAfterLabel(pr, '^2');\n    ret = {};\n    let id = this.getNextJsonArrayAfterLabel(pr2, \"id\");\n    let timestamp = this.getNextJsonArrayAfterLabel(pr2, \"timestamp\");\n    let title = this.getNextJsonArrayAfterLabel(pr2, \"title\");\n    let description = this.getNextJsonArrayAfterLabel(pr2, \"description\");\n    let channel = this.getNextJsonArrayAfterLabel(pr2, \"channel\");\n    let movie = this.getNextJsonArrayAfterLabel(pr2, \"movie\");\n    let sport = this.getNextJsonArrayAfterLabel(pr2, \"sport\");\n    ret.id = id;\n    ret.title = title;\n    ret.timestamp = timestamp;\n    ret.description = description;\n    ret.channel = channel;\n    ret.movie = movie;\n    ret.sport = sport;\n    return ret;\n  };\n\n  getJsonChannel = (ch) => {\n    // , tvchannels3, tvprograms,\n    let ch2 = ch[1]; // this.getNextJsonArrayAfterLabel(ch, '^2');\n    let tvchannel = ch2[1]; // this.getNextJsonArrayAfterLabel(ch2, 'channel');\n    if (Config.bDebug) {\n      console.log(\"tvchannel\");\n      console.log(tvchannel);\n    }\n    let channel = tvchannel[1]; // this.getNextJsonArrayAfterLabel(tvchannel, '^2');\n    let tvprograms = this.getNextJsonArrayAfterLabel(ch2, \"programs\");\n    let programs = tvprograms[1]; // this.getNextJsonArrayAfterLabel(tvprograms, '^F');\n    if (Config.bDebug) {\n      console.log(\"programs\");\n      console.log(programs);\n    }\n\n    let jsonprograms = [];\n    let jsonpr = null;\n    let jsonchannel = this.getArrayIntoChannel(channel);\n    if (jsonchannel == null) return null;\n\n    Array.from(programs).forEach((pr) => {\n      if (pr === undefined) return;\n      jsonpr = this.getJsonProgram(pr);\n      if (jsonpr !== null) jsonprograms.push(jsonpr);\n    });\n\n    jsonchannel.channels = jsonprograms;\n    return jsonchannel;\n  };\n\n  getChannelsAndProgramsFromJsonArray = (json) => {\n    let tv = null,\n      programming = null,\n      f = null,\n      channel = null,\n      programs = null;\n    let i,\n      j,\n      max = json.length,\n      maxj,\n      data = null;\n    let searchtext = \"tv\",\n      foundSearchText = false;\n\n    for (i = 0; i < max; i++) {\n      if (\n        !foundSearchText &&\n        typeof json[i] === \"string\" &&\n        json[i] === searchtext\n      )\n        foundSearchText = true;\n      else if (foundSearchText) {\n        if (searchtext === \"tv\") {\n          tv = json[i][1];\n          searchtext = \"programming\";\n          foundSearchText = false;\n          programming = tv[1][1];\n          maxj = programming.length;\n          let channels = [];\n          let jsonchannel = {};\n          let programchannels = [];\n\n          for (j = 0; j < maxj; j++) {\n            /*\n\t\t\t\t\t\tif(Config.bDebug) \n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tconsole.log(\"programming \" +j); \n\t\t\t\t\t\t\tconsole.log(programming[j]\t); \n\t\t\t\t\t\t}\n\t\t\t\t\t\t*/\n            channel = programming[j][1][1][1];\n            programs = programming[j][1][3][1];\n            /*\n\t\t\t\t\t\tif(Config.bDebug) \n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tconsole.log(\"channel\"); \n\t\t\t\t\t\t\tconsole.log(channel); \n\t\t\t\t\t\t\tconsole.log(\"programs\"); \n\t\t\t\t\t\t\tconsole.log(programs); \n\t\t\t\t\t\t}\n\t\t\t\t\t\t*/\n            jsonchannel = {};\n            jsonchannel.id = channel[1];\n            jsonchannel.title = channel[3];\n            jsonchannel.slug = channel[5];\n            jsonchannel.pay = channel[7];\n            let k = 0,\n              maxk = programs.length,\n              jsonprogram,\n              progdata,\n              jsonprograms = [];\n            for (k = 0; k < maxk; k++) {\n              jsonprogram = {};\n              progdata = programs[k][1];\n              // sometimes data values are in different order!:\n              jsonprogram.id = this.getNextJsonArrayAfterLabel(progdata, \"id\");\n              jsonprogram.timestamp = this.getNextJsonArrayAfterLabel(\n                progdata,\n                \"timestamp\"\n              );\n              jsonprogram.title = this.getNextJsonArrayAfterLabel(\n                progdata,\n                \"title\"\n              );\n              jsonprogram.description = this.getNextJsonArrayAfterLabel(\n                progdata,\n                \"description\"\n              );\n              jsonprogram.channel = this.getNextJsonArrayAfterLabel(\n                progdata,\n                \"channel\"\n              );\n              jsonprogram.movie = this.getNextJsonArrayAfterLabel(\n                progdata,\n                \"movie\"\n              );\n              jsonprogram.sport = this.getNextJsonArrayAfterLabel(\n                progdata,\n                \"sport\"\n              );\n              jsonprograms.push(jsonprogram);\n            }\n            jsonchannel.channelprograms = jsonprograms;\n            /*\n\t\t\t\t\t\tif(Config.bDebug) \n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tconsole.log(\"jsonchannel\"); \n\t\t\t\t\t\t\tconsole.log(jsonchannel); \n\t\t\t\t\t\t}\n\t\t\t\t\t\t*/\n            programchannels.push(jsonchannel);\n          }\n          return programchannels;\n        }\n      }\n    }\n\n    return null;\n    /*\n\t\tlet tvchannels1 = this.getNextJsonArrayAfterLabel(json2, 'tv');\n\t\tlet tvchannels2 = tvchannels1[1];\n\t\tif(Config.bDebug) \n\t\t{\n\t\t\tconsole.log(\"tvchannels2\"); \n\t\t\tconsole.log(tvchannels2); \n\t\t}\n\t\t\n\t\tlet tvchannels3 = this.getNextJsonArrayAfterLabel(tvchannels2, 'programming');\n\t\tlet tvchannels = this.getNextJsonArrayAfterLabel(tvchannels3, '^F');\n\t\tlet data = this.getChannelsAndPrograms(tvchannels);\n\t\treturn data;\n\t\t*/\n  };\n\n  fetchHtmlAmppariChannels = async (dayparameter) => {\n    if (this.state.bUnderFetch) return;\n    let channelurl = this.getUrlQueryForAmppari(dayparameter);\n    if (Config.bDebug) {\n      console.log(\"fetchHtmlAmppariChannels 1\");\n      console.log(channelurl);\n    }\n\n    this.fetcheditems = [];\n    this.channeltypeitems = [];\n    this.store.setState({ fetchitems: [] });\n\n    this.setState({\n      bUnderFetch: true,\n      channels: [],\n      selectedchannelindex: 0,\n      currentChannelSetIndex: 0,\n      errmsg: null,\n      fetcheditems: null,\n    });\n\n    this.bUnderFetch = true;\n    let fetched = null;\n    // \tcrossDomain:true,\n    await fetch(channelurl, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"text/html; charset=UTF-8\",\n        Accept: \"*/*\", // application/rss+xml\n      },\n      mode: \"cors\",\n      signal: this.abortSignal,\n    })\n      .then(this.handleErrors)\n      .then((response) => {\n        return response.text();\n      })\n      //\t\t.then(str => new window.DOMParser().parseFromString(str, \"text/xml\"))\n      .then((data) => {\n        let data2 = data;\n        if (Config.bDebug) {\n          console.log(\"fetchHtmlAmppariChannels 1.5\");\n          //console.log(\"data\");\n          // console.log(data);\n        }\n        const INITIAL_STATE = \"window.__INITIAL_STATE__=\";\n        let index = data.indexOf(INITIAL_STATE);\n        if (Config.bDebug) {\n          console.log(\"index\");\n          console.log(index);\n        }\n        if (index > -1) {\n          if (Config.bDebug) console.log(\"index > -1\");\n          let indexEnd = data.indexOf(\"</script>\", index);\n          if (Config.bDebug) {\n            console.log(\"indexEnd\");\n            console.log(indexEnd);\n          }\n          if (indexEnd > -1) {\n            if (Config.bDebug) console.log(\"indexEnd > -1\");\n            data2 = data.substring(index + INITIAL_STATE.length, indexEnd);\n            /*\n\t\t\t\t\t\tif (Config.bDebug)\n\t\t\t\t\t\t{\t\t\t\t\n\t\t\t\t\t\t\tconsole.log(\"data2\");\n\t\t\t\t\t\t\tconsole.log(data2);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t*/\n            let json = JSON.parse(data2);\n            /*\n\t\t\t\t\t\tif (Config.bDebug)\n\t\t\t\t\t\t{\t\t\t\t\n\t\t\t\t\t\t\tconsole.log(\"json\");\n\t\t\t\t\t\t\tconsole.log(json);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t*/\n            let strstate = json.state;\n            /*\n\t\t\t\t\t\tif (Config.bDebug)\n\t\t\t\t\t\t{\t\t\t\t\n\t\t\t\t\t\t\tconsole.log(\"strstate\");\n\t\t\t\t\t\t\tconsole.log(strstate);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t*/\n            let json2 = JSON.parse(strstate);\n            if (Config.bDebug) {\n              console.log(\"json2\");\n              console.log(json2);\n            }\n            data2 = this.getChannelsAndProgramsFromJsonArray(json2);\n            if (Config.bDebug) {\n              console.log(\"-- 1\");\n              // console.log(data2);\n            }\n            this.fetcheditems = data2;\n            this.channeltypeitems = data2;\n            // this.programtypeitems = data2;\n            // this.channels = data2;\n            this.setState({\n              fetcheditems: this.fetcheditems,\n              channels: [],\n              bUnderFetch: false,\n              selectedsuodattimet: \"kaikki\",\n              channeltypeitems: null,\n              programtypeitems: null,\n              selectedtyyppi: \"kaikki\",\n              selectedTyyppiinindex: 0,\n              selectedsuodatinindex: 0,\n              bSearchButtonClicked: false,\n              selectedchannelindex: 0,\n            });\n            this.store.setState({ fetchitems: data2 });\n            // this.filterWhenUIControlsHasBeenChanged(filtercalled.CHANNELTYPE);\n            // this.channels = data2;\n            // this.setState({ channels: data2, });\n            /*\n\t\t\t\t\t\tthis.setState({ fetcheditems: data2, channels: null,\n\t\t\t\t\t\t\tbUnderFetch: false, selectedsuodattimet: 'kaikki',\n\t\t\t\t\t\t\t\tselectedtyyppi: 'kaikki', selectedTyyppiinindex: 0,\n\t\t\t\t\t\t\t\tselectedsuodatinindex: 0 });\n\t\t\t\t\t\tconsole.log(\"-- 2\");\n\t\t\t\t\t\t//this.filterWhenUIControlsHasBeenChanged(filtercalled.CHANNELTYPE);\n\t\t\t\t\t\t*/\n            this.setState({\n              /* fetcheditems: this.fetcheditems, */ channels: this.channels,\n              bUnderFetch: false,\n              selectedsuodattimet: \"kaikki\",\n              selectedtyyppi: \"kaikki\",\n              selectedTyyppiinindex: 0,\n              selectedsuodatinindex: 0,\n              bSearchButtonClicked: false,\n              selectedchannelindex: 0,\n            });\n            this.bUnderFetch = false;\n          }\n        }\n\n        fetched = data2; // this.getJsonDataFromTelkkuRssXml(data);\n      })\n      .catch((error) => {\n        console.error(\"error\");\n        console.error(error);\n        this.setState({ errmsg: error.toString(), bUnderFetch: false });\n        this.bUnderFetch = false;\n        throw new this.AmppariException(error.toString());\n      });\n    return fetched;\n  };\n\n  getChannelsAndSortProgramsAfterChannels = (data, channels) => {\n    /*\n    \t\tconst map1 = new Map([\n\t\t\t['foo', 'bar'],\n\t\t\t['baz', 42]\n\t\t  ]);\n\n\t\t  const obj = Object.fromEntries(map1);\n\t\t  // { foo: 'bar', baz: 42 }\n\t\t  \n\t\t  For converting object back to map:\n\t\t  \n\t\t  const map2 = new Map(Object.entries(obj));\n\t\t  // Map(2) { 'foo' => 'bar', 'baz' => 42 }\n\t\t  */\n\n    let ret = null;\n    let map = new Map();\n    let channel = {};\n\n    if (Config.bDebug) console.log(\"chcoopy.channelprograms\");\n    Array.from(data).forEach((pr) => {\n      if (pr === undefined) return;\n      channel = map.get(pr.channel);\n      if (channel == undefined || channel == null) {\n        console.log(\"channel == undefined\");\n        channel = {};\n        Object.assign(channel, {});\n        channel.title = pr.channel;\n        console.log(\"new channel\");\n        console.log(channel.title);\n\n        map.set(channel.title, channel);\n      }\n      if (channel !== null) {\n        if (channel.channelprograms == undefined) channel.channelprograms = [];\n        channel.channelprograms.push(pr);\n        map.set(channel.title, channel);\n      }\n    });\n\n    if (map.size > 0) return Object.fromEntries(map);\n    return null;\n  };\n\n  getJsonChannels = (strprorams) => {\n    let ret = null;\n    if (strprorams === null || strprorams === undefined) return null;\n    let indStart = 0;\n    let searchResultChannel = this.getJsonLabel(\n      \"channel\",\n      strprograms,\n      indStart\n    );\n    let channeldata = null;\n    let firstIndex = -1;\n    let arrprogs = null;\n    let search_end_program = \"]]\";\n    let firstIndexEnd = -1;\n    let strprogram = null;\n    let jsonprog = null;\n    let iCount = 1;\n    let channels = [];\n    let searchSecondChannel = '\"channel\"';\n    let indSecondChannel = -1;\n\n    while (searchResultChannel !== null) {\n      indSecondChannel = strprogram.indexOf(\n        searchSecondChannel,\n        searchResultChanne.indEnd + 1\n      );\n      indStart = searchResult.indEnd;\n      searchResult = this.getJsonLabel(\n        \"id\",\n        strprograms,\n        indStart,\n        indSecondChannel\n      );\n      if (searchResult !== null) {\n        indStart = searchResult.indEnd;\n        searchresult = this.getJsonNextValue(\n          strprograms,\n          indStart,\n          indSecondChannel\n        );\n        if (searchResult !== null) {\n          let channelid = searchResult.value;\n          indStart = searchResult.indEnd;\n          searchResult = this.getJsonLabel(\n            \"name\",\n            strprograms,\n            indStart,\n            indSecondChannel\n          );\n          if (searchResult !== null) {\n            indStart = searchResult.indEnd;\n            searchresult = this.getJsonNextValue(\n              strprograms,\n              indStart,\n              indSecondChannel\n            );\n            let channelname = searchResult.value;\n            console.log(\"channelname\");\n            console.log(channelname);\n\n            searchResult = this.getJsonLabel(\n              \"slug\",\n              strprograms,\n              indStart,\n              indSecondChannel\n            );\n            if (searchResult !== null) {\n              indStart = searchResult.indEnd;\n              searchresult = this.getJsonNextValue(\n                strprograms,\n                indStart,\n                indSecondChannel\n              );\n              let channelslug = searchResult.value;\n              console.log(\"channelslug\");\n              console.log(channelslug);\n\n              searchResult = this.getJsonLabel(\n                \"pay\",\n                strprograms,\n                indStart,\n                indSecondChannel\n              );\n              if (searchResult !== null) {\n                indStart = searchResult.indEnd;\n                searchresult = this.getJsonNextValue(\n                  strprograms,\n                  indStart,\n                  indSecondChannel\n                );\n                let channelpay = searchResult.value;\n                channeldata = {};\n                Object.assign(channeldata, {});\n                channeldata.title = channelname;\n                channeldata.slug = channelslug;\n                channeldata.pay = channelpay;\n\n                arrprogs = new Array();\n\n                firstIndex = strprorams.indexOf(\n                  this.search_start_program,\n                  indStart\n                );\n                firstIndexEnd = strprorams.indexOf(search_end_program);\n                strprogram = null;\n                jsonprog = null;\n                iCount = 1;\n\n                while (\n                  firstIndex !== -1 &&\n                  firstIndexEnd !== -1 &&\n                  (indSecondChannel == -1 ||\n                    (indSecondChannel != -1 &&\n                      firstIndexEnd < indSecondChannel))\n                ) {\n                  strprogram = strprorams.substring(\n                    firstIndex + 1,\n                    firstIndexEnd\n                  );\n                  jsonprog = this.getJsonProg(strprogram, indSecondChannel);\n                  if (jsonprog != null) {\n                    console.log(\"jsonprog\");\n                    console.log(jsonprog);\n                    arrprogs.push(jsonprog);\n                    iCount = iCount + 1;\n                  } else break;\n                  firstIndex = strprorams.indexOf(\n                    this.search_start_program,\n                    firstIndexEnd\n                  );\n                  firstIndexEnd = strprorams.indexOf(\n                    search_end_program,\n                    firstIndex\n                  );\n                }\n                console.log(\"tv programs size\");\n                console.log(iCount);\n\n                channeldata.channelprograms = [];\n                Array.from(arrprogs).forEach((pr) => {\n                  if (pr === undefined) return;\n                  channeldata.channelprograms.push(pr);\n                });\n                if (channeldata != null) channels.push(channeldata);\n              }\n            }\n          }\n        }\n      }\n      searchResultChannel = this.getJsonLabel(\"channel\", strprograms, indStart);\n    }\n\n    return channels;\n  };\n\n  getJsonProg = (strprogram, indSecondChannel) => {\n    if (strprogram === null || strprogram === undefined) return null;\n    console.log(\"strprogram\");\n    console.log(strprogram);\n    let ind = strprogram.indexOf('\"channel\"');\n    if (ind > -1) return null;\n\n    let ret = null;\n    let searchstart = '\"^2\",[';\n    let indId = strprogram.indexOf(searchstart);\n    let searchresult = null;\n    if (indId > -1) {\n      let indStart = 0;\n      let strjson = \"\";\n      strprogram = strprogram.substring(indId + searchstart.length);\n      console.log(\"strprogram 2\");\n      console.log(strprogram);\n\n      searchresult = this.getJsonLabelAndValue(\n        \"id\",\n        strprogram,\n        indStart,\n        indSecondChannel\n      );\n      if (searchresult != null) {\n        strjson = '{\"' + searchresult.name + '\":' + searchresult.value;\n        console.log(\"1 strjson\");\n        console.log(strjson);\n\n        indStart = searchresult.indEnd;\n        searchresult = this.getJsonLabelAndValue(\n          \"timestamp\",\n          strprogram,\n          indStart,\n          indSecondChannel\n        );\n        if (searchresult != null) {\n          strjson =\n            strjson + ',\"' + searchresult.name + '\":' + searchresult.value;\n          console.log(\"2 strjson\");\n          console.log(strjson);\n          indStart = searchresult.indEnd;\n          searchresult = this.getJsonLabelAndValue(\n            \"title\",\n            strprogram,\n            indStart,\n            indSecondChannel\n          );\n          if (searchresult != null) {\n            strjson =\n              strjson + ',\"' + searchresult.name + '\":' + searchresult.value;\n            console.log(\"3 strjson\");\n            console.log(strjson);\n            indStart = searchresult.indEnd;\n            searchresult = this.getJsonLabelAndValue(\n              \"description\",\n              strprogram,\n              indStart,\n              indSecondChannel\n            );\n            if (searchresult != null) {\n              strjson =\n                strjson + ',\"' + searchresult.name + '\":' + searchresult.value;\n              indStart = searchresult.indEnd;\n              console.log(\"4 strjson\");\n              console.log(strjson);\n              searchresult = this.getJsonLabelAndValue(\n                \"channel\",\n                strprogram,\n                indStart,\n                indSecondChannel\n              );\n              if (searchresult != null) {\n                strjson =\n                  strjson +\n                  ',\"' +\n                  searchresult.name +\n                  '\":' +\n                  searchresult.value;\n                console.log(\"5 strjson\");\n                console.log(strjson);\n                indStart = searchresult.indEnd;\n                searchresult = this.getJsonLabelAndValue(\n                  \"movie\",\n                  strprogram,\n                  indStart,\n                  indSecondChannel\n                );\n                if (searchresult != null) {\n                  strjson =\n                    strjson +\n                    ',\"' +\n                    searchresult.name +\n                    '\":' +\n                    searchresult.value;\n                  console.log(\"6 strjson\");\n                  console.log(strjson);\n                  indStart = searchresult.indEnd;\n                  searchresult = this.getJsonLabelAndValue(\n                    \"sport\",\n                    strprogram,\n                    indStart,\n                    indSecondChannel\n                  );\n                  if (searchresult != null) {\n                    strjson =\n                      strjson +\n                      ',\"' +\n                      searchresult.name +\n                      '\":' +\n                      searchresult.value;\n                    strjson = strjson + \" }\";\n                    console.log(\"7 strjson\");\n                    console.log(strjson);\n                    ret = JSON.parse(strjson);\n                    console.log(\"ret\");\n                    console.log(ret);\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n\n    return ret;\n  };\n\n  getJsonLabelAndValue = (name, strprogram, indStart, indSecondChannel) => {\n    // let searchresult = this.getJsonLabel(name, strprogram, indStart);\n    let searchresult = this.getJsonNextLabel(\n      strprogram,\n      indStart,\n      indSecondChannel\n    );\n    if (searchresult != null) {\n      let indStart2 = searchresult.indEnd;\n      let name2 = searchresult.name;\n      searchresult = this.getJsonNextValue(\n        strprogram,\n        indStart2,\n        indSecondChannel\n      );\n      if (searchresult != null) {\n        searchresult.name = name2;\n        return searchresult;\n      }\n    }\n    return null;\n  };\n\n  getJsonNextLabel = (strprogram, indStart, indSecondChannel) => {\n    let search = '\"';\n    let ind = strprogram.indexOf(search, indStart);\n    console.log(\"getJsonNextLabel ind\");\n    console.log(ind);\n\n    if (ind > -1) {\n      let ind2 = strprogram.indexOf(search, ind + 1);\n      if (ind2 > -1) {\n        console.log(\"getJsonNextLabel ind2\");\n        console.log(ind2);\n        let searchresult = {};\n        searchresult.name = strprogram.substring(ind + 1, ind2);\n        searchresult.indStart = ind + 1;\n        searchresult.indEnd = ind2;\n        console.log(\"getJsonLabel searchresult\");\n        console.log(searchresult);\n        return searchresult;\n      }\n    }\n    return null;\n  };\n\n  getJsonLabel = (name, strprogram, indStart, indSecondChannel) => {\n    let search = '\"' + name + '\"';\n    let ind = strprogram.indexOf(search, indStart);\n    console.log(\"getJsonLabel ind\");\n    console.log(ind);\n\n    if (ind > -1) {\n      let searchresult = {};\n      searchresult.name = name;\n      searchresult.indStart = ind + 1;\n      searchresult.indEnd = ind + search.length;\n      searchresult.name = name;\n      console.log(\"getJsonLabel searchresult\");\n      console.log(searchresult);\n\n      return searchresult;\n    }\n    return null;\n  };\n\n  getJsonNextValue = (strprogram, indStart, indSecondChannel) => {\n    let search = \",\";\n    let ind = strprogram.indexOf(search, indStart);\n    console.log(\"getJsonNextValue ind\");\n    console.log(ind);\n\n    if (ind > -1) {\n      let searchresult = {};\n      let bStartWithStrike = strprogram.substring(ind + 1, ind + 2) == '\"';\n      console.log(\"getJsonNextValue indEnd bStartWithStrike\");\n      console.log(bStartWithStrike);\n\n      searchresult.indStart = ind;\n      let iAdd = 1;\n      if (bStartWithStrike) iAdd = 2;\n      let indEnd = -1;\n      if (bStartWithStrike) indEnd = strprogram.indexOf('\"', ind + iAdd);\n      else indEnd = strprogram.indexOf(search, ind + iAdd);\n      console.log(\"getJsonNextValue indEnd\");\n      console.log(indEnd);\n\n      if (indEnd == -1) {\n        searchresult.indEnd = strprogram.length;\n        searchresult.value = strprogram.substring(ind + iAdd);\n        console.log(\"getJsonNextValue searchresult.value indEnd==-1\");\n        console.log(searchresult.value);\n        return searchresult;\n      } else {\n        if (bStartWithStrike) searchresult.indEnd = indEnd + 1;\n        else searchresult.indEnd = indEnd;\n        if (bStartWithStrike)\n          searchresult.value = strprogram.substring(ind + 1, indEnd + 1);\n        else searchresult.value = strprogram.substring(ind + 1, indEnd);\n        console.log(\"getJsonNextValue searchresult.value\");\n        console.log(searchresult.value);\n        return searchresult;\n      }\n    }\n    return null;\n  };\n\n  getJsonDataFromTelkkuRssXml = (data) => {\n    const items = data.querySelectorAll(\"item\");\n  };\n\n  handleErrors = (response) => {\n    if (!response.ok) {\n      // throw Error(response.statusText);\n      console.log(\"response\");\n      console.log(response);\n      console.log(response.status);\n      throw Error(response.status);\n    }\n    return response;\n  };\n\n  getUrlQueryForAmppari = (dayparameter) => {\n    let blankurl =\n      this.fetch_url_ampparissa +\n      \"?aika=\" +\n      this.state.selectedaika +\n      \"&pvm=\" +\n      dayparameter +\n      \"&sanat=\" +\n      this.state.searchsanat +\n      \"&suodatus=\" +\n      this.state.selectedsuodattimet +\n      \"&tyyppi=\" +\n      this.state.selectedtyyppi;\n\n    return blankurl;\n  };\n\n  /*\n\topenHtmlAmppari = (dayparameter) => {\n\t\t// aika=paiva,tulevat,nyt,ilta,yo\n\t\t// pvm=2021-02-22\n\t\t// suodatus=ilmaiset,maksulliset,kaikki\n\t\t// https://www.ampparit.com/tv?aika=paiva&pvm=2021-02-22&sanat=&suodatus=ilmaiset&tyyppi=elokuvat\n\n        let blankurl = this.getUrlQueryForAmppari();\n        window.open(blankurl, '_blank', \"Ampparissa\", \"location=no\");\n\t}\n\t*/\n\n  onClickSetDateString = (event) => {\n    event.preventDefault();\n    let dayparameter = event.target.id;\n    let target = event.target;\n    const search = \"dayname_\";\n    let ind = dayparameter.indexOf(search);\n    if (ind > -1)\n      dayparameter = dayparameter.substring(ind + search.length).trim();\n    const parseddate = Date.parse(dayparameter);\n    const day = new Date(parseddate);\n    const today = new Date(Date.now());\n    if (day.getDate() !== today.getDate()) {\n      if (this.checkshowdcurrentprogramsRef.current.value) {\n        this.checkshowdcurrentprogramsRef.current.value = false;\n        this.setState({ bshowdcurrentprograms: false });\n      }\n      this.checkshowdcurrentprogramsRef.current.disabled = true;\n    } else if (this.checkshowdcurrentprogramsRef.current.disabled == true)\n      this.checkshowdcurrentprogramsRef.current.disabled = false;\n    this.setState({ selecteddate: day });\n    this.fetchHtmlAmppariChannels(dayparameter);\n  };\n\n  getPlus1DayId = (plusdaynumber) => {\n    const today = dayjs();\n    let plusdate = today;\n    if (plusdaynumber > 0) plusdate = today.add(plusdaynumber, \"days\");\n    else if (plusdaynumber < 0) plusdate = today.add(plusdaynumber, \"days\");\n    const ret = plusdate.format(\"YYYY-MM-DD\"); // pvm=2021-02-22\n    return ret;\n  };\n\n  getPlus1Day = (plusdaynumber) => {\n    const today = dayjs();\n    let plusdate = today;\n    if (plusdaynumber > 0) plusdate = today.add(plusdaynumber, \"days\");\n    else if (plusdaynumber < 0) plusdate = today.add(plusdaynumber, \"days\");\n\n    const weekday = new Date(plusdate).getDay();\n    let weekdayname = \"\";\n    switch (weekday) {\n      case 1:\n        weekdayname = \"Ma\";\n        break;\n      case 2:\n        weekdayname = \"Ti\";\n        break;\n      case 3:\n        weekdayname = \"Ke\";\n        break;\n      case 4:\n        weekdayname = \"To\";\n        break;\n      case 5:\n        weekdayname = \"Pe\";\n        break;\n      case 6:\n        weekdayname = \"La\";\n        break;\n      case 0:\n        weekdayname = \"Su\";\n        break;\n    }\n    const ret = weekdayname + \" \" + plusdate.format(\"DD.MM.YYYY\"); // pvm=2021-02-22\n    return ret;\n  };\n\n  onClickSelectedAika = (event) => {\n    event.preventDefault();\n    const timeparameter = event.target.id; // event.target.text;\n    const ind = timeparameter.indexOf(\"_\");\n    if (ind > -1) {\n      const idends = timeparameter.substring(ind + 1);\n      /*\n\t\t\tconsole.log(\"idends\");\n\t\t\tconsole.log(idends);\n\t\t\t*/\n      this.setState({ selectedaika: idends });\n    }\n  };\n\n  getTableHeaders = () => {\n    let ret = null;\n    return ret;\n  };\n\n  getTableRows = () => {\n    let ret = null;\n    return ret;\n  };\n\n  getFetchedDate = () => {\n    if (Config.bDebug) {\n      console.log(\"getFetchedDate\");\n      console.log(\"this.state.selecteddate\");\n      console.log(this.state.selecteddate);\n    }\n    let today = this.state.selecteddate;\n    if (today == null || today == undefined) return \"\";\n\n    if (typeof today === \"string\") today = Date.parse(this.state.selecteddate);\n    let days = today.getDate();\n    let month = today.getMonth() + 1;\n    let year = today.getFullYear();\n    if (days < 10) days = \"0\" + days;\n    if (month < 10) month = \"0\" + month;\n    const ret = \"\" + days + \".\" + month + \".\" + year;\n    return ret;\n  };\n\n  calculateMaxChannelSetIndex = () => {\n    if (Config.bDebug) {\n      console.log(\"calculateMaxChannelSetIndex\");\n      /*\n\t\t\tconsole.log(channelSets);\n\t\t\tconsole.log(\"calculateMaxChannelSetIndex\");\n\t\t\tconsole.log(channelSets);\n\t\t\tconsole.log(\"calculateMaxChannelSetIndex\");\n\t\t\tconsole.log(channelSets);\n\t\t\t*/\n    }\n    if (this.state.channels == null) return 0;\n    const channelssize = this.state.channels.length;\n    if (channelssize === 0) return 0;\n    if (this.state.bCheckShowChannelsAtSameTime) return 0;\n    if (this.state.showChannelsAtSameTime >= this.state.channels.length)\n      return 0;\n    const channelSets =\n      this.state.channels.length / this.state.showChannelsAtSameTime;\n    if (Config.bDebug) {\n      console.log(\"channelSets\");\n      console.log(channelSets);\n    }\n    if (channelSets == 0) return 0;\n    return channelSets - 1;\n  };\n\n  nextChannelSetClicked = (event) => {\n    event.preventDefault();\n    if (this.state.channels == null || this.state.channels.length == 0) return;\n    if (\n      this.state.currentChannelSetIndex > this.calculateMaxChannelSetIndex()\n    ) {\n      this.setState({\n        currentChannelSetIndex: this.calculateMaxChannelSetIndex(),\n        /* bSearchButtonClicked: false */\n      });\n      return;\n    }\n    if (\n      this.state.currentChannelSetIndex === this.calculateMaxChannelSetIndex()\n    ) {\n      return;\n    }\n    this.setState({\n      currentChannelSetIndex: this.state.currentChannelSetIndex + 1,\n    });\n  };\n\n  prevChannelSetClicked = (event) => {\n    event.preventDefault();\n    if (this.state.channels == null || this.state.channels.length == 0) return;\n    if (this.state.currentChannelSetIndex < 0) {\n      this.setState({\n        currentChannelSetIndex: 0,\n        /* bSearchButtonClicked: false */\n      });\n      return;\n    }\n    if (this.state.currentChannelSetIndex === 0) {\n      return;\n    }\n    this.setState({\n      currentChannelSetIndex: this.state.currentChannelSetIndex - 1,\n    });\n  };\n\n  showAllDescriptions = (event) => {\n    event.preventDefault();\n    let value = event.target.checked;\n    if (Config.bDebug) console.log(\"showAllDescriptions\");\n    let bValue = value; // this.state.bDisplayAllDescriptions;\n    if (Config.bDebug) console.log(\"bValue\");\n    if (Config.bDebug) console.log(bValue);\n    /*\n\t\tif (value === 'on')\n\t\t\tbValue = true;\n\t\tconsole.log(value);\n\t\t*/\n    this.setState({\n      bDisplayAllDescriptions: bValue,\n      /* bSearchButtonClicked: false */\n    });\n  };\n\n  showTableBorders = (event) => {\n    event.preventDefault();\n    let value = event.target.checked;\n    console.log(\"showTableBorders\");\n    let bValue = value;\n    console.log(\"bValue\");\n    console.log(bValue);\n    this.setState({ bShowTableBorder: bValue });\n  };\n\n  showOneChannel = (event) => {\n    event.preventDefault();\n    //\tconsole.log(\"showOneChannel\");\n    let value = event.target.checked;\n    let bValue = value; // this.showOneChannelRef.current.;\n\n    if (bValue) {\n      const st = this.store;\n      const storestate = st.getState();\n      // this.selectChannelRef.current.selectedIndex = 0;\n      this.setState({\n        showChannelsAtSameTime: 1,\n        bCheckShowChannelsAtSameTime: true,\n        /* bSearchButtonClicked: false, */\n        selectedchannelindex: 0,\n        currentChannelSetIndex: 0,\n        channels: storestate.channels,\n      });\n    } else {\n      const st = this.store;\n      const storestate = st.getState();\n      this.channels = storestate.channels;\n      -1;\n      this.setState({\n        showChannelsAtSameTime: this.const_showChannelsAtSameTime,\n        selectedchannelindex: -1,\n        bCheckShowChannelsAtSameTime: false,\n        /* bSearchButtonClicked: false, */\n        channels: storestate.channels,\n      });\n      // this.filterWhenUIControlsHasBeenChanged(filtercalled.SEARCHCHANE, null);\n    }\n  };\n\n  getPOfIndex = (index, txt, themevalue) => {\n    if (Config.bDebug) {\n      console.log(\"getPOfIndex\");\n    }\n    let textSearch = this.textSearch;\n    if (Config.bDebug) {\n      console.log(\"textSearch\");\n      console.log(textSearch);\n    }\n    if (txt == undefined || txt == null || txt.toString().trim().length == 0)\n      return \"\";\n    if (Config.bDebug) {\n      console.log(\"txt\");\n      console.log(txt);\n      console.log(\"index\");\n      console.log(index);\n      console.log(\"textSearch\");\n      console.log(textSearch);\n    }\n\n    let txt1 = txt.toString();\n    let txtlen = txt1.length;\n    if (\n      txtlen == undefined ||\n      index == undefined ||\n      index == null ||\n      index < 0 ||\n      txtlen <= index\n    )\n      return txt1.toString();\n    if (\n      textSearch == undefined ||\n      textSearch == null ||\n      textSearch.toString().trim().length == 0\n    )\n      return txt1.toString();\n\n    let first = txt1.substring(0, index);\n    let between = txt1.substring(index, index + textSearch.length);\n    let last = txt1.substring(index + textSearch.length, txt1.length);\n\n    if (Config.bDebug) {\n      console.log(\"first\");\n      console.log(first);\n      console.log(\"between\");\n      console.log(between);\n      console.log(\"last\");\n      console.log(last);\n    }\n\n    let newvalue_first =\n      first != undefined && first != null && first.trim().length != 0 ? (\n        <span style={\"margin-right: 0px; margin-left: 0px; padding: 0px;\"}>\n          {first}\n        </span>\n      ) : (\n        \"\"\n      );\n    let foundedthtml =\n      \"background-color: green; color: white; margin-right: 0px; margin-left: 0px; padding: 0px;\";\n    if (themevalue === \"--dark\")\n      foundedthtml =\n        \"background-color: yellow; color: black; margin-right: 0px; margin-left: 0px; padding: 0px;\";\n    let newvalue_between = <span style={foundedthtml}>{between}</span>;\n    let newvalue_last =\n      last != undefined && last != null && last.trim().length != 0 ? (\n        <span style={\"margin-right: 0px; margin-left: 0px; padding: 0px;\"}>\n          {last}\n        </span>\n      ) : (\n        \"\"\n      );\n    let newvalue = (\n      <div>\n        {newvalue_first}\n        {newvalue_between}\n        {newvalue_last}\n      </div>\n    );\n    if (Config.bDebug) {\n      console.log(\"newvalue_first\");\n      console.log(newvalue_first);\n      console.log(\"newvalue_between\");\n      console.log(newvalue_between);\n      console.log(\"newvalue_last\");\n      console.log(newvalue_last);\n    }\n    if (Config.bDebug) {\n      console.log(\"newvalue\");\n      console.log(newvalue);\n    }\n    return newvalue;\n  };\n\n  /*\n\tgetIsMaksullinenChannel = (title) =>\n\t{\n\t\tlet ret = false;\n\t\tif (title == undefined || title == null || title.trim().length == 0)\n\t\t\treturn false;\n\t\tif (!ilmaisetchannelnames.includes(title))\n\t\t\treturn true;\n\t\treturn false;\n\t}\n\n\tgetIsIlmainenChannel = (title) =>\n\t{\n\t\tlet ret = false;\n\t\tif (title == undefined || title == null || title.trim().length == 0)\n\t\t\treturn false;\n\t\tif (ilmaisetchannelnames.includes(title))\n\t\t\treturn true;\n\t\treturn false;\n\t}\n\t*/\n\n  oldProgram = (currProg, currtime, nextProg) => {\n    const selectedtyyppi = this.state.selectedtyyppi;\n    if (selectedtyyppi != \"kaikki\") {\n      nextProg = this.getNextProgOf(currProg);\n    }\n    return this.oldProgramWithNextProg(currProg, currtime, nextProg);\n  };\n\n  getNextProgOf = (currProg) => {\n    if (currProg === null || currProg === undefined) return null;\n    let ret = null;\n    const fetchitems = this.state.fetcheditems;\n    if (fetchitems === null || fetchitems === undefined) return null;\n    let foundedChannel = null;\n    let max = fetchitems.length;\n    let ch = null,\n      i = 0;\n\n    ch = fetchitems[i];\n    if (ch == undefined || ch === null) return null;\n    if (ch.title !== currProg.channel) return null;\n    foundedChannel = ch;\n\n    if (foundedChannel) {\n      let nextPropgram = null;\n      let foundedProg = null;\n      let max = foundedChannel.channelprograms.length;\n      const progs = foundedChannel.channelprograms;\n      let prog = null;\n      for (i = 0; i < max; i++) {\n        prog = progs[i];\n        if (prog == undefined || prog === null) continue;\n        if (foundedProg) {\n          nextPropgram = prog;\n          break;\n        }\n        if (prog.id !== currProg.id) continue;\n        foundedProg = prog;\n      }\n      return nextPropgram;\n    }\n    return ret;\n  };\n\n  oldProgramWithNextProg = (program, currenttime, nextprogram) => {\n    const startTime = new Date(program.timestamp * 1000);\n    let endtTime = null;\n    let endtTimeHours = null;\n    if (!nextprogram) return false;\n    if (nextprogram) {\n      endtTime = new Date(nextprogram.timestamp * 1000);\n      endtTimeHours = endtTime.getHours();\n    }\n\n    if (endtTime > currenttime) {\n      // console.log(\"kkk\");\n      return false;\n    }\n    if (endtTime < currenttime) {\n      // console.log(\"kkk\");\n      return true;\n    }\n\n    const currentHours = currenttime.getHours();\n    if (endtTimeHours && endtTimeHours < currentHours) {\n      console.log(\"kkk\");\n      return true;\n    }\n    if (endtTimeHours && endtTime.getHours() === currenttime.getHours()) {\n      const endtTimeMinutes = endtTime.getMinutes();\n      const currentMinutes = currenttime.getMinutes();\n      if (endtTimeMinutes < currentMinutes) {\n        console.log(\"kkk\");\n        return true;\n      }\n    }\n    return false;\n  };\n\n  getTableHeadersAndTableRowsAfterChannels = () => {\n    let headers = null;\n    let channels = null;\n    if (Config.bDebug) {\n      console.log(\"getTableHeadersAndTableRowsAfterChannels\");\n      console.log(\"this.state.bCheckShowChannelsAtSameTime\");\n      console.log(this.state.bCheckShowChannelsAtSameTime);\n      console.log(\"this.state.selectedchannelindex\");\n      console.log(this.state.selectedchannelindex);\n      console.log(this.state);\n    }\n\n    const currenttime = new Date();\n\n    let all_channels = this.channels;\n    if (all_channels == null) {\n      headers = [];\n      channels = [];\n      let ret = {};\n      ret.headers = headers;\n      ret.channels = channels;\n      return ret;\n    } else if (\n      this.state.bCheckShowChannelsAtSameTime &&\n      this.state.selectedchannelindex != -1\n    ) {\n      console.log(\"filter\");\n      let selectedTitle = null;\n      if (all_channels[this.state.selectedchannelindex])\n        selectedTitle = all_channels[this.state.selectedchannelindex].title;\n      else {\n        //console.log(\"kissa\");\n      }\n      let filteredchannels = all_channels.filter((s, i) => {\n        //\tconsole.log(\"i\");\n        //\tconsole.log(i);\n        return s.title === selectedTitle;\n      });\n      //\t\t\t\tconsole.log(\"filteredchannels\");\n      //\t\t\t\tconsole.log(filteredchannels);\n      headers = filteredchannels.map((jsonchannel, i) => {\n        return jsonchannel.title;\n      });\n      channels = filteredchannels.map((jsonchannel, i) => {\n        return (\n          <AmppariChannel\n            id={i}\n            data={jsonchannel}\n            selectedtyyppi={this.state.selectedtyyppi}\n            showSearch={\n              this.state.bSearchButtonClicked && this.state.textSearch != null\n            }\n            getPOfIndex={this.getPOfIndex}\n            oldProgram={this.oldProgram}\n            currenttime={currenttime}\n            themevalue={this.state.themevalue}\n            bshowdcurrentprograms={this.state.bshowdcurrentprograms}\n            displayAllDescriptions={this.state.bDisplayAllDescriptions}\n          />\n        );\n      });\n    } else {\n      if (\n        this.state.showChannelsAtSameTime == all_channels.length ||\n        this.state.showChannelsAtSameTime > all_channels.length\n      ) {\n        headers = all_channels.map((jsonchannel, i) => {\n          return jsonchannel.title;\n        });\n        channels = all_channels.map((jsonchannel, i) => {\n          return (\n            <AmppariChannel\n              id={i}\n              data={jsonchannel}\n              showSearch={\n                this.state.bSearchButtonClicked && this.state.textSearch != null\n              }\n              selectedtyyppi={this.state.selectedtyyppi}\n              getPOfIndex={this.getPOfIndex}\n              oldProgram={this.oldProgram}\n              currenttime={currenttime}\n              bshowdcurrentprograms={this.state.bshowdcurrentprograms}\n              themevalue={this.state.themevalue}\n              displayAllDescriptions={this.state.bDisplayAllDescriptions}\n            />\n          );\n        });\n      } else {\n        let bAllChannels = false;\n        if (this.state.showChannelsAtSameTime < all_channels.length) {\n          let min = Math.floor(\n            this.state.currentChannelSetIndex *\n              this.state.showChannelsAtSameTime\n          );\n          let max =\n            this.state.currentChannelSetIndex == 0\n              ? this.state.showChannelsAtSameTime\n              : Math.floor(\n                  this.state.currentChannelSetIndex *\n                    this.state.showChannelsAtSameTime +\n                    this.state.showChannelsAtSameTime\n                );\n          if (Config.bDebug) {\n            console.log(\"min\");\n            console.log(min);\n            console.log(\"max\");\n            console.log(max);\n          }\n          if (min < 0) min = 0;\n          else if (min > all_channels.length) {\n            min = all_channels.length;\n            bAllChannels = true;\n          }\n\n          if (max > all_channels.length) max = all_channels.length;\n\n          if (!bAllChannels) {\n            let i;\n            let newChannelSet = [];\n            for (i = min; i < max; i++) {\n              newChannelSet.push(all_channels[i]);\n            }\n\n            headers = newChannelSet.map((jsonchannel, i) => {\n              return jsonchannel.title;\n            });\n            channels = newChannelSet.map((jsonchannel, i) => {\n              return (\n                <AmppariChannel\n                  id={i}\n                  data={jsonchannel}\n                  showSearch={\n                    this.state.bSearchButtonClicked &&\n                    this.state.textSearch != null\n                  }\n                  selectedtyyppi={this.state.selectedtyyppi}\n                  getPOfIndex={this.getPOfIndex}\n                  oldProgram={this.oldProgram}\n                  currenttime={currenttime}\n                  bshowdcurrentprograms={this.state.bshowdcurrentprograms}\n                  themevalue={this.state.themevalue}\n                  displayAllDescriptions={this.state.bDisplayAllDescriptions}\n                />\n              );\n            });\n          }\n        } else {\n          bAllChannels = true;\n        }\n\n        if (bAllChannels) {\n          headers = all_channels.map((jsonchannel, i) => {\n            return jsonchannel.title;\n          });\n          channels = all_channels.map((jsonchannel, i) => {\n            return (\n              <AmppariChannel\n                id={i}\n                data={jsonchannel}\n                showSearch={\n                  this.state.bSearchButtonClicked &&\n                  this.state.textSearch != null\n                }\n                selectedtyyppi={this.state.selectedtyyppi}\n                getPOfIndex={this.getPOfIndex}\n                oldProgram={this.oldProgram}\n                currenttime={currenttime}\n                themevalue={\n                  props.themevalue ? props.themevalue : this.state.themevalue\n                }\n                bshowdcurrentprograms={this.state.bshowdcurrentprograms}\n                displayAllDescriptions={this.state.bDisplayAllDescriptions}\n              />\n            );\n          });\n        }\n      }\n    }\n\n    /*\n\t\tif (this.state.selectedsuodattimet != 'kaikki')\n\t\t{\n\t\t\tif (this.state.selectedsuodattimet === 'ilmaiset')\n\t\t\t{\n\t\t\t\tlet chs = all_channels.filter( (s, i) =>\n\t\t\t\t{ \n\t\t\t\t//\tconsole.log(\"i\");\n\t\t\t\t//\tconsole.log(i);\n\t\t\t\t\treturn this.getIsIlmainenChannel(s.title) \n\t\t\t\t} );\n\t\t\t\tall_channels = chs;\n\t\t\t}\n\t\t\telse\n\t\t\tif (this.state.selectedsuodattimet === 'ilmaiset')\n\t\t\t{\n\t\t\t\tlet chs = all_channels.filter( (s, i) =>\n\t\t\t\t{ \n\t\t\t\t//\tconsole.log(\"i\");\n\t\t\t\t//\tconsole.log(i);\n\t\t\t\t\treturn this.getIsMaksullinenChannel(s.title) \n\t\t\t\t} );\n\t\t\t\tall_channels = chs;\n\t\t\t}\t\t\t\n\t\t}\n\t\t*/\n\n    /*\n\t\tlet bAllChannels = false;\n\t\tif (this.state.bSearchButtonClicked)\n\t\t{\n\t\t\tif (all_channels == null)\n\t\t\t{\n\t\t\t\theaders = [];\n\t\t\t\tchannels = [];\t\n\t\t\t\tlet ret = {};\n\t\t\t\tret.headers = headers;\n\t\t\t\tret.channels = channels;\n\t\t\t\treturn ret;\t\t\n\t\t\t}\n\t\t\tconst searchText = this.state.textSearch;\n\t\t\tif (searchText != null && searchText.toString().trim().length > 0)\n\t\t\t{\n\t\t\t\tlet foundedChannelsTitle = null;\n\t\t\t\tlet index = -1;\n\t\t\t\tlet foundedChannels = [];\n\t\t\t\tlet foundedPrograms = [];\n\t\t\t\tlet founded = false;\t\t\t\t\n\t\t\t\tlet progfounded = false;\n\t\t\t\tlet uppersearchText = searchText.toUpperCase();\n\t\t\t\tlet chcoopy = {};\n\n\t\t\t\tlet search_channels = all_channels;\n\t\t\t\tif (this.state.bCheckShowChannelsAtSameTime\n\t\t\t\t\t&& this.state.selectedchannelindex != -1)\n\t\t\t\t{\t\t\t\n\t\t\t\t\tconsole.log(\"filter search bCheckShowChannelsAtSameTime\");\n\t\t\t\t\tlet selectedTitle = search_channels[this.state.selectedchannelindex].title;\n\t\t\t\t\tlet filteredchannels = search_channels.filter( (s, i) =>\n\t\t\t\t\t{ \n\t\t\t\t\t//\tconsole.log(\"i\");\n\t\t\t\t\t//\tconsole.log(i);\n\t\t\t\t\t\treturn s.title === selectedTitle \n\t\t\t\t\t} );\n\t\t\t\t\tsearch_channels = filteredchannels;\n\t\t\t\t}\n\t\t\t\tArray.from(search_channels).forEach(cha => {\n\t\t\t\t\tchcoopy = {};\n\t\t\t\t\tindex = -1;\n\t\t\t\t\tfounded = false;\n\t\t\t\t// this.state.channels.forEach(cha, i => {\n\t\t\t\t\tObject.assign(chcoopy, cha);\n\t\t\t\t\tindex = chcoopy.title.toUpperCase().indexOf(uppersearchText);\n\t\t\t\t\tif (index != -1)\n\t\t\t\t\t{\n\t\t\t\t\t\tchcoopy.titleindex = index;\n\t\t\t\t\t\tfounded = true;\n\t\t\t\t\t\tif (Config.bDebug)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tconsole.log(\"founded channel title chcoopy\");\n\t\t\t\t\t\t\tconsole.log(chcoopy);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tfoundedPrograms = [];\n\n\t\t\t\t\tlet prcopy = null;\n\t\t\t\t\tArray.from(chcoopy.channelprograms).forEach(pr => {\n\t\t\t\t\t// cha.channelprograms.forEach(pr, i => {\n\t\t\t\t\t\tprogfounded = false;\n\t\t\t\t\t\tprcopy = null;\n\t\t\t\t\t\tindex = pr.title.toString().toUpperCase().indexOf(uppersearchText);\n\t\t\t\t\t\tif (index != -1)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (prcopy == null)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tprcopy = {};\n\t\t\t\t\t\t\t\tObject.assign(prcopy, pr);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tprcopy.titleindex = index;\n\n\t\t\t\t\t\t\tfounded = true;\n\t\t\t\t\t\t\tprogfounded = true;\n\t\t\t\t\t\t\tif (Config.bDebug)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tconsole.log(\"founded program title\");\n\t\t\t\t\t\t\t\tconsole.log(prcopy);\n\t\t\t\t\t\t\t}\t\t\n\t\t\t\t\t\t}\n\t\t\t\t\t\tindex = pr.description.toString().toUpperCase().indexOf(uppersearchText);\n\t\t\t\t\t\tif (index != -1)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (prcopy == null)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tprcopy = {};\n\t\t\t\t\t\t\t\tObject.assign(prcopy, pr);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tprcopy.descriptionindex = index;\n\t\t\t\t\t\t\tfounded = true;\n\n\t\t\t\t\t\t\tprogfounded = true;\n\t\t\t\t\t\t\tif (Config.bDebug)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tconsole.log(\"founded program description\");\n\t\t\t\t\t\t\t\tconsole.log(prcopy);\n\t\t\t\t\t\t\t}\t\t\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (progfounded)\n\t\t\t\t\t\t\tfoundedPrograms.push(prcopy);\n\t\t\t\t\t});\t\n\n\t\t\t\t\tif (founded)\n\t\t\t\t\t{\t\n\t\t\t\t\t\tif (foundedPrograms != null && foundedPrograms.length != 0)\n\t\t\t\t\t\t\tchcoopy.channelprograms = foundedPrograms;\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tchcoopy.channelprograms = cha.channelprograms;\n\t\t\t\t\t\tfoundedChannels.push(chcoopy);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (foundedChannels == null && foundedChannels.length == 0)\n\t\t\t\t{\n\t\t\t\t\theaders = [];\n\t\t\t\t\tchannels = [];\t\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\n\t\t\t\t\theaders = foundedChannels.map((jsonchannel, i) => {\n\t\t\t\t\t\treturn jsonchannel.title\n\t\t\t\t\t});\n\t\t\t\t\tchannels = foundedChannels.map((jsonchannel, i) => {\n\t\t\t\t\t\treturn <AmppariChannel id={i} data={jsonchannel}\n\t\t\t\t\t\t\t\tshowSearch={true}\n\t\t\t\t\t\t\t\tgetPOfIndex={this.getPOfIndex}\n\t\t\t\t\t\t\t\tselectedtyyppi={this.state.selectedtyyppi}\n\t\t\t\t\t\t\t\tdisplayAllDescriptions=\n\t\t\t\t\t\t\t\t      {this.state.bDisplayAllDescriptions} \n\t\t\t\t\t\t\t\t/>;\n\t\t\t\t\t});\t\t\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\theaders = all_channels.map((jsonchannel, i) => {\n\t\t\t\t\treturn jsonchannel.title\n\t\t\t\t});\n\t\t\t\tchannels = all_channels.map((jsonchannel, i) => {\n\t\t\t\t\treturn <AmppariChannel id={i} data={jsonchannel}\n\t\t\t\t\t\t\tshowSearch={false}\n\t\t\t\t\t\t\tselectedtyyppi={this.state.selectedtyyppi}\n\t\t\t\t\t\t\tdisplayAllDescriptions={this.state.bDisplayAllDescriptions} />;\n\t\t\t\t});\t\n\t\t\t}\n\t\t}\n\t\telse\n\t\tif (this.state.bCheckShowChannelsAtSameTime\n\t\t\t&& this.state.selectedchannelindex != -1)\n\t\t{\t\t\t\n\t\t\tconsole.log(\"filter\");\n\t\t\tlet selectedTitle = all_channels[this.state.selectedchannelindex].title;\n\t\t\tlet filteredchannels = all_channels.filter( (s, i) =>\n\t\t\t{ \n\t\t\t//\tconsole.log(\"i\");\n\t\t\t//\tconsole.log(i);\n\t\t\t\treturn s.title === selectedTitle \n\t\t\t} );\n//\t\t\t\tconsole.log(\"filteredchannels\");\n//\t\t\t\tconsole.log(filteredchannels);\n\t\t\theaders = filteredchannels.map((jsonchannel, i) => {\n\t\t\t\treturn jsonchannel.title\n\t\t\t\t});\n\t\t\tchannels = filteredchannels.map((jsonchannel, i) => {\n\t\t\t\treturn <AmppariChannel id={i} data={jsonchannel}\n\t\t\t\t\t\tshowSearch={false}\n\t\t\t\t\t\tselectedtyyppi={this.state.selectedtyyppi}\n\t\t\t\t\t\tdisplayAllDescriptions={this.state.bDisplayAllDescriptions} />;\n\t\t\t});\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (this.state.showChannelsAtSameTime == all_channels.length\n\t\t\t   || this.state.showChannelsAtSameTime > all_channels.length)\n\t\t\t{\n\t\t\t\theaders = all_channels.map((jsonchannel, i) => {\n\t\t\t\t\treturn jsonchannel.title\n\t\t\t\t});\n\t\t\t\tchannels = all_channels.map((jsonchannel, i) => {\n\t\t\t\t\treturn <AmppariChannel id={i} data={jsonchannel}\n\t\t\t\t\t\t\tshowSearch={false}\n\t\t\t\t\t\t\tselectedtyyppi={this.state.selectedtyyppi}\n\t\t\t\t\t\t\tdisplayAllDescriptions={this.state.bDisplayAllDescriptions} />;\n\t\t\t\t});\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tlet bAllChannels = false;\n\t\t\t\tif (this.state.showChannelsAtSameTime < all_channels.length)\n\t\t\t\t{\n\t\t\t\t\tlet min = Math.floor(this.state.currentChannelSetIndex * this.state.showChannelsAtSameTime);\n\t\t\t\t\tlet max = (this.state.currentChannelSetIndex == 0 \n\t\t\t\t\t\t? this.state.showChannelsAtSameTime : \n\t\t\t\t\t\tMath.floor((this.state.currentChannelSetIndex * this.state.showChannelsAtSameTime) \n\t\t\t\t\t\t\t+this.state.showChannelsAtSameTime));\n\t\t\t\t\tif (Config.bDebug)\n\t\t\t\t\t{\n\t\t\t\t\t\tconsole.log(\"min\");\n\t\t\t\t\t\tconsole.log(min);\n\t\t\t\t\t\tconsole.log(\"max\");\n\t\t\t\t\t\tconsole.log(max);\n\t\t\t\t\t}\n\t\t\t\t\tif (min < 0)\n\t\t\t\t\t\tmin = 0;\n\t\t\t\t\telse\n\t\t\t\t\tif (min > all_channels.length)\n\t\t\t\t\t{\n\t\t\t\t\t\tmin = all_channels.length;\n\t\t\t\t\t\tbAllChannels = true;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (max > all_channels.length)\n\t\t\t\t\t\tmax = all_channels.length;\n\n\t\t\t\t\tif (!bAllChannels)\n\t\t\t\t\t{\n\t\t\t\t\t\tlet i;\n\t\t\t\t\t\tlet newChannelSet = []\n\t\t\t\t\t\tfor (i = min; i < max; i++) {\n\t\t\t\t\t\t\tnewChannelSet.push(all_channels[i]);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\theaders = newChannelSet.map((jsonchannel, i) => {\n\t\t\t\t\t\t\treturn jsonchannel.title\n\t\t\t\t\t\t});\n\t\t\t\t\t\tchannels = newChannelSet.map((jsonchannel, i) => {\n\t\t\t\t\t\t\treturn <AmppariChannel id={i} data={jsonchannel}\n\t\t\t\t\t\t\t\t\tshowSearch={false}\n\t\t\t\t\t\t\t\t\tselectedtyyppi={this.state.selectedtyyppi}\n\t\t\t\t\t\t\t\t\tdisplayAllDescriptions={this.state.bDisplayAllDescriptions} />;\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tbAllChannels = true;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif (bAllChannels)\n\t\t\t\t{\n\t\t\t\t\theaders = all_channels.map((jsonchannel, i) => {\n\t\t\t\t\t\treturn jsonchannel.title\n\t\t\t\t\t});\n\t\t\t\t\tchannels = all_channels.map((jsonchannel, i) => {\n\t\t\t\t\t\treturn <AmppariChannel id={i} data={jsonchannel}\n\t\t\t\t\t\t\t\tshowSearch={false}\n\t\t\t\t\t\t\t\tselectedtyyppi={this.state.selectedtyyppi}\n\t\t\t\t\t\t\t\tdisplayAllDescriptions={this.state.bDisplayAllDescriptions} />;\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\t\t*/\n\n    /*\n\t\t\t\tlet divided = this.state.channels.size() % this.state.showChannelsAtSameTime:\t\t\t\t\t\t\n\t\t\t\tif (Config.bDebug)\n\t\t\t\t{\n\t\t\t\t\tconsole.log(\"divided\");\n\t\t\t\t\tconsole.log(divided);\n\t\t\t\t}\n\t\t\t\t*/\n\n    let ret = {};\n    ret.headers = headers;\n    ret.channels = channels;\n    return ret;\n  };\n\n  textFieldChannelsAtSameTimeChanged = (event) => {\n    event.preventDefault();\n    let value = event.target.value;\n    if (Config.bDebug) {\n      console.log(\"textFieldChannelsAtSameTimeChanged\");\n      console.log(value);\n    }\n    let validNumber = parseInt(value);\n    if (Config.bDebug) {\n      console.log(\"validNumber\");\n      console.log(validNumber);\n    }\n    if (validNumber == NaN || validNumber == undefined) {\n      event.target.value = this.const_showChannelsAtSameTime;\n      return;\n    } else if (parseInt(validNumber) < 1) {\n      event.target.value = 1;\n      return;\n    } else if (parseInt(validNumber) > this.const_showChannelsAtSameTime) {\n      event.target.value = this.const_showChannelsAtSameTime;\n      return;\n    }\n    this.setState({\n      showChannelsAtSameTime: validNumber,\n      currentChannelSetIndex: 0,\n    });\n  };\n\n  textFieldSearchChanged = (event) => {\n    event.preventDefault();\n    const value = event.target.value;\n    if (Config.bDebug) {\n      console.log(\"textFieldSearchChanged\");\n      console.log(value);\n    }\n    this.filterWhenUIControlsHasBeenChanged(filtercalled.SEARCHCHANE, value);\n  };\n\n  searchTextFromChannelsClicked = () => {\n    event.preventDefault();\n    if (Config.bDebug) {\n      console.log(\"searchTextFromChannelsClicked\");\n    }\n    const searchText = this.textSearch;\n    if (Config.bDebug) {\n      console.log(\"searchText 2 \");\n      console.log(searchText);\n    }\n    if (\n      searchText == undefined ||\n      searchText == null ||\n      searchText.trim().length == 0\n    )\n      return;\n    // to start make indirect the search:\n    if (Config.bDebug) {\n      console.log(\"searchTextFromChannelsClicked 2 \");\n    }\n    let value = this.showAllDescrRef.current.value;\n    if (!value) this.showAllDescrRef.current.value = true;\n\n    this.filterWhenUIControlsHasBeenChanged(filtercalled.MAKESEARCH, true);\n    this.setState({\n      bSearchButtonClicked: true,\n      bDisplayAllDescriptions: true,\n      channels: this.channels,\n    });\n    this.forceUpdate();\n  };\n\n  getMovieOrSportChannels = (selected) => {\n    const fitems = this.channeltypeitems;\n    if (fitems == null) return null;\n    if (selected == undefined || selected == null) return null;\n    let ret = null;\n    let foundmovies = selected === \"elokuvat\";\n    let foundsport = selected === \"urheilu\";\n    let chcoopy, foundedPrograms, progfounded;\n    let foundedChannels = [];\n\n    Array.from(fitems).forEach((cha) => {\n      if (cha === undefined) return;\n      chcoopy = {};\n      Object.assign(chcoopy, cha);\n      /*\n\t\t\tif (Config.bDebug)\n\t\t\t{\n\t\t\t\tconsole.log(\"chcoopy\");\n\t\t\t\tconsole.log(chcoopy);\n\t\t\t\tconsole.log(\"chcoopy.channelprograms\");\n\t\t\t\tconsole.log(chcoopy.channelprograms);\n\t\t\t}\n\t\t\t*/\n      foundedPrograms = [];\n      progfounded = false;\n\n      let prcopy = null;\n      Array.from(chcoopy.channelprograms).forEach((pr) => {\n        // cha.channelprograms.forEach(pr, i => {\n        if (foundmovies && pr.movie) {\n          progfounded = true;\n          foundedPrograms.push(pr);\n        } else if (foundsport && pr.sport) {\n          progfounded = true;\n          foundedPrograms.push(pr);\n        }\n      });\n\n      if (progfounded) {\n        if (foundedPrograms != null && foundedPrograms.length != 0) {\n          chcoopy.channelprograms = foundedPrograms;\n          foundedChannels.push(chcoopy);\n        }\n      }\n    });\n\n    return foundedChannels;\n  };\n\n  filterFetchedItemsIntoChannelsAfterTyyppi = (selected) => {\n    const fitems = this.state.fetcheditems;\n    if (fitems == null) return null;\n    if (selected == undefined || selected == null) return null;\n    let ret = null;\n    if (selected == \"kaikki\") ret = fitems;\n    else if (selected === \"elokuvat\") {\n      ret = this.getMovieOrSportChannels(selected);\n    } else if (selected === \"urheile\") {\n      ret = this.getMovieOrSportChannels(selected);\n    }\n    return ret;\n  };\n\n  filterFetchedItemsIntoChannelsAfterSuodin = (selected) => {\n    const fitems = this.state.fetcheditems;\n    if (fitems == null) return null;\n    if (selected == undefined || selected == null) return null;\n    let ret = null;\n    if (selected == \"kaikki\") ret = fitems;\n    else if (selected === \"ilmaiset\") {\n      ret = fitems.filter((s, i) => {\n        //\tconsole.log(\"i\");\n        //\tconsole.log(i);\n        return s.pay === false;\n      });\n    } else if (selected === \"maksulliset\") {\n      ret = fitems.filter((s, i) => {\n        //\tconsole.log(\"i\");\n        //\tconsole.log(i);\n        return s.pay === true;\n      });\n    }\n    return ret;\n  };\n\n  filterChannesAfterChannelPay = (channeltype) => {\n    //  filterChannesAfterChannelPay takes items from fetcheditems and populates: channeltypeitems,\n    let ind = null;\n    let selected = null;\n    let chtype = null;\n\n    // const fitems = this.state.fetcheditems;\n    const fitems = this.fetcheditems;\n\n    if (Config.bDebug) {\n      console.log(\"filterChannesAfterChannelPay\");\n      console.log(\"channeltype\");\n      console.log(channeltype);\n      console.log(\"channeltype\");\n      console.log(channeltype);\n      console.log(\"fitems\");\n      console.log(fitems);\n      console.log(\"fitems.size\");\n      console.log(fitems.length);\n    }\n    if (channeltype !== undefined) {\n      ind = channeltype.ind;\n      selected = channeltype.selected;\n      chtype = channeltype.channeltype;\n    } else {\n      selected = this.state.selectedsuodattimet;\n      ind = this.state.selectedsuodatinindex;\n    }\n\n    if (Config.bDebug) {\n      console.log(\"filterChannesAfterChannelPay 2\");\n      console.log(\"ind\");\n      console.log(ind);\n      console.log(\"selected\");\n      console.log(selected);\n    }\n\n    let chls = null;\n    if (fitems == null) chls = null;\n    else if (selected == undefined || selected == null) chls = fitems;\n    else {\n      if (selected == \"kaikki\") chls = fitems;\n      else {\n        let ret = null;\n        if (selected === \"ilmaiset\") {\n          ret = fitems.filter((s, i) => {\n            //\tconsole.log(\"i\");\n            //\tconsole.log(i);\n            return s.pay === false;\n          });\n        } else if (selected === \"maksulliset\") {\n          ret = fitems.filter((s, i) => {\n            //\tconsole.log(\"i\");\n            //\tconsole.log(i);\n            return s.pay === true;\n          });\n        }\n        chls = ret;\n      }\n    }\n\n    if (Config.bDebug) {\n      console.log(\"chls 2\");\n      console.log(chls);\n    }\n\n    let bChange = false;\n    let value = this.showOneChannelRef.current.checked;\n    if (value) {\n      this.showOneChannelRef.current.checked = false;\n      bChange = true;\n    }\n\n    if (Config.bDebug) {\n      console.log(\"bChange 2\");\n      console.log(bChange);\n      console.log(\"chls - channeltypeitems\");\n      console.log(chls);\n      console.log(\"channeltypeitems.size\");\n      console.log(chls.length);\n    }\n\n    this.channeltypeitems = chls;\n\n    // let chls = this.filterFetchedItemsIntoChannelsAfterSuodin(chtype);\n    /*\n\t\tif (!bChange)\n\t\tthis.setState({\n\t\t\tselectedsuodatinindex: ind,\t\n\t\t\tselectedsuodattimet: selected,\n\t\t\tchanneltypeitems: chls\n\t\t});\n\t\telse\n\t\tthis.setState({\n\t\t\tselectedsuodatinindex: ind,\t\n\t\t\tselectedsuodattimet: selected,\n\t\t\tchanneltypeitems: chls,\n\t\t\tbCheckShowChannelsAtSameTime: true\n\t\t});\n\t\t*/\n\n    if (Config.bDebug) {\n      console.log(\"filterChannesAfterChannelPay 3\");\n      console.log(this.state);\n    }\n  };\n\n  filterAfterProgramType = (change) => {\n    // if change parameter is undefined, then take value from state!\n    // filterAfterProgramType takes items from channeltypeitems and populates: programtypeitems\n    //         and/or channels if there is no search,\n\n    let ind = null;\n    let mychange = null;\n    if (change == undefined) mychange = this.state.selectedtyyppi;\n    else {\n      ind = change.ind;\n      mychange = change.selected;\n    }\n\n    // const fitems = this.state.channeltypeitems;\n    const fitems = this.channeltypeitems;\n    if (Config.bDebug) {\n      console.log(\"filterAfterProgramType channeltypeitems\");\n      console.log(this.channeltypeitems);\n      console.log(\"channeltypeitems.length\");\n      console.log(fitems.length);\n    }\n\n    let items = fitems;\n    if (mychange == \"kaikki\") items = fitems;\n    else if (mychange === \"elokuvat\") {\n      items = this.getMovieOrSportChannels(mychange);\n    } else if (mychange === \"urheilu\") {\n      items = this.getMovieOrSportChannels(mychange);\n    }\n\n    this.programtypeitems = items;\n    this.channels = items;\n    if (Config.bDebug) {\n      console.log(\"programtypeitems\");\n      console.log(this.programtypeitems);\n      console.log(\"programtypeitems.length\");\n      console.log(this.programtypeitems.length);\n    }\n    /*\t\t\n\t\tif (change !== undefined)\n\t\t\tthis.setState({ programtypeitems: items,\n\t\t\t\tselectedTyyppiinindex: ind,\n\t\t\t\tselectedtyyppi: selected\n\t\t\t\t});\n\t\telse\n\t\t\tthis.setState({ programtypeitems: items\t});\n\t\t\t*/\n\n    // { fetcheditems: data, channels: data,\n    //\tbUnderFetch: false, selectedsuodattimet: 'kaikki',\n    //\t\tselectedtyyppi: 'kaikki', selectedTyyppiinindex: 0,\n    //\t\tselectedsuodatinindex: 0 }\n  };\n\n  makeSearchChange = (change) => {\n    const bSearch = this.state.bSearchButtonClicked;\n    if (\n      /* bSearch && */ change === undefined ||\n      change === null ||\n      change.toString().trim().length == 0\n    ) {\n      this.textSearch = null;\n      this.channels = this.programtypeitems;\n      this.setState({ textSearch: null, bSearchButtonClicked: false });\n      // this.filterAfterSearch();\n      /*\n\t\t\tthis.setState({ textSearch: change, \n\t\t\t\tbSearchButtonClicked: false});\n\t\t\t*/\n    } else this.textSearch = change;\n    //\t\t\tthis.setState({ textSearch: change});\n    // this.setState({ textSearch: change,\n    //\tbSearchButtonClicked: false})\n  };\n\n  filterAfterSearch = (change) => {\n    // if change parameter is undefined, then take value from state!\n    // filterAfterSearch takes items from programtypeitems and populates: channels if there is a\n    // ongoing search.\n    let mychange = null;\n    if (change == undefined) mychange = this.state.bSearchButtonClicked;\n    else {\n      mychange = change;\n    }\n\n    let bAllChannels = false;\n    let foundedChannels = [];\n    let foundedPrograms = [];\n\n    if (Config.bDebug) {\n      console.log(\"filterAfterSearch mychange\");\n      console.log(mychange);\n    }\n\n    this.channels = this.state.programtypeitems;\n    if (mychange !== undefined || mychange !== null || mychange) {\n      let all_channels = this.channels;\n      //let all_channels = this.channels;\n      if (Config.bDebug) {\n        console.log(\"all_channels\");\n        console.log(all_channels);\n        console.log(\"all_channels.length\");\n        console.log(all_channels.length);\n      }\n\n      if (all_channels == null) {\n        // this.setState({ bSearchButtonClicked: false, channels: null});\n      } else {\n        // const searchText = this.state.textSearch;\n        const searchText = this.textSearch;\n        if (Config.bDebug) {\n          console.log(\"searchText\");\n          console.log(searchText);\n        }\n        if (searchText == null || searchText.toString().trim().length == 0) {\n          //\t\t\t\t\tthis.setState({ bSearchButtonClicked: false,\n          //\t\t\t\t\t\tchannels: all_channels});\n        } else {\n          let foundedChannelsTitle = null;\n          let index = -1;\n          let founded = false;\n          let progfounded = false;\n          let uppersearchText = searchText.toUpperCase();\n          let chcoopy = {};\n\n          let selectedchannelindex = this.state.selectedchannelindex;\n          if (\n            this.state.bCheckShowChannelsAtSameTime &&\n            selectedchannelindex > -1\n          ) {\n            const onech = all_channels[selectedchannelindex];\n            if (onech) {\n              all_channels = [];\n              all_channels.push(onech);\n              this.setState({\n                /* this makes a smaill bug: selectedchannelindex: 0, */\n                currentChannelSetIndex: 0,\n              });\n              selectedchannelindex = 0;\n            }\n          }\n\n          let search_channels = all_channels;\n          if (\n            this.state.bCheckShowChannelsAtSameTime &&\n            selectedchannelindex != -1\n          ) {\n            console.log(\"filter search bCheckShowChannelsAtSameTime\");\n            let selectedTitle = search_channels[selectedchannelindex].title;\n            let filteredchannels = search_channels.filter((s, i) => {\n              //\tconsole.log(\"i\");\n              //\tconsole.log(i);\n              return s.title === selectedTitle;\n            });\n            search_channels = filteredchannels;\n          }\n\n          if (Config.bDebug) {\n            console.log(\"search_channels\");\n            console.log(search_channels);\n          }\n\n          Array.from(search_channels).forEach((cha) => {\n            if (cha === undefined) return;\n            chcoopy = {};\n            index = -1;\n            founded = false;\n            // this.state.channels.forEach(cha, i => {\n            Object.assign(chcoopy, cha);\n            /*\n\t\t\t\t\t\tif (Config.bDebug)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tconsole.log(\"chcoopy\");\n\t\t\t\t\t\t\tconsole.log(chcoopy);\n\t\t\t\t\t\t\tconsole.log(\"chcoopy.channelprograms\");\n\t\t\t\t\t\t\tconsole.log(chcoopy.channelprograms);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t*/\n            index = chcoopy.title.toUpperCase().indexOf(uppersearchText);\n            if (index != -1) {\n              chcoopy.titleindex = index;\n              founded = true;\n              if (Config.bDebug) {\n                console.log(\"founded channel title chcoopy\");\n                console.log(chcoopy);\n              }\n            }\n            foundedPrograms = [];\n\n            let prcopy = null;\n            Array.from(chcoopy.channelprograms).forEach((pr) => {\n              if (pr === undefined) return;\n              // cha.channelprograms.forEach(pr, i => {\n              progfounded = false;\n              prcopy = {};\n              Object.assign(prcopy, pr);\n              index = prcopy.title\n                ? prcopy.title.toString().toUpperCase().indexOf(uppersearchText)\n                : -1;\n              if (index != -1) {\n                prcopy.titleindex = index;\n                /*\n\t\t\t\t\t\t\t\tprcopy.title = pr.title;\n\t\t\t\t\t\t\t\tprcopy.description = pr.description;\n\t\t\t\t\t\t\t\tprcopy.channel  = pr.channel;\n\t\t\t\t\t\t\t\tprcopy.id  = pr.id;\n\t\t\t\t\t\t\t\tprcopy.movie  = pr.movie;\n\t\t\t\t\t\t\t\tprcopy.sport  = pr.sport;\n\t\t\t\t\t\t\t\tprcopy.timestamp  = pr.timestamp;\t\n\t\t\t\t\t\t\t\t*/\n\n                founded = true;\n                progfounded = true;\n                if (Config.bDebug) {\n                  console.log(\"founded program title\");\n                  console.log(prcopy);\n                }\n              }\n              index = prcopy.description\n                ? prcopy.description\n                    .toString()\n                    .toUpperCase()\n                    .indexOf(uppersearchText)\n                : -1;\n              if (index != -1) {\n                prcopy.descriptionindex = index;\n                founded = true;\n                /*\n\t\t\t\t\t\t\t\tprcopy.title = pr.title;\n\t\t\t\t\t\t\t\tprcopy.description = pr.description;\n\t\t\t\t\t\t\t\tprcopy.channel  = pr.channel;\n\t\t\t\t\t\t\t\tprcopy.id  = pr.id;\n\t\t\t\t\t\t\t\tprcopy.movie  = pr.movie;\n\t\t\t\t\t\t\t\tprcopy.sport  = pr.sport;\n\t\t\t\t\t\t\t\tprcopy.timestamp  = pr.timestamp;\n\t\t\t\t\t\t\t\t*/\n\n                progfounded = true;\n                if (Config.bDebug) {\n                  console.log(\"founded program description\");\n                  console.log(prcopy);\n                }\n              }\n              if (progfounded) foundedPrograms.push(prcopy);\n            });\n\n            if (founded) {\n              if (foundedPrograms != null && foundedPrograms.length != 0)\n                chcoopy.channelprograms = foundedPrograms;\n              else chcoopy.channelprograms = cha.channelprograms;\n              foundedChannels.push(chcoopy);\n            }\n          });\n\n          if (foundedChannels == null || foundedChannels.length == 0) {\n            // if (change == undefined)\n            // this.setState({ bSearchButtonClicked: false,\n            //\tchannels: null});\n            this.channels = null;\n          } else {\n            if (Config.bDebug) {\n              console.log(\"foundedChannels\");\n              console.log(this.programtypeitems);\n              console.log(\"foundedChannels.length\");\n              console.log(foundedChannels.length);\n            }\n            /*\n\t\t\t\t\t\tthis.setState({ bSearchButtonClicked: true, \n\t\t\t\t\t\t\tchannels: foundedChannels});\n\t\t\t\t\t\t\t*/\n            this.channels = foundedChannels;\n          }\n        }\n      }\n    } else {\n      //\t\t\tthis.setState({ bSearchButtonClicked: false,\n      //\t\t\t\tchannels: this.state.programtypeitems });\n    }\n  };\n\n  filterWhenUIControlsHasBeenChanged = (calledfrom, change) => {\n    //  filterChannesAfterChannelPay takes items from fetcheditems and populates: channeltypeitems,\n    // filterAfterProgramType takes items from channeltypeitems and populates: programtypeitems\n    //         and/or channels if there is no search,\n    // filterAfterSearch takes items from programtypeitems and populates: channels if there is a\n    // ongoing search.\n    // if there is no 'previos' stage change, then take previous items and only filter 'own' items and\n    // put those on 'next' item state state variable. See above! (this method is called in all\n    // possible change place, ie from ui controll change methods).\n    console.log(\"filterWhenUIControlsHasBeenChanged\");\n    console.log(\"calledfrom\");\n    console.log(calledfrom);\n    console.log(\"change\");\n    console.log(change);\n\n    //\tthis.setState({ channels: null });\n\n    switch (calledfrom) {\n      case filtercalled.CHANNELTYPE:\n        console.log(\"calledfrom.CHANNELTYPE\");\n        this.filterChannesAfterChannelPay(change);\n        this.filterAfterProgramType();\n        //\tthis.filterAfterSearch(); // possible a search call\n        break;\n      case filtercalled.PROGRAMTYPE:\n        this.filterAfterProgramType(change);\n        //\tthis.filterAfterSearch(); // possible a search call\n        break;\n      case filtercalled.SEARCHCHANE:\n        // only a search data change or if null or empty set 'bSearch' false:\n        this.makeSearchChange(change);\n        break;\n      case filtercalled.MAKESEARCH:\n        this.filterAfterSearch(change); // search button pressed!\n        break;\n    }\n    //\tthis.setState({ channels: this.channels });\n  };\n\n  setDisplayAllDescriptionsTrue = (textSearch) => {\n    let value = this.showAllDescrRef.current.checked;\n    if (!value) this.showAllDescrRef.current.checked = true;\n    /*\n\t\tthis.setState({ bDisplayAllDescriptions: true, \n\t\t\tbSearchButtonClicked: textSearch !== undefined || textSearch !== null \n\t\t\t|| textSearch.trim().length !== 0 ? true : false,\n\t\t\ttextSearch: textSearch !== undefined || textSearch !== null \n\t\t\t|| textSearch.trim().length !== 0 ? textSearch : null });\n\t\tconsole.log(\"setDisplayAllDescriptionsTrue\");\n\t\tconsole.log(this.state);\n\t\t*/\n  };\n\n  getCurrentColumnIndex = (path) => {\n    if (path === undefined || path === null || path.length === 0) return null;\n\n    if (Config.bDebug) {\n      console.log(\"path\");\n      console.log(path);\n    }\n\n    let ret = -1;\n    let i = 0,\n      max = path.length;\n    let value, str;\n    const search = \"tablecol\";\n    for (i = 0; i < max; i++) {\n      // value = path[i].localName;\n      value = path[i];\n      str = value.id.toString();\n\n      if (str && str.includes(search)) {\n        let ind = str.indexOf(search);\n        let strNum = str.substring(ind + search.length);\n        ret = parseInt(strNum);\n        break;\n      }\n    }\n    return ret;\n  };\n\n  getH3OfCurrentColumn = (path) => {\n    if (path === undefined || path === null || path.length === 0) return null;\n    if (Config.bDebug) {\n      console.log(\"path\");\n      console.log(path);\n    }\n\n    let ret = -1;\n    let i = 0,\n      max = path.length;\n    let value, str;\n    const search = \"tablecol\";\n    for (i = 0; i < max; i++) {\n      // value = path[i].localName;\n      value = path[i];\n      str = value.id.toString();\n      if (str && str.includes(search)) {\n        let ind = str.indexOf(search);\n        let strNum = str.substring(ind + search.length);\n        let ind2 = parseInt(strNum);\n        ret = value.childNodes[0];\n        if (ret) {\n          let ret2 = ret.childNodes[0];\n          if (ret2) ret = ret2;\n        }\n        break;\n      }\n    }\n    return ret;\n  };\n\n  getNextColumn = (cols, currentColInd) => {\n    let ret = null;\n    if (cols && currentColInd !== undefined && currentColInd !== null) {\n      if (cols[currentColInd + 1]) ret = cols[currentColInd + 1];\n    }\n    return ret;\n  };\n\n  getPrevColumn = (cols, currentColInd) => {\n    let ret = null;\n    if (cols && currentColInd) {\n      if (cols[currentColInd - 1]) ret = cols[currentColInd - 1];\n    }\n    return ret;\n  };\n\n  speakScreenReader(text)\n  {\n    document.getElementById(\"screenreaderdiv\").innerHTML = text;\n    this.setState({screenreaderdiv: text })\n  }\n\n\n  altPlusKeyUp = (e) => {\n    e = e || window.event;\n    let keyCode = e.keyCode || e.which,\n      arrow = { left: 37, up: 38, right: 39, down: 40 };\n    if (Config.bDebug) console.log(\"pressed\");\n    if (e.shiftKey || e.altKey) {\n      if (Config.bDebug) {\n        console.log(\"control key\");\n        console.log(\"e.altKey\");\n        console.log(e.altKey);\n        console.log(\"e.shiftKey\");\n        console.log(e.shiftKey);\n        console.log(\"keyCode\");\n        console.log(keyCode);\n        console.log(\"e.keyCode\");\n        console.log(e.keyCode);\n        console.log(\"e\");\n        console.log(e);\n      }\n\n      let row = this.tablCntl.current.rows[1];\n      const cols = row.cells;\n      const currColInd = row.colIndex;\n      const lenCols = cols.length;\n      const currentCol = row.closest(\"td\");\n      if (Config.bDebug) {\n        console.log(\"--- row\");\n        console.log(row);\n        console.log(\"--- cols\");\n        console.log(cols);\n        console.log(\"--- lenCols\");\n        console.log(lenCols);\n        console.log(\"--- currColInd\");\n        console.log(currColInd);\n        console.log(\"--- currentCol\");\n        console.log(currentCol);\n\n        console.log(\"--- this.tablCntl.current\");\n        console.log(this.tablCntl.current);\n      }\n      let currentColInd = null;\n      let path = null;\n\n      // .item(0).innerHTML\n      switch (e.key) {        \n        case \"r\":\n        case \"R\":\n          e.preventDefault();\n          path = document.activeElement;\n          if (path && path.innerHTML) {\n            this.speakScreenReader(path.innerHTML.toString());\n          }\n          break;\n\n        case \"c\":\n        case \"C\":\n          e.preventDefault();\n          path = e.composedPath();\n          //... handle alt+o\n          divInsideOfCol = this.getH3OfCurrentColumn(path);\n          if (divInsideOfCol) {\n            const channelTextHtml = divInsideOfCol.innerHTML;\n            const channelText = channelTextHtml.toString();\n            if (channelText)\n              this.speakScreenReader(channelText);\n          }\n          break;\n\n        case \"o\":\n        case \"O\":\n          e.preventDefault();\n          //... handle alt+o\n          path = e.composedPath();\n          let divInsideOfCol = this.getH3OfCurrentColumn(path);\n          if (divInsideOfCol) {\n            divInsideOfCol.focus();\n          }\n          break;\n\n        case \"k\":\n        case \"K\":\n          e.preventDefault();\n          //... handle alt+k\n          path = e.composedPath();\n          currentColInd = this.getCurrentColumnIndex(path);\n          if (currentColInd > 0) {\n            const prevcol = this.getPrevColumn(cols, currentColInd);\n            if (prevcol) {\n              prevcol.focus();\n            }\n          }\n          break;\n\n        case \"a\":\n        case \"A\":\n          e.preventDefault();\n          //... handle alt+s\n          path = e.composedPath();\n          currentColInd = this.getCurrentColumnIndex(path);\n          if (currentColInd !== -1 && currentColInd < lenCols - 1) {\n            const nextcol = this.getNextColumn(cols, currentColInd);\n            // const nextcol = getH3OfCurrentColumn(e.path);\n            // document.getElementById(\"tablecol\" +(currentColInd+1)).focus();\n            if (nextcol) {\n              if (Config.bDebug) {\n                console.log(\"nextcol\");\n                console.log(nextcol);\n              }\n              nextcol.focus();\n              // document.getElementById(\"tablecol\" +(currentColInd+1)).focus();\n              // route(\"#\"+nextcol.id);\n              // Config.callFocusOfId(nextcol.id);\n            }\n          }\n          /* test code for firefox browser:\n\n\t\t\t\tdivInsideOfCol = this.getH3OfCurrentColumn(e.path);\n\t\t\t\tif (divInsideOfCol)\n\t\t\t\t{\n\t\t\t\t\t divInsideOfCol.setAttribute('tabindex', '0');\t\t\t\t\t\n\t\t\t\t\t divInsideOfCol.focus();\n\t\t\t\t\t window.setTimeout(function ()\n    \t\t\t\t{\n        \t\t\t\tdocument.getElementById(divInsideOfCol.id).focus();\n    \t\t\t\t}, 100);\n\t\t\t\t\t// document.getElementById(divInsideOfCol.id).focus(); \n\t\t\t\t\t// aField = document.getElementById('entryField');\n\t\t\t\t\t// Config.callFocusOfId(divInsideOfCol.id);\n\t\t\t\t\t// document.getElementById(divInsideOfCol.id).click();\n\t\t\t\t}\n\t\t\t\t*/\n          break;\n      }\n    }\n  };\n\n  showdcurrentprograms = (event) => {\n    event.preventDefault();\n    let value = event.target.checked;\n    console.log(\"showdcurrentprograms\");\n    let bValue = value; // this.state.bDisplayAllDescriptions;\n    console.log(\"bValue\");\n    console.log(bValue);\n    /*\n\t\tif (value === 'on')\n\t\t\tbValue = true;\n\t\tconsole.log(value);\n\t\t*/\n    this.setState({\n      bshowdcurrentprograms: bValue,\n      /* bSearchButtonClicked: false */\n    });\n  };\n\n  altPlusKeyUpProgramHeader = (e) => {\n    e = e || window.event;\n    let keyCode = e.keyCode || e.which,\n      arrow = { left: 37, up: 38, right: 39, down: 40 };\n    if (Config.bDebug) console.log(\"pressed\");\n    if (e.altKey) {\n      if (Config.bDebug) {\n        console.log(\"control key\");\n        console.log(\"e.altKey\");\n        console.log(e.altKey);\n        console.log(\"keyCode\");\n        console.log(keyCode);\n        console.log(\"e.keyCode\");\n        console.log(e.keyCode);\n        console.log(\"e\");\n        console.log(e);\n      }\n      // .item(0).innaerHTML\n      switch (e.key) {\n        case \"m\":\n        case \"M\":  \n          //... handle alt+t\n          if (document.getElementById(\"idprogramtableh3\")) {\n            let divh3 = document.getElementById(\"idprogramtableh3\");\n            if (divh3) divh3.focus();\n          }\n          break;\n          case \"n\":\n          case \"N\":  \n              //... handle alt+t\n              if (document.getElementById(\"divControl\")) {\n                let divh3 = document.getElementById(\"divControl\");\n                if (divh3) divh3.focus();\n              }\n              break;\n              case \"i\":\n                case \"I\":  \n                      //... handle alt+t\n                      if (document.getElementById(\"divDays\")) {\n                        let divh3 = document.getElementById(\"divDays\");\n                        if (divh3) divh3.focus();\n                    }\n                    break;          \n          case \"j\":\n          case \"J\":\n                 this.nextChannelSetClicked(e);            \n         //         if (document.getElementById(\"button_next_channel_page\")) {\n    //              let buttonNext = document.getElementById(\"button_next_channel_page\");\n    //              if (buttonNext) buttonNext.click();\n        //        }\n              break;\n            case \"g\":\n            case \"G\":\n                  this.prevChannelSetClicked(e);\n             //  if (document.getElementById(\"button_prev_channel_page\")) {\n    //              let buttonPrev = document.getElementById(\"button_prev_channel_page\");\n    //              if (buttonPrev) buttonPrev.click();\n           //    }\n               break;\n          default:\n            return this.altPlusKeyUp(e); \n            break;  \n      }\n    }\n  };\n\n  getSectionWidthCss = () => {\n    return \"width: \" + this.section_width + \"px;\";\n  };\n\n  buttonHidePressed = (e) => {\n    let bValue = !this.state.hideButton;\n    var x = document.getElementById(\"hideDiv\");\n    if (x.style.display === \"none\") {\n      x.style.display = \"block\";\n    } else {\n      x.style.display = \"none\";\n    }\n    this.setState({ hideButton: bValue, hideButtonText: bValue ? \"Näytä ohje\" : \"Piilota ohje\" });\n  }\n\n  render(props, state) {\n    if (Config.bDebug) {\n      console.log(\"state\");\n      console.log(state);\n    }\n\n    let sectionwidth = \"\";\n    if (state.fetcheditems != null && state.fetcheditems.length > 0) {\n      sectionwidth = this.getSectionWidthCss();\n    }\n\n    const buttonFocusStyle =\n      props.themevalue !== undefined && props.themevalue !== \"\"\n        ? \" outline: 15px solid white;\"\n        : \" outline: 15px solid black;\";\n\n    const inputw =\n      \"float: none; display: inline-block; vertical-align: middle; \";\n    const buttoninputw =\n      \"float: none; display: inline-block; vertical-align: middle; \" +\n      (props.themevalue !== undefined && props.themevalue !== \"\"\n        ? \"\"\n        : \" color: white; \");\n\n    let divDialogStyle =\n      props.themevalue !== undefined && props.themevalue !== \"\"\n        ? \"color: #FFF; background-color: black; border-color: #FFF;\"\n        : \"\";\n    const storestate = this.store.getState();\n    let tableBorderStyle = \"\";\n    let table_border_color = \"black\";\n    if (state.bShowTableBorder) {\n      tableBorderStyle = \" border: 1px solid \" + table_border_color + \";\";\n\n      if (props.themevalue === \"--dark\") {\n        table_border_color = \"white\";\n        tableBorderStyle = \" border: 1px solid \" + table_border_color + \";\";\n      }\n    }\n    // suodatus=ilmaiset,maksulliset,kaikki\n    // \treturn <Select.Item id={i} >{child}</Select.Item>\n    let selectchanneltypes = this.arr_selectchanneltypes.map((child, i) => {\n      return (\n        <option value={child} id={i}>\n          {child}\n        </option>\n      );\n    });\n\n    // tyyppi=kaikki,urheilu,elokuvat\n    // \treturn <Select.Item id={i}>{child}</Select.Item>\n    let selecttyyppi_items = this.arr_selecttyyppi_items.map((child, i) => {\n      return (\n        <option value={child} id={i}>\n          {child}\n        </option>\n      );\n    });\n\n    let headers = null;\n    let channels = null;\n    /*\n\t\tif (state.fetcheditems != null)\n\t\t{\n\t\t\theaders = this.getTableHeaders();\n\t\t\tchannels = this.getTableRows();\t\n\t\t}\n\t\t*/\n\n    let selectchannels = null;\n    let selectedchannelindex = state.selectedchannelindex;\n    if (selectedchannelindex < 0) selectedchannelindex = 0;\n    else if (state.ddd) selectedchannelindex = 0;\n\n    let tableheaders = null;\n    let tabletds = null;\n    if (state.channels !== null) {\n      // selected={child.title.fi===state.selectedcategory.title.fi}\n      // \treturn <Select.Item id={i} selected={i===selectedchannelindex}\n      //\t>{child.title}</Select.Item>\n      selectchannels = state.channels.map((child, i) => {\n        return (\n          <option\n            selected={i === selectedchannelindex}\n            value={child.title}\n            id={i}\n          >\n            {child.title}\n          </option>\n        );\n      });\n      let tableheaders_and_rows =\n        this.getTableHeadersAndTableRowsAfterChannels();\n      headers = tableheaders_and_rows.headers;\n      /*\n\t\t\tif (headers != null)\n\t\t\t\ttableheaders = headers.map((child, i) => {\n\t\t\t\t\treturn <th style={'vertical-align: top; padding-left: 5px; padding-right: 5px; ' +tableBorderStyle}>{child}</th> \t\t\t\t\n\t\t\t\t});\n\t\t\t\t*/\n      channels = tableheaders_and_rows.channels;\n      if (channels != null && channels.length > 0)\n        tabletds = channels.map((child, i) => {\n          return (\n            <td\n              tabIndex=\"0\"\n              id={\"tablecol\" + i}\n              lang=\"fi\"\n              style={\n                \"vertical-align: top; padding-left: 5px; padding-right: 5px;\" +\n                tableBorderStyle\n              }\n            >\n              {child}\n            </td>\n          );\n        });\n    }\n\n    if (channels != null) {\n      if (tableheaders != null) console.log(tableheaders.length);\n      if (Config.bDebug) {\n        console.log(\"tabletds.length\");\n        if (tabletds == null || tabletds == undefined)\n          console.log(\"tabletds == null || tabletds == undefined\");\n        else console.log(tabletds.length);\n      }\n    }\n    /*\n\t\tif (state.channels != null)\n\t\t{\n\t\t\theaders = this.state.channels.map((jsonchannel, i) => {\n\t\t\t\treturn <th>{jsonchannel.title}</th>\n\t\t\t});\n\t\t\tchannels = this.state.channels.map((jsonchannel, i) => {\n\t\t\t\treturn <AmppariChannel id={i} data={jsonchannel}\n\t\t\t\t\tdisplayAllDescriptions={this.state.bDisplayAllDescriptions} />;\n\t\t\t});\n\t\t}\n\t\t*/\n\n    /*\n\t\t  let msgdiv = null;\n\t\t  if ((state.errmsg != null))\n\t          msgdiv = <p className={\"p\" +cssDark} tabIndex=\"0\" style={style.political_p} aria-label={state.errmsg}></p>;\n\t\t*/\n\n    return (\n      <Fragment>\n        <div\n          id=\"amppari_main_div\"\n          style={\n            \" min-height: 100%; margin: 0px; height: 100%: \" + divDialogStyle\n          }\n          onKeyUp={this.altPlusKeyUpProgramHeader}\n        >\n          <div\n            class={style.cardHeader + divDialogStyle}\n            \n          >\n            <h1 tabIndex=\"0\" lang=\"fi\" id=\"focus_1_element\">\n              Amppari {this.getFetchedDate()}\n            </h1>\n            <section\n              ref={this.sectionRef}\n              style={\n                this.state.themevalue === \"\" ? sectionwidth : this.sectionStyle\n              }\n            >\n              <div class={style.cardHeader}>\n                <div lang=\"fi\" tabIndex=\"0\" id=\"divDays\">\n                  Hae tv-ohjelmatiedot alimpaan taulukkoon alla olevan\n                  päivämäärän mukaan:\n                </div>\n                <div class={style.cardHeader}>\n                  <a\n                    lang=\"fi\"\n                    href=\".\"\n                    id={\"dayname_\" + this.getPlus1DayId(0)}\n                    onClick={this.onClickSetDateString}\n                  >\n                    {this.getPlus1Day(0)}\n                  </a>\n                  <space> </space>\n                  <a\n                    lang=\"fi\"\n                    href=\".\"\n                    id={\"dayname_\" + this.getPlus1DayId(1)}\n                    onClick={this.onClickSetDateString}\n                  >\n                    {this.getPlus1Day(1)}\n                  </a>\n                  <space> </space>\n                  <a\n                    lang=\"fi\"\n                    href=\".\"\n                    id={\"dayname_\" + this.getPlus1DayId(2)}\n                    onClick={this.onClickSetDateString}\n                  >\n                    {this.getPlus1Day(2)}\n                  </a>\n                  <space> </space>\n                  <a\n                    lang=\"fi\"\n                    href=\".\"\n                    id={\"dayname_\" + this.getPlus1DayId(3)}\n                    onClick={this.onClickSetDateString}\n                  >\n                    {this.getPlus1Day(3)}\n                  </a>\n                  <space> </space>\n                  <a\n                    lang=\"fi\"\n                    href=\".\"\n                    id={\"dayname_\" + this.getPlus1DayId(4)}\n                    onClick={this.onClickSetDateString}\n                  >\n                    {this.getPlus1Day(4)}\n                  </a>\n                  <space> </space>\n                  <a\n                    lang=\"fi\"\n                    href=\".\"\n                    id={\"dayname_\" + this.getPlus1DayId(5)}\n                    onClick={this.onClickSetDateString}\n                  >\n                    {this.getPlus1Day(5)}\n                  </a>\n                  <space> </space>\n                  <a\n                    lang=\"fi\"\n                    href=\".\"\n                    id={\"dayname_\" + this.getPlus1DayId(6)}\n                    onClick={this.onClickSetDateString}\n                  >\n                    {this.getPlus1Day(6)}\n                  </a>\n                  <space> </space>\n                  <a\n                    lang=\"fi\"\n                    href=\".\"\n                    id={\"dayname_\" + this.getPlus1DayId(7)}\n                    onClick={this.onClickSetDateString}\n                  >\n                    {this.getPlus1Day(7)}\n                  </a>\n                  <space> </space>\n                  <a\n                    lang=\"fi\"\n                    href=\".\"\n                    id={\"dayname_\" + this.getPlus1DayId(8)}\n                    onClick={this.onClickSetDateString}\n                  >\n                    {this.getPlus1Day(8)}\n                  </a>\n                  <space> </space>\n                  <a\n                    lang=\"fi\"\n                    href=\".\"\n                    id={\"dayname_\" + this.getPlus1DayId(9)}\n                    onClick={this.onClickSetDateString}\n                  >\n                    {this.getPlus1Day(9)}\n                  </a>\n                </div>\n              </div>\n            </section>\n\n            <section\n              ref={this.sectionRef}\n              style={\n                this.state.themevalue === \"\" ? sectionwidth : this.sectionStyle\n              }\n            >\n              <div>\n                <div\n                  lang=\"fi\"\n                  tabIndex=\"0\"\n                  aria-labelled=\"Miten ohjelmatiedot näytetään\"\n                >\n                  <div style={{ \"background-color\": \"red\", color: \"yellow\" }} tabIndex=\"0\">\n                    {state.errmsg}\n                  </div>\n                  <div class=\" mdc-typography--caption\" tabIndex=\"0\" id=\"divControl\">\n                    Miten ohjelmatiedot näytetään:\n                  </div>\n                </div>\n                <br />\n                <span>\n                  <Button\n                    lang=\"fi\"\n                    ripple\n                    raised\n                    disabled={\n                      state.channels == null ||\n                      (state.showChannelsAtSameTime == 1 &&\n                        state.bCheckShowChannelsAtSameTime) ||\n                      state.showChannelsAtSameTime >= state.channels.length\n                    }\n                    style={buttoninputw}\n                    text=\"&lt;\"\n                    onClick={this.prevChannelSetClicked}\n                    aria-label=\"Aikaisemmat kanavat\"\n                  ></Button>\n                </span>\n                <space> </space>\n                <span>\n                  <Button\n                    lang=\"fi\"\n                    ripple\n                    raised\n                    aria-label=\"Seuraavat kanavat\"\n                    disabled={\n                      state.channels == null ||\n                      (state.showChannelsAtSameTime == 1 &&\n                        state.bCheckShowChannelsAtSameTime) ||\n                      state.showChannelsAtSameTime >= state.channels.length\n                    }\n                    style={buttoninputw}\n                    text=\"&gt;\"\n                    onClick={this.nextChannelSetClicked}\n                  ></Button>\n                </span>\n\n                <span>\n                  <SwitchCheckbox\n                    lang=\"fi\"\n                    inputid=\"checkshowdcurrentprograms\"\n                    labeltext=\"Näytä par'aikaa ja myöhemmät esitettävät\"\n                    checked={state.bshowdcurrentprograms}\n                    onChange={this.showdcurrentprograms}\n                    style={inputw}\n                    propref={this.checkshowdcurrentprogramsRef}\n                  />\n                </span>\n                <span>\n                  <SwitchCheckbox\n                    onChange={this.showAllDescriptions}\n                    propref={this.showAllDescrRef}\n                    inputid=\"checkshowdescribtions\"\n                    style={inputw}\n                    labeltext=\"Näytä selitykset\"\n                    checked={state.bDisplayAllDescriptions}\n                  />\n                </span>\n                <span>\n                  <SwitchCheckbox\n                    onChange={this.showOneChannel}\n                    propref={this.showOneChannelRef}\n                    inputid=\"checkshowonechannel\"\n                    style={inputw}\n                    labeltext=\"Näytä yksi kanava:\"\n                    checked={state.bCheckShowChannelsAtSameTime}\n                  />\n                  <select\n                    tabIndex=\"0\"\n                    lang=\"fi\"\n                    selectedIndex={selectedchannelindex}\n                    disabled={!state.bCheckShowChannelsAtSameTime}\n                    preselected\n                    outlined\n                    ref={this.selectChannelRef}\n                    style={inputw}\n                    onChange={(e) => {\n                      this.setState({\n                        selectedchannelindex: e.target.selectedIndex,\n                        bSearchButtonClicked: false,\n                      });\n                    }}\n                  >\n                    {selectchannels}\n                  </select>\n                </span>\n                <space> </space>\n                <span>\n                  <label for=\"input_number_columss\" lang=\"fi\" style={inputw}>\n                    Näytettävien kanavien lkm:{\" \"}\n                  </label>\n                  <input\n                    id=\"input_number_columss\"\n                    lang=\"fi\"\n                    name=\"input_number_columns\"\n                    disabled={this.state.bCheckShowChannelsAtSameTime}\n                    type=\"number\"\n                    min=\"1\"\n                    max=\"10\"\n                    style={inputw}\n                    value={\n                      this.state.showChannelsAtSameTime === -1\n                        ? \"\"\n                        : this.state.showChannelsAtSameTime\n                    }\n                    onKeyUp={this.textFieldChannelsAtSameTimeChanged}\n                  />\n                </span>\n                <space> </space>\n                <SearchPrograms\n                  disabled={\n                    state.fetcheditems == null || state.fetcheditems.length == 0\n                  }\n                  setDisplayAllDescriptionsTrue={\n                    this.setDisplayAllDescriptionsTrue\n                  }\n                  store={this.store}\n                  setRemoverFunction={this.setRemoverFunction}\n                  ref={this.searchProgramRef}\n                />\n                <space> </space>\n                <span>\n                  <SwitchCheckbox\n                    onChange={this.showTableBorders}\n                    propref={this.showTableBordersRef}\n                    lang=\"fi\"\n                    inputid=\"checkTableBorders\"\n                    style={inputw}\n                    labeltext=\"Näytä taulun raamit\"\n                    checked={state.bShowTableBorder}\n                  />\n                </span>\n                <ProgramTypes\n                  disabled={\n                    state.fetcheditems == null || state.fetcheditems.length == 0\n                  }\n                  store={this.store}\n                  ref={this.programTypeRef}\n                  setRemoverFunction={this.setRemoverFunction}\n                  bshowdcurrentprograms={props.bshowdcurrentprograms}\n                />\n                <ChannelTypes\n                  disabled={\n                    state.fetcheditems == null || state.fetcheditems.length == 0\n                  }\n                  store={this.store}\n                  ref={this.channelTypeRef}\n                  setRemoverFunction={this.setRemoverFunction}\n                />\n              </div>\n            </section>\n            <section\n              ref={this.sectionRef}\n              style={\n                this.state.themevalue === \"\" ? sectionwidth : this.sectionStyle\n              }\n            >\n              {\" \"}\n              <div>\n                <div style={{ \"background-color\": \"red\", color: \"yellow\" }}>\n                  {state.errmsg}\n                </div>\n                <div class=\" mdc-typography--caption\">\n                  <h3 id=\"idprogramtableh3\" lang=\"fi\" tabIndex=\"0\">\n                    Ohjelmataulukko&emsp;\n                    <Button\n                    lang=\"fi\"\n                    ripple\n                    raised\n                    style={buttoninputw}\n                    text={state.hideButtonText}\n                    id=\"buttonHide\"\n                    onClick={this.buttonHidePressed}\n                    aria-label=\"Näytä/Piilota teksi\"\n                  ></Button>\n\n                  </h3>\n\n                  <div class={style.cardHeader} style={state.hideButton} id=\"hideDiv\">\n                    <h3 lang=\"fi\" tabIndex=\"0\">\n                      -- Ohjelmataulukko, liikutaan hiirellä tai taulukon\n                      sisällä seuraavilla näppäimillä: alt+a = seuraava kanava,\n                      alt+k = edellinen kanava sekä alt+o = liikutaan kanavan otsakkeeseen. \n                      Myös ensimmäisen kerran/sama kanava on mahdollista painaa al+c:ää, \n                      jolloin ruudunlukuohjelma sanoo kanavan nimen, mutta selauskohta \n                      ei muutu. Samoin atl+r:lla toistetaan kerran/ohjelmatieto sen teksti.\n                      Ohjelman kuvailun saa näkymään tab näppäimellä ja enterillä \n                      tai hiirenklikkauksella. Taulukon sisällä toimivat myös tab \n                      sekä shift-tab näppäimet. Taulukon yläpuolelle tekstin \n                      \"Ohjelmataulukko\" kohdalle pääsee komennolla alt+m. Myös seuraavat \n                      näppäimet toimivat, kun kanavia enemmän kuin taulukossa näytetään: \n                      edelliset kanavat: alt+g ja seuraavat kanavat: alt+j. Alt+i vie \n                      suoraan päiväkohtaisten hakulinkkien yläpuolelle. Alt+n vie suoraan\n                      miten taulukon ohjelmatiedot näytetään yläpuolelle.\n                    </h3>\n                  </div>\n                  {state.bSearchButtonClicked && state.textSearch != null\n                    ? \" (haun tulokset)\"\n                    : \"\"}\n                </div>\n                {tabletds === null && (\n                  <div\n                    tabIndex=\"0\"\n                    lang=\"fi\"\n                    aria-label=\"Ei ohjelmatietoja haettu\"\n                  >\n                    <br></br>\n                    Ei ohjelmatietoja haettu tai tekstihakutulosta (tyhjää\n                    hakutekstikenttä)\n                  </div>\n                )}\n              </div>\n            </section>\n            <section\n              style={this.state.themevalue === \"\" ? \"\" : this.tablesectionStyle}\n            >\n              <table\n                id=\"programtable\"\n                style={\n                  \"width:100%; \" +\n                  tableBorderStyle +\n                  (this.state.themevalue === \"\"\n                    ? this.sectionStyle\n                    : this.state.themevalue)\n                }\n                ref={this.tablCntl}\n              >\n                <tbody>\n                  <tr>{tableheaders}</tr>\n                  <tr>{tabletds}</tr>\n                </tbody>\n              </table>\n            </section>\n          </div>\n          <div id=\"screenreaderdiv\" tabindex=\"0\" aria-live=\"priority || polite\"\n               class=\"visually-hidden\" aria-label={this.state.screenreaderdiv} />\n       \n        </div>\n      </Fragment>\n    );\n  }\n}\n\n/*\n\t\t\t\t\t<Formfield>\n\t\t\t\t\t\t\t<div class={style.cardHeader}>Ohjelmatyyppi<space>     </space>\n\t\t\t\t\t\t\t  <Select tabIndex=\"0\" \n\t\t\t\t\t\t\t\t\tselectedIndex={this.state.selectedTyyppiinindex}\n\t\t\t\t\t\t\t\t\tpreselected outlined \n\t\t\t\t\t\t\t\t\tonChange={(e)=>{\n\t\t\t\t\t\t\t\t\t\tconsole.log(\"e.target.target\");\n\t\t\t\t\t\t\t\t\t\tconsole.log(e.target.text);\n\t\t\t\t\t\t\t\t\t\tconst ind = e.target.selectedIndex;\n\t\t\t\t\t\t\t\t\t\tconst selected = this.arr_selecttyyppi_items[e.target.selectedIndex];\n\t\t\t\t\t\t\t\t\t\tlet changed ={};\n\t\t\t\t\t\t\t\t\t\tchanged.ind = ind;\n\t\t\t\t\t\t\t\t\t\tchanged.selected = selected;\n\t\t\t\t\t\t\t\t\t\tthis.filterWhenUIControlsHasBeenChanged(filtercalled.PROGRAMTYPE, changed);\n\t\t\t\t\t\t\t\t\t\tthis.setState({ selectedTyyppiinindex: ind,\n\t\t\t\t\t\t\t\t\t\t\tselectedtyyppi: selected,\n\t\t\t\t\t\t\t\t\t\t\t channels: this.channels,\n\t\t\t\t\t\t\t\t\t\t\t selectedchannelindex: 0\n\t\t\t\t\t\t\t\t\t\t\t});\t\t\t\t\t\n\n\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t{selecttyyppi_items}\n\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t    </div>\n\t\t\t\t\t\t</Formfield>\n*/\n","import { h, Component, createRef } from \"preact\";\n//import Card from 'preact-material-components/Card';\n//import 'preact-material-components/Card/style.css';\n//import 'preact-material-components/Button/style.css';\n\nimport Config from \"../../utils/Config\";\nimport style from \"./style\";\n// import Category from './Category';\n// import GridOrList from './GridOrList';\nimport Amppari from \"../../components/amppari/Amppari\";\n\n// import StaticFunctions from '../../utils/StaticFunctions';\n\nexport default class AmppariRoute extends Component {\n  control = null;\n\n  constructor(props) {\n    super(props);\n    if (Config.bDebug) {\n      console.log(\"AmppariRoute.js\");\n      console.log(\"props\");\n      console.log(props);\n    }\n\n    this.state = {\n      errmsg: null,\n    };\n\n    this.control = createRef();\n  }\n\n  componentDidMount() {\n    if (Config.bDebug) console.log(\"AmppariRoute componentDidMount 1\");\n    const loadTime =\n      window.performance.timing.domContentLoadedEventEnd -\n      window.performance.timing.navigationStart;\n    console.log(\"loadTime=\" + loadTime);\n\n    // this.fetchProgCategories();\n  }\n\n  removelisteners = () => {};\n\n  /*\n\t\t'Origin': 'localhost:8080',\n\t\t\t'User-Agent': 'curl/7.55.1',\n\t\t\t'Host': 'external.api.yle.fi',\n\t\t\t'Access-Control-Allow-Origin': '*',\n\t\t\t'Access-Control-Allow-Credentials': true,\n\t\t\t'Cross-Origin-Resource-Policy': 'cross-origin',\n\t\t\t'Access-Control-Allow-Methods': 'GET,OPTIONS',\n\t\t\t'Access-Control-Allow-Headers': 'Content-Type'\n*/\n\n  // \t<div class={`${style.home} page`}>\n  // \t\t\t</div>\n\n  render(props, state) {\n    return (\n      <div class={`${style.home} page`}>\n        <Amppari store={props.store} themevalue={props.themevalue} />\n        <div style={{ \"background-color\": \"red\", color: \"yellow\" }}>\n          {state.errmsg}\n        </div>\n      </div>\n    );\n  }\n}\n","!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(t=\"undefined\"!=typeof globalThis?globalThis:t||self).dayjs=e()}(this,(function(){\"use strict\";var t=1e3,e=6e4,n=36e5,r=\"millisecond\",i=\"second\",s=\"minute\",u=\"hour\",a=\"day\",o=\"week\",c=\"month\",f=\"quarter\",h=\"year\",d=\"date\",l=\"Invalid Date\",$=/^(\\d{4})[-/]?(\\d{1,2})?[-/]?(\\d{0,2})[Tt\\s]*(\\d{1,2})?:?(\\d{1,2})?:?(\\d{1,2})?[.:]?(\\d+)?$/,y=/\\[([^\\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,M={name:\"en\",weekdays:\"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),months:\"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\"),ordinal:function(t){var e=[\"th\",\"st\",\"nd\",\"rd\"],n=t%100;return\"[\"+t+(e[(n-20)%10]||e[n]||e[0])+\"]\"}},m=function(t,e,n){var r=String(t);return!r||r.length>=e?t:\"\"+Array(e+1-r.length).join(n)+t},v={s:m,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?\"+\":\"-\")+m(r,2,\"0\")+\":\"+m(i,2,\"0\")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,c),s=n-i<0,u=e.clone().add(r+(s?-1:1),c);return+(-(r+(n-i)/(s?i-u:u-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:c,y:h,w:o,d:a,D:d,h:u,m:s,s:i,ms:r,Q:f}[t]||String(t||\"\").toLowerCase().replace(/s$/,\"\")},u:function(t){return void 0===t}},g=\"en\",D={};D[g]=M;var p=\"$isDayjsObject\",S=function(t){return t instanceof _||!(!t||!t[p])},w=function t(e,n,r){var i;if(!e)return g;if(\"string\"==typeof e){var s=e.toLowerCase();D[s]&&(i=s),n&&(D[s]=n,i=s);var u=e.split(\"-\");if(!i&&u.length>1)return t(u[0])}else{var a=e.name;D[a]=e,i=a}return!r&&i&&(g=i),i||!r&&g},O=function(t,e){if(S(t))return t.clone();var n=\"object\"==typeof e?e:{};return n.date=t,n.args=arguments,new _(n)},b=v;b.l=w,b.i=S,b.w=function(t,e){return O(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var _=function(){function M(t){this.$L=w(t.locale,null,!0),this.parse(t),this.$x=this.$x||t.x||{},this[p]=!0}var m=M.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(b.u(e))return new Date;if(e instanceof Date)return new Date(e);if(\"string\"==typeof e&&!/Z$/i.test(e)){var r=e.match($);if(r){var i=r[2]-1||0,s=(r[7]||\"0\").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(e)}(t),this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return b},m.isValid=function(){return!(this.$d.toString()===l)},m.isSame=function(t,e){var n=O(t);return this.startOf(e)<=n&&n<=this.endOf(e)},m.isAfter=function(t,e){return O(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<O(t)},m.$g=function(t,e,n){return b.u(t)?this[e]:this.set(n,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,e){var n=this,r=!!b.u(e)||e,f=b.p(t),l=function(t,e){var i=b.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return r?i:i.endOf(a)},$=function(t,e){return b.w(n.toDate()[t].apply(n.toDate(\"s\"),(r?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},y=this.$W,M=this.$M,m=this.$D,v=\"set\"+(this.$u?\"UTC\":\"\");switch(f){case h:return r?l(1,0):l(31,11);case c:return r?l(1,M):l(0,M+1);case o:var g=this.$locale().weekStart||0,D=(y<g?y+7:y)-g;return l(r?m-D:m+(6-D),M);case a:case d:return $(v+\"Hours\",0);case u:return $(v+\"Minutes\",1);case s:return $(v+\"Seconds\",2);case i:return $(v+\"Milliseconds\",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(t,e){var n,o=b.p(t),f=\"set\"+(this.$u?\"UTC\":\"\"),l=(n={},n[a]=f+\"Date\",n[d]=f+\"Date\",n[c]=f+\"Month\",n[h]=f+\"FullYear\",n[u]=f+\"Hours\",n[s]=f+\"Minutes\",n[i]=f+\"Seconds\",n[r]=f+\"Milliseconds\",n)[o],$=o===a?this.$D+(e-this.$W):e;if(o===c||o===h){var y=this.clone().set(d,1);y.$d[l]($),y.init(),this.$d=y.set(d,Math.min(this.$D,y.daysInMonth())).$d}else l&&this.$d[l]($);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[b.p(t)]()},m.add=function(r,f){var d,l=this;r=Number(r);var $=b.p(f),y=function(t){var e=O(l);return b.w(e.date(e.date()+Math.round(t*r)),l)};if($===c)return this.set(c,this.$M+r);if($===h)return this.set(h,this.$y+r);if($===a)return y(1);if($===o)return y(7);var M=(d={},d[s]=e,d[u]=n,d[i]=t,d)[$]||1,m=this.$d.getTime()+r*M;return b.w(m,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||l;var r=t||\"YYYY-MM-DDTHH:mm:ssZ\",i=b.z(this),s=this.$H,u=this.$m,a=this.$M,o=n.weekdays,c=n.months,f=n.meridiem,h=function(t,n,i,s){return t&&(t[n]||t(e,r))||i[n].slice(0,s)},d=function(t){return b.s(s%12||12,t,\"0\")},$=f||function(t,e,n){var r=t<12?\"AM\":\"PM\";return n?r.toLowerCase():r};return r.replace(y,(function(t,r){return r||function(t){switch(t){case\"YY\":return String(e.$y).slice(-2);case\"YYYY\":return b.s(e.$y,4,\"0\");case\"M\":return a+1;case\"MM\":return b.s(a+1,2,\"0\");case\"MMM\":return h(n.monthsShort,a,c,3);case\"MMMM\":return h(c,a);case\"D\":return e.$D;case\"DD\":return b.s(e.$D,2,\"0\");case\"d\":return String(e.$W);case\"dd\":return h(n.weekdaysMin,e.$W,o,2);case\"ddd\":return h(n.weekdaysShort,e.$W,o,3);case\"dddd\":return o[e.$W];case\"H\":return String(s);case\"HH\":return b.s(s,2,\"0\");case\"h\":return d(1);case\"hh\":return d(2);case\"a\":return $(s,u,!0);case\"A\":return $(s,u,!1);case\"m\":return String(u);case\"mm\":return b.s(u,2,\"0\");case\"s\":return String(e.$s);case\"ss\":return b.s(e.$s,2,\"0\");case\"SSS\":return b.s(e.$ms,3,\"0\");case\"Z\":return i}return null}(t)||i.replace(\":\",\"\")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(r,d,l){var $,y=this,M=b.p(d),m=O(r),v=(m.utcOffset()-this.utcOffset())*e,g=this-m,D=function(){return b.m(y,m)};switch(M){case h:$=D()/12;break;case c:$=D();break;case f:$=D()/3;break;case o:$=(g-v)/6048e5;break;case a:$=(g-v)/864e5;break;case u:$=g/n;break;case s:$=g/e;break;case i:$=g/t;break;default:$=g}return l?$:b.a($)},m.daysInMonth=function(){return this.endOf(c).$D},m.$locale=function(){return D[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=w(t,e,!0);return r&&(n.$L=r),n},m.clone=function(){return b.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},M}(),k=_.prototype;return O.prototype=k,[[\"$ms\",r],[\"$s\",i],[\"$m\",s],[\"$H\",u],[\"$W\",a],[\"$M\",c],[\"$y\",h],[\"$D\",d]].forEach((function(t){k[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),O.extend=function(t,e){return t.$i||(t(e,_,O),t.$i=!0),O},O.locale=w,O.isDayjs=S,O.unix=function(t){return O(1e3*t)},O.en=D[g],O.Ls=D,O.p={},O}));","// extracted by mini-css-extract-plugin\nexport default {\"home\":\"home__nIvoY\",\"cardHeader\":\"cardHeader__sKTze\",\"cardBody\":\"cardBody__ktGWq\"};","import { h, Fragment, Component, createRef } from \"preact\";\nimport { useState, useRef } from \"preact/hooks\";\n//import Chips from 'preact-material-components/Chips';\n//import 'preact-material-components/Chips/style.css';\n//import Card from 'preact-material-components/Card';\n//import 'preact-material-components/Card/style.css';\n//import Dialog from 'preact-material-components/Dialog';\n//import 'preact-material-components/Dialog/style.css';\n//import 'preact-material-components/Theme/style.css';\n//import Button from 'preact-material-components/Button';\n//import 'preact-material-components/Button/style.css';\n//import 'preact-material-components/Theme/style.css';\n\n//import Dialog from \"../dialog/Dialog\";\nimport Dialog from \"../dialog/PreactDialog\";\n\n//import Dialog from '../dialog/FDialog'\n\nimport dayjs from \"dayjs\";\n\nimport Config from \"../../utils/Config\";\nimport ShowProgram from \"../telkku/ShowProgram\";\n\ndayjs.locale(\"fi\");\n\n/**\n * This Address function is showing a programgrid or -list.\n */\n// class Address extends Component\nfunction AmppariShowProgram(props) {\n  let divDialogStyle =\n    props.themevalue !== undefined && props.themevalue !== \"\"\n      ? \"color: #FFF; background-color: black; border-color: #FFF;\"\n      : \"color: #FFF; background-color: black; border-color: #FFF;\";\n\n  const [displaydescription, setDisplayDescription] = useState(false);\n  const scrollingDlgRef = useRef(null);\n\n  // dot = \" height: 25px; width: 25px; background-color: #bbb; border-radius: 50%; display: inline-block;\";\n  const dot =\n    \"border-radius: 50%; width: 10px; height: 10px; padding: 2px; background: #fff; \" +\n    \" border: 2px solid #000; color: #000; text-align: center; font: 10px Arial, sans-serif;\";\n\n  const onClickDisplay = (event) => {\n    event.preventDefault();\n    // console.log(\"onClickDisplay\");\n    if (props.displayAllDescriptions) return;\n    if (!displaydescription)\n      // scrollingDlgRef.current.MDComponent.show();\n      scrollingDlgRef.current.open();\n      changeDisplayDescriptionValue();\n  };\n\n  const changeDisplayDescriptionValue = () => changeDisplayDes(!displaydescription);\n\n  const changeDisplayDes = (bValue) => {\n    setDisplayDescription(bValue);\n  }\n\n\n  const onClickDisplayDialog = (event) => {\n    event.preventDefault();\n    // console.log(\"onClickDisplayDialog\");\n    if (displaydescription)\n      //scrollingDlgRef.current.MDComponent.close();\n      scrollingDlgRef.current.close();\n      changeDisplayDescriptionValue();\n  };\n\n  const getTime = (timemillisec) => {\n    let day = new Date(timemillisec * 1000);\n    let hours = day.getHours();\n    let minutes = day.getMinutes();\n    if (minutes < 10) minutes = \"0\" + minutes;\n    if (hours < 10) hours = \"0\" + hours;\n    return \"\" + hours + \":\" + minutes;\n  };\n\n  /*\n        \tjsonitem.title = item.getElementsByTagName(\"title\")[0].childNodes[0].nodeValue;\n\t\tjsonitem.description = item.getElementsByTagName(\"description\")[0].childNodes[0].nodeValue;\n\t\tjsonitem.pubdate = item.getElementsByTagName(\"pubDate\")[0].childNodes[0].nodeValue;\n\t\tjsonitem.link =\n\n          <Chips.Chip onClick={onClickDisplay} >\n                    <Chips.Text>{data.title}</Chips.Text></Chips.Chip> : <Chips.Chip onClick={onClickDisplay}>\n                    <Chips.Text>Kissa</Chips.Text></Chips.Chip> }\n\n                     {(!displaydescription ? \n                <Button onClick={onClickDisplay} >\n                    {data.title}</Button> : <Chips.Chip onClick={onClickDisplay}>\n                    <Chips.Text>Kissa</Chips.Text></Chips.Chip>) }\n\n                                 <p>Count: {count}</p>\n            <button onClick={increment}>Increment</button>\n            <button onClick={decrement}>Decrement</button>\n\n                <Chips.Text>{props.data.title}</Chips.Text></Chips.Chip> \n        */\n\n  const openHtmlPage = (event) => {\n    console.log(\"openHtmlPage\");\n    event.preventDefault();\n    let blankurl = event.target.href;\n    console.log(\"blankurl\");\n    console.log(blankurl);\n    // window.open(blankurl, '_blank', \"Ampparissa\", \"location=no\");\n    window.open(blankurl, \"_blank\", \"Ampparissa\");\n    return false;\n  };\n\n  const getPOfTitleIndex = (props) => {\n    console.log(\"getPOfTitleIndex\");\n\n    let index = props.data.titleindex;\n    console.log(\"titleindex\");\n    console.log(index);\n    let title = props.data.title;\n    if (title != null) title = title.toString();\n    console.log(\"title\");\n    console.log(title);\n    if (index == undefined || index < 0) return title;\n    let ret = props.getPOfIndex(index, title, props.themevalue);\n    console.log(\"ret after getPOfIndex\");\n    console.log(ret);\n    return ret;\n  };\n\n  const getProgramSymbol = (props) => {\n    let ret = null;\n    if (props.data.movie) ret = <span style={dot}>E</span>;\n    else if (props.data.sport) ret = <span style={dot}>U</span>;\n\n    return ret;\n  };\n\n  const enterKeyDown = (e) => {\n    e = e || window.event;\n    let keyCode = e.keyCode || e.which;\n\n    if (Config.bDebug) console.log(\"pressed\");\n\n    let currentColInd = null;\n\n    // .item(0).innerHTML\n    switch (e.keyCode) {\n      case 13:\n        onClickDisplay(e);\n        break;\n    }\n  };\n\n  if (Config.bDebug) {\n    console.log(\"Amppari ShowProgram.js props\");\n    console.log(props);\n  }\n  // <p><a href={props.data.link} target=\"_blank\" >ohjelmalinkki</a></p>onClik={this.openHtmlPage} linkurl={props.data.link}\n\n  // +this.getPOfTitleIndex()\n  return (\n    <Fragment>\n      <div>\n        <div\n          tabIndex=\"0\"\n          lang=\"fi\"\n          onClick={onClickDisplay}\n          onKeyDown={enterKeyDown}\n        >\n          <p>\n            <b>\n              {props.showSearch && props.data.titleindex != undefined ? (\n                <div>\n                  {getProgramSymbol(props)} {getTime(props.data.timestamp)}\n                  <space> </space>\n                  {getPOfTitleIndex(props)}\n                </div>\n              ) : (\n                <div>\n                  {getProgramSymbol(props)} {getTime(props.data.timestamp)}\n                  <space> </space>\n                  {props.data.title.toString()}\n                </div>\n              )}\n            </b>\n          </p>\n          {props.displayAllDescriptions ? (\n            <Fragment>\n              <p>\n                {props.showSearch && props.data.descriptionindex != undefined\n                  ? props.getPOfIndex(\n                      props.data.descriptionindex,\n                      props.data.description.toString(),\n                      props.themevalue\n                    )\n                  : props.data.description.toString()}\n              </p>\n              {props.data.link != undefined || props.data.link != null ? (\n                <p>\n                  <a href={props.data.link} onClick={this.openHtmlPage}>\n                    ohjelmalinkki\n                  </a>\n                </p>\n              ) : null}\n            </Fragment>\n          ) : null}\n        </div>\n      </div>\n      <Dialog\n        role=\"dialog\"\n        id=\"showamppariprogram\"\n        aria-labelledby=\"amppari\"\n        aria-modal=\"false\"\n        lang=\"fi\"\n        ref={scrollingDlgRef}\n        title={props.channel}\n        okButtonPressed={onClickDisplayDialog}\n        themevalue={props.themevalue}\n        okText=\"Sulje\"\n        scrollable={true}\n      >\n        <div style={divDialogStyle}>\n          <div class=\"card-header\">\n            <h3\n              lang=\"fi\"\n              id=\"h1loading\"\n              default\n              tabIndex=\"0\"\n              class=\" mdc-typography--title\"\n            >\n              {getProgramSymbol(props)} {getTime(props.data.timestamp)}\n              <space> </space> {props.data.title.toString()}\n            </h3>\n            <h3 tabIndex=\"0\" class=\" mdc-typography--title\">\n              {props.data.description.toString()}\n            </h3>\n            <br />\n          </div>\n        </div>\n      </Dialog>\n    </Fragment>\n  );\n}\n\n/*\n                    <Dialog role=\"dialog\" id=\"dialogprogram\" aria-modal=\"true\"\n                               ref={scrollingDlgRef}>\n                                <Dialog.Header tabIndex=\"0\" lang=\"fi\">{props.channel}</Dialog.Header>\n                                <Dialog.Body scrollable={true}>\n                                  <div class=\"card-header\">\n                                     <h3 id=\"h1lprogram\" tabIndex=\"0\" class=\" mdc-typography--title\">\n                                     {getProgramSymbol(props)} {getTime(props.data.timestamp)} \n                                     <space> </space> {props.data.title.toString()}</h3>\n                                     <h3 tabIndex=\"0\" class=\" mdc-typography--title\">\n                                         {props.data.description.toString()}</h3><br/>\n                                     </div>\n                                </Dialog.Body>\n                                <Dialog.Footer>\n                                    <Dialog.FooterButton onCancel={onClickDisplayDialog} cancel={true} >Sulje</Dialog.FooterButton>\n                                </Dialog.Footer>\n                    </Dialog> \n*/\nexport default AmppariShowProgram;\n"],"sourceRoot":""}