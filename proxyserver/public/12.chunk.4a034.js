(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{rnI4:function(e,t){"use strict";t.a={home:"home__wog+i",cardHeader:"cardHeader__dyMRZ",cardBody:"cardBody__M1xly"}},wevW:function(e,t,n){"use strict";function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},a.apply(this,arguments)}function o(e,t,n,l,a,o,r){try{var s=e[o](r),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(l,a)}function r(e){return function(){var t=this,n=arguments;return new Promise((function(l,a){function r(e){o(c,l,a,r,s,"next",e)}function s(e){o(c,l,a,r,s,"throw",e)}var c=e.apply(t,n);r(void 0)}))}}function s(e,t){for(var n=0;n<t.length;n++){var l=t[n];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,g(l.key),l)}}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,l=d(e);if(t){var a=d(this).constructor;n=Reflect.construct(l,arguments,a)}else n=l.apply(this,arguments);return u(this,n)}}function u(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function b(e,t,n){return(t=g(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!==l(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function f(e,t){for(var n=0;n<t.length;n++){var l=t[n];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,S(l.key),l)}}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,l=y(e);if(t){var a=y(this).constructor;n=Reflect.construct(l,arguments,a)}else n=l.apply(this,arguments);return function(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return k(e)}(this,n)}}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function C(e,t,n){return(t=S(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var l=n.call(e,t||"default");if("object"!==p(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===p(t)?t:String(t)}n.r(t),n.d(t,"default",(function(){return F}));var x=n("hosL"),w=n("x2AU"),O="home__PEN99",j=n("IKRQ"),D=n("2fTU"),T=n("OXlV"),A=n("vqXW"),_=n.n(A),P=n("rnI4"),I=n("XmHI"),R=function(e){var t=null;return null!==e.data.channelprograms&&(t=e.data.channelprograms.map((function(t,n){return Object(x.h)(I.a,{id:"telkkuchannel"+n,data:t,displayAllDescriptions:e.displayAllDescriptions,getPOfIndex:e.getPOfIndex,themevalue:e.themevalue,showSearch:null!=e.showSearch&&e.showSearch,channel:e.data.title})}))),Object(x.h)("div",null,Object(x.h)("h3",{tabIndex:"0",lang:"fi","aria-label":e.data.title},e.showSearch&&null!=e.data.titleindex?e.getPOfIndex(e.data.titleindex,e.data.title,this.props.themevalue):e.data.title.toString().replace("Telkussa: ","")),Object(x.h)("div",null,t))},B=function(e){function t(e){var t,n;b(h(n=u.call(this,e)),"store",null),b(h(n),"fetch_url_telkku",null),b(h(n),"showAllDescrRef",null),b(h(n),"showOneChannelRef",null),b(h(n),"selectChannelRef",null),b(h(n),"const_showChannelsAtSameTime",10),b(h(n),"_mounted",!1),b(h(n),"scrollingDlgRef",null),b(h(n),"tablCntl",null),b(h(n),"showTableBordersRef",null),b(h(n),"sectionStyle",null),b(h(n),"tablesectionStyle",null),b(h(n),"sectionRef",null),b(h(n),"section_width",null),b(h(n),"section_width_css",void 0),b(h(n),"getSectionWidthCss",(function(){return"width: "+n.section_width+"px;"})),b(h(n),"fetchRssTelkkuPrograms",function(){var e=r((function*(e,t){if(n._mounted&&(w.a.bDebug&&console.log("fetchRssTelkkuPrograms"),!n.state.bAllChannelsLoaded&&!n.state.bUnderFetch)){n.setState({bUnderFetch:!0});var l=1,a=10;void 0!==e&&(l=e),void 0!==t&&(a=t),n.state.fetcheddata=null,n.state.fetcheditems=[],null!=n.state.channels&&n.state.channels.length>0&&(n.state.fetcheditems=n.state.channels),n.scrollingDlgRef.current.open();try{for(;n.fetcheddata=yield n.fetchRssTelkkuChannel(l),null!==n.fetcheddata&&(n.state.fetcheditems.push(n.fetcheddata),l!==a||-1===a)&&(l+=1,!n.state.bAllChannelsLoaded););}catch(e){if("Error: 500"!==e.message)return console.error("error"),console.error(e),n.setState({errmsg:e.message,bUnderFetch:!1}),void n.scrollingDlgRef.current.close();n.setState({bAllChannelsLoaded:!0})}w.a.bDebug&&(console.log("fetcheditems"),console.log(n.state.fetcheditems)),n.scrollingDlgRef.current.close(),n.setState({channels:n.state.fetcheditems,errmsg:null,bUnderFetch:!1,bLoadAllChannels:!1,bLoad10Channels:!1})}}));return function(t,n){return e.apply(this,arguments)}}()),b(h(n),"fetchRssTelkkuChannel",function(){var e=r((function*(e){var t=n.fetch_url_telkku+e;w.a.bDebug&&(console.log("fetchRssTelkkuChannel 1"),console.log(t)),n.setState({channels:null,errmsg:null});var l=null;return yield fetch(t,{method:"GET",timeout:6e3,headers:{"Content-Type":"application/rss+xml; charset=UTF-8",Accept:"*/*"},mode:"cors",signal:n.abortSignal}).then(n.handleErrors).then((function(e){return e.text()})).then((function(e){-1==e.indexOf("<rss version=")?(l=null,n.setState({bAllChannelsLoaded:!0})):l=n.getJsonDataFromTelkkuRssXml(e)})).catch((function(e){throw console.error("error"),console.error(e),n.setState({errmsg:e.toString()}),new n.TelkkuException(e.toString())})),l}));return function(t){return e.apply(this,arguments)}}()),b(h(n),"getJsonDataFromTelkkuRssXml",(function(e){var t=(new window.DOMParser).parseFromString(e,"text/xml"),l=t.getElementsByTagName("title")[0].childNodes[0].nodeValue;w.a.bDebug&&(console.log("channeltitle"),console.log(l));var a={};a.title=l;var o=t.querySelectorAll("item");return w.a.bDebug&&(console.log("xmlitems"),console.log(o)),null==o||null==o?null:(a.channelprograms=[],o.forEach((function(e){void 0!==e&&a.channelprograms.push(n.getChannelProgramFromXml(e))})),w.a.bDebug&&(console.log("json"),console.log(a)),a)})),b(h(n),"getChannelProgramXmlValue",(function(e){if(null==e||NaN===e)return console.log("json"),console.log(json),null;var t=e[0];if(null==t||NaN===t)return console.log("item1"),console.log(t),null;var n=t.childNodes[0];if(null==n||NaN===n)return w.a.bDebug&&(console.log("childNode1"),console.log(n)),null;var l=n.nodeValue;return null==l||NaN===l?(console.log("nodeValue1"),console.log(l),null):l})),b(h(n),"getChannelProgramFromXml",(function(e){w.a.bDebug&&(console.log("item"),console.log(e));var t={};return t.title=n.getChannelProgramXmlValue(e.getElementsByTagName("title")),t.description=n.getChannelProgramXmlValue(e.getElementsByTagName("description")),t.pubdate=n.getChannelProgramXmlValue(e.getElementsByTagName("pubDate")),t.link=n.getChannelProgramXmlValue(e.getElementsByTagName("link")),t})),b(h(n),"handleErrors",(function(e){if(!e.ok)throw console.log("response"),console.log(e),console.log(e.status),Error(e.status);return e})),b(h(n),"showOneChannel",(function(e){e.preventDefault(),n.setState(e.target.checked?{showChannelsAtSameTime:1,bCheckShowChannelsAtSameTime:!0,bSearchButtonClicked:!1}:{showChannelsAtSameTime:n.const_showChannelsAtSameTime,selectedchannelindex:-1,bCheckShowChannelsAtSameTime:!1})})),b(h(n),"showAllDescriptions",(function(e){e.preventDefault();var t=e.target.checked;w.a.bDebug&&console.log("showAllDescriptions");var l=t;w.a.bDebug&&console.log("bValue"),w.a.bDebug&&console.log(l),n.setState({bDisplayAllDescriptions:l})})),b(h(n),"getPOfIndex",(function(e,t,l){w.a.bDebug&&console.log("getPOfIndex");var a=n.state.textSearch;if(w.a.bDebug&&(console.log("textSearch"),console.log(a)),null==t||null==t)return"";if(w.a.bDebug&&(console.log("txt"),console.log(t),console.log("index"),console.log(e)),null==e||null==e||e<0||t.length<=e)return t;if(null==a||null==a||0==a.toString().trim().length)return t;var o=t.substring(0,e),r=t.substring(e,e+a.length),s=t.substring(e+a.length);w.a.bDebug&&(console.log("first"),console.log(o),console.log("between"),console.log(r),console.log("last"),console.log(s));var c=null!=o&&null!=o&&0!=o.trim().length?Object(x.h)("span",{style:"margin-right: 0px; margin-left: 0px; padding: 0px;"},o):"",i="background-color: green; color: white; margin-right: 0px; margin-left: 0px; padding: 0px;";"--dark"===l&&(i="background-color: yellow; color: black; margin-right: 0px; margin-left: 0px; padding: 0px;");var u=Object(x.h)("span",{style:i},r),h=null!=s&&null!=s&&0!=s.trim().length?Object(x.h)("span",{style:"margin-right: 0px; margin-left: 0px; padding: 0px;"},s):"",d=Object(x.h)("div",null,c,u,h);return w.a.bDebug&&(console.log("newvalue_first"),console.log(c),console.log("newvalue_between"),console.log(u),console.log("newvalue_last"),console.log(h)),w.a.bDebug&&(console.log("newvalue"),console.log(d)),d})),b(h(n),"getTableHeadersAndTableRowsAfterChannels",(function(){var e=null,t=null;w.a.bDebug&&(console.log("getTableHeadersAndTableRowsAfterChannels"),console.log("this.state.bCheckShowChannelsAtSameTime"),console.log(n.state.bCheckShowChannelsAtSameTime),console.log("this.state.selectedchannelindex"),console.log(n.state.selectedchannelindex),console.log(n.state));if(n.state.bSearchButtonClicked){if(null==n.state.channels){t=[];var l={};return l.headers=e=[],l.channels=t,l}var o=n.state.textSearch;if(null!=o&&o.toString().trim().length>0){var r=-1,s=[],c=[],i=!1,u=!1,h=o.toUpperCase(),d={},b=n.state.channels;if(console.log("before filter search"),console.log("this.state.bCheckShowChannelsAtSameTime"),console.log(n.state.bCheckShowChannelsAtSameTime),console.log("this.state.selectedchannelindex"),console.log(n.state.selectedchannelindex),n.state.bCheckShowChannelsAtSameTime&&-1!=n.state.selectedchannelindex){console.log("filter search bCheckShowChannelsAtSameTime");var g=b[n.state.selectedchannelindex].title,p=b.filter((function(e){return e.title===g}));b=p}Array.from(b).forEach((function(e){d={},r=-1,i=!1,void 0!==e&&(a(d,e),w.a.bDebug&&(console.log("chcoopy"),console.log(d),console.log("chcoopy.channelprograms"),console.log(d.channelprograms)),d.title&&(d.title=d.title.toString().replace("Telkussa: ","")),-1!=(r=d.title?d.title.toUpperCase().indexOf(h):-1)&&(d.titleindex=r,i=!0),c=[],Array.from(d.channelprograms).forEach((function(e){u=!1,void 0!==e&&(-1!=(r=e.title?e.title.toUpperCase().indexOf(h):-1)&&(e.titleindex=r,i=!0,u=!0),-1!=(r=e.description?e.description.toUpperCase().indexOf(h):-1)&&(e.descriptionindex=r,i=!0,u=!0),u&&c.push(e))})),i&&(d.channelprograms=null!=c&&0!=c.length?c:e.channelprograms,s.push(d)))})),null==s&&0==s.length?(e=[],t=[]):(e=s.map((function(e){return e.title.replace("Telkussa: ","")})),t=s.map((function(e,t){return Object(x.h)(R,{id:"telkkuchannel"+t,data:e,showSearch:!0,getPOfIndex:n.getPOfIndex,themevalue:n.props.themevalue,displayAllDescriptions:n.state.bDisplayAllDescriptions})})))}else e=n.state.channels.map((function(e){return e.title.replace("Telkussa: ","")})),t=n.state.channels.map((function(e,t){return Object(x.h)(R,{id:t,data:e,themevalue:n.props.themevalue,displayAllDescriptions:n.state.bDisplayAllDescriptions})}))}else if(n.state.bCheckShowChannelsAtSameTime&&-1!=n.state.selectedchannelindex){console.log("filter");var f=n.state.channels[n.state.selectedchannelindex].title,m=n.state.channels.filter((function(e){return e.title===f}));e=m.map((function(e){return e.title.replace("Telkussa: ","")})),t=m.map((function(e,t){return Object(x.h)(R,{id:t,data:e,themevalue:n.props.themevalue,displayAllDescriptions:n.state.bDisplayAllDescriptions})}))}else if(n.state.showChannelsAtSameTime==n.state.channels.length||n.state.showChannelsAtSameTime>n.state.channels.length)e=n.state.channels.map((function(e){return e.title.replace("Telkussa: ","")})),t=n.state.channels.map((function(e,t){return Object(x.h)(R,{id:t,data:e,themevalue:n.props.themevalue,displayAllDescriptions:n.state.bDisplayAllDescriptions})}));else{var v=!1;if(n.state.showChannelsAtSameTime<n.state.channels.length){var k=Math.floor(n.state.currentChannelSetIndex*n.state.showChannelsAtSameTime),y=0==n.state.currentChannelSetIndex?n.state.showChannelsAtSameTime:Math.floor(n.state.currentChannelSetIndex*n.state.showChannelsAtSameTime+n.state.showChannelsAtSameTime);if(w.a.bDebug&&(console.log("min"),console.log(k),console.log("max"),console.log(y)),k<0?k=0:k>n.state.channels.length&&(k=n.state.channels.length,v=!0),y>n.state.channels.length&&(y=n.state.channels.length),!v){var C,S=[];for(C=k;C<y;C++)S.push(n.state.channels[C]);e=S.map((function(e){return e.title.replace("Telkussa: ","")})),t=S.map((function(e,t){return Object(x.h)(R,{id:t,data:e,themevalue:n.props.themevalue,displayAllDescriptions:n.state.bDisplayAllDescriptions})}))}}else v=!0;v&&(e=n.state.channels.map((function(e){return e.title.replace("Telkussa: ","")})),t=n.state.channels.map((function(e,t){return Object(x.h)(R,{id:t,data:e,themevalue:n.props.themevalue,displayAllDescriptions:n.state.bDisplayAllDescriptions})})))}var O={};return O.headers=e,O.channels=t,O})),b(h(n),"textFieldChannelsAtSameTimeChanged",(function(e){e.preventDefault();var t=e.target.value;w.a.bDebug&&(console.log("textFieldChannelsAtSameTimeChanged"),console.log(t));var l=parseInt(t);w.a.bDebug&&(console.log("validNumber"),console.log(l)),NaN!=l&&null!=l?parseInt(l)<1?e.target.value=1:parseInt(l)>n.const_showChannelsAtSameTime?e.target.value=n.const_showChannelsAtSameTime:n.setState({showChannelsAtSameTime:l,currentChannelSetIndex:0}):e.target.value=n.const_showChannelsAtSameTime})),b(h(n),"calculateMaxChannelSetIndex",(function(){if(w.a.bDebug&&console.log("calculateMaxChannelSetIndex"),null==n.state.channels)return 0;if(0===n.state.channels.length)return 0;if(n.state.bCheckShowChannelsAtSameTime)return 0;if(n.state.showChannelsAtSameTime>=n.state.channels.length)return 0;var e=n.state.channels.length/n.state.showChannelsAtSameTime;return w.a.bDebug&&(console.log("channelSets"),console.log(e)),0==e?0:e-1})),b(h(n),"nextChannelSetClicked",(function(e){e.preventDefault(),null!=n.state.channels&&0!=n.state.channels.length&&(n.state.currentChannelSetIndex>n.calculateMaxChannelSetIndex()?n.setState({currentChannelSetIndex:n.calculateMaxChannelSetIndex(),bSearchButtonClicked:!1}):n.state.currentChannelSetIndex!==n.calculateMaxChannelSetIndex()&&n.setState({currentChannelSetIndex:n.state.currentChannelSetIndex+1}))})),b(h(n),"prevChannelSetClicked",(function(e){e.preventDefault(),null!=n.state.channels&&0!=n.state.channels.length&&(n.state.currentChannelSetIndex<0?n.setState({currentChannelSetIndex:0}):0!==n.state.currentChannelSetIndex&&n.setState({currentChannelSetIndex:n.state.currentChannelSetIndex-1}))})),b(h(n),"loadMoreChannelClicked",(function(){n.state.bAllChannelsHasLoaded||n.fetchRssTelkkuPrograms(null==n.state.channels||0==n.state.channels.length?1:n.state.channels.length+1,null==n.state.channels||0==n.state.channels.length?10:n.state.channels.length+10)})),b(h(n),"loadAllChannelClicked",(function(){n.state.bAllChannelsHasLoaded||n.fetchRssTelkkuPrograms(null==n.state.channels?1:n.state.channels.length+1,-1)})),b(h(n),"searchTextFromChannelsClicked",(function(){event.preventDefault(),w.a.bDebug&&console.log("searchTextFromChannelsClicked");var e=n.state.textSearch;(w.a.bDebug&&(console.log("searchText 2 "),console.log(e)),null!=e&&null!=e&&0!=e.trim().length)&&(w.a.bDebug&&console.log("searchTextFromChannelsClicked 2 "),n.showAllDescrRef.current.checked||(n.showAllDescrRef.current.checked=!0),n.setState({bSearchButtonClicked:!0,bDisplayAllDescriptions:!0}),n.forceUpdate())})),b(h(n),"textFieldSearchChanged",(function(e){e.preventDefault();var t=e.target.value;w.a.bDebug&&(console.log("textFieldSearchChanged"),console.log(t)),n.setState({textSearch:t,bSearchButtonClicked:!1})})),b(h(n),"abortFetchClicked",(function(e){e.preventDefault(),n.state.bUnderFetch&&(w.a.bDebug&&console.log("abortFetchClicked.abort()"),n.abortSignal.aborted||(n.abortController.abort(),n.setState({bUnderFetch:!1})))})),b(h(n),"getFetchedDate",(function(){var e=n.state.today;if(null==e||null==e)return"";var t=e.getDate(),l=e.getMonth()+1;return t<10&&(t="0"+t),l<10&&(l="0"+l),t+"."+l+"."+e.getFullYear()})),b(h(n),"showTableBorders",(function(e){e.preventDefault();var t=e.target.checked;w.a.bDebug&&console.log("showTableBorders");var l=t;w.a.bDebug&&(console.log("bValue"),console.log(l)),n.setState({bShowTableBorder:l})})),b(h(n),"onClickDisplayDialog",(function(){n.scrollingDlgRef.current.close()})),b(h(n),"getNextColumn",(function(e,t){var n=null;return e&&null!=t&&e[t+1]&&(n=e[t+1]),n})),b(h(n),"getPrevColumn",(function(e,t){var n=null;return e&&t&&e[t-1]&&(n=e[t-1]),n})),b(h(n),"getCurrentColumnIndex",(function(e){if(null==e||0===e.length)return null;w.a.bDebug&&(console.log("path"),console.log(e));var t,n=-1,l=0,a=e.length,o="tablecol";for(l=0;l<a;l++)if((t=e[l].id.toString())&&t.includes(o)){var r=t.indexOf(o),s=t.substring(r+8);n=parseInt(s);break}return n})),b(h(n),"getH3OfCurrentColumn",(function(e){if(null==e||0===e.length)return null;w.a.bDebug&&(console.log("path"),console.log(e));var t,n,l=-1,a=0,o=e.length,r="tablecol";for(a=0;a<o;a++)if((n=(t=e[a]).id.toString())&&n.includes(r)){var s=n.indexOf(r),c=n.substring(s+8);parseInt(c);if(l=t.childNodes[0]){var i=l.childNodes[0];i&&(l=i)}break}return l})),b(h(n),"altPlusKeyUp",(function(e){var t=(e=e||window.event).keyCode||e.which;if(w.a.bDebug&&console.log("pressed"),e.altKey){w.a.bDebug&&(console.log("control key"),console.log("e.altKey"),console.log(e.altKey),console.log("keyCode"),console.log(t),console.log("e.keyCode"),console.log(e.keyCode),console.log("e"),console.log(e));var l=n.tablCntl.current.rows[1],a=l.cells,o=l.colIndex,r=a.length,s=l.closest("td");w.a.bDebug&&(console.log("--- row"),console.log(l),console.log("--- cols"),console.log(a),console.log("--- lenCols"),console.log(r),console.log("--- currColInd"),console.log(o),console.log("--- currentCol"),console.log(s),console.log("--- this.tablCntl.current"),console.log(n.tablCntl.current));var c=null,i=null;switch(e.key){case"r":case"R":e.preventDefault(),(i=document.activeElement)&&i.innerHTML&&n.speakScreenReader(i.innerHTML.toString());break;case"c":case"C":if(e.preventDefault(),i=e.composedPath(),h=n.getH3OfCurrentColumn(i)){var u=h.innerHTML.toString();u&&n.speakScreenReader(u)}break;case"o":case"O":e.preventDefault(),i=e.composedPath();var h=n.getH3OfCurrentColumn(i);h&&h.focus();break;case"k":case"K":if(e.preventDefault(),i=e.composedPath(),-1!==(c=n.getCurrentColumnIndex(i))&&c>0){var d=n.getPrevColumn(a,c);d&&d.focus()}break;case"a":case"A":if(e.preventDefault(),i=e.composedPath(),-1!==(c=n.getCurrentColumnIndex(i))&&c<r-1){var b=n.getNextColumn(a,c);b&&(w.a.bDebug&&(console.log("nextcol"),console.log(b)),b.focus())}}}})),b(h(n),"altPlusKeyUpProgramHeader",(function(e){var t=(e=e||window.event).keyCode||e.which;if(console.log("pressed"),e.altKey)switch(w.a.bDebug&&(console.log("control key"),console.log("e.altKey"),console.log(e.altKey),console.log("keyCode"),console.log(t),console.log("e.keyCode"),console.log(e.keyCode),console.log("e"),console.log(e)),e.key){case"m":case"M":if(document.getElementById("idprogramtableh3")){var l=document.getElementById("idprogramtableh3");l&&l.focus()}break;case"n":case"N":if(document.getElementById("divControl")){var a=document.getElementById("divControl");a&&a.focus()}break;case"j":case"J":n.nextChannelSetClicked(e);break;case"g":case"G":n.prevChannelSetClicked(e);break;default:return n.altPlusKeyUp(e)}})),b(h(n),"buttonHidePressed",(function(){var e=!n.state.hideButton,t=document.getElementById("hideDiv");t.style.display="none"===t.style.display?"block":"none",n.setState({hideButton:e,hideButtonText:e?"Näytä ohje":"Piilota ohje"})})),w.a.bDebug&&(console.log("Telkku.js"),console.log("props"),console.log(e)),n.store=e.store;var l=Date.now();n.state=(b(t={errmsg:null,channels:null,currentchannel:null,bUnderFetch:!1,today:new Date(l),bDisplayAllDescriptions:!1,showChannelsAtSameTime:n.const_showChannelsAtSameTime,selectedchannelindex:-1,bCheckShowChannelsAtSameTime:!1,currentChannelSetIndex:0},"bUnderFetch",!1),b(t,"bAllChannelsLoaded",!1),b(t,"textSearch",null),b(t,"bSearchButtonClicked",!1),b(t,"bShowTableBorder",!1),b(t,"bLoadAllChannels",!1),b(t,"bLoad10Channels",!1),b(t,"fetcheddata",null),b(t,"fetcheditems",[]),b(t,"sectionwidth",0),b(t,"screenreaderdiv",""),b(t,"hideButton",!1),b(t,"hideButtonText","Piilota ohje"),t);var o=e.themevalue;return n.sectionStyle=void 0!==o&&""!==o?" border:1px solid pink; padding:15px;  margin:10px; background: black; color: white; "+(null==n.section_width_css?"":n.section_width_css):" border:1px solid black; padding:15px;  margin:10px; background: white; color: black;"+(null==n.section_width_css?"":n.section_width_css),n.tablesectionStyle=void 0!==o&&""!==o?" border:1px solid pink; padding:15px;  margin:10px; background: black; color: white; ":" border:1px solid black; padding:15px;  margin:10px; background: white; color: black;",n.fetch_url_telkku=w.a.http_curlserver+"/telkku/",n.TelkkuException=n.TelkkuException.bind(h(n)),n.removelisteners=n.removelisteners.bind(h(n)),n.showAllDescrRef=Object(x.createRef)(),n.showOneChannelRef=Object(x.createRef)(),n.selectChannelRef=Object(x.createRef)(),n.scrollingDlgRef=Object(x.createRef)(),n.tablCntl=Object(x.createRef)(),n.showTableBordersRef=Object(x.createRef)(),n.sectionRef=Object(x.createRef)(),n}!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(t,e);var n,l,o,u=i(t);return n=t,(l=[{key:"componentWillReceiveProps",value:function(e){w.a.bDebug&&(console.log("Telkku componentWillReceiveProps nextProps"),console.log(e)),null!==e&&e.themevalue!=this.props.themevalue&&(this.setState({themevalue:e.themevalue}),this.sectionStyle=void 0!==e.themevalue&&""!==e.themevalue?" border:1px solid pink; padding:15px;  margin:10px; background: black; color: white; "+(null==this.state.sectionwidth?"":this.state.sectionwidth):" border:1px solid black; padding:15px;  margin:10px; background: white; color: black;"+(null==this.state.sectionwidth?"":this.state.sectionwidth))}},{key:"componentDidMount",value:function(){w.a.bDebug&&console.log("componentDidMount 1"),this.abortController=new _.a,this.abortSignal=this.abortController.signal,this._mounted=!0,this.section_width=this.sectionRef.current.offsetWidth,w.a.bDebug&&console.log("kissa")}},{key:"removelisteners",value:function(){this.abortSignal&&!this.abortSignal.aborted&&this.abortController.abort()}},{key:"componentWillUnmount",value:function(){this.removelisteners(),this._mounted=!1}},{key:"TelkkuException",value:function(e){this.message=e,this.name="TelkkuException"}},{key:"speakScreenReader",value:function(e){document.getElementById("screenreaderdiv").innerHTML=e,this.setState({screenreaderdiv:e})}},{key:"render",value:function(e,t){var n,l=this;w.a.bDebug&&(console.log("state"),console.log(t));var a="";null!=t.fetcheditems&&t.fetcheditems.length>0&&(a=this.getSectionWidthCss(),this.section_width_css=a);var o=void 0!==e.themevalue&&""!==e.themevalue?"color: #FFF; background-color: black; border-color: #FFF;":"",r="float: none; display: inline-block; vertical-align: middle; ",s="float: none; display: inline-block; vertical-align: middle; "+(void 0!==e.themevalue&&""!==e.themevalue?"":" color: white; ");w.a.bDebug&&(console.log("divDialogStyle"),console.log(o));var c="",i="black";t.bShowTableBorder&&("--dark"===e.themevalue&&(i="white"),c=" border: 1px solid "+i+";");var u=null,h=null,d=null;if(null!==t.channels){h=t.channels.map((function(e,t){return Object(x.h)("option",{value:e.title,id:t,selected:t===l.state.selectedchannelindex},e.title)}));var g=this.getTableHeadersAndTableRowsAfterChannels();d=u=g.channels,null!=u&&(d=u.map((function(e,t){return Object(x.h)("td",{id:"telkkutablecol"+t,lang:"fi",tabIndex:"0",style:"vertical-align: top; padding-left: 5px; padding-right: 5px; "+c},e)})))}return Object(x.h)(x.Fragment,null,Object(x.h)("div",{id:"telkku_main_div",style:o,onKeyUp:this.altPlusKeyUpProgramHeader},Object(x.h)("div",{class:P.a.cardHeader},Object(x.h)("h1",{tabIndex:"0",lang:"fi",id:"focus_1_element"},"Telkku ",this.getFetchedDate()),Object(x.h)("section",{ref:this.sectionRef,style:""===this.state.themevalue?a:this.sectionStyle},Object(x.h)("div",{class:P.a.cardBody},Object(x.h)("div",{lang:"fi",tabIndex:"0","aria-labelled":"Miten ohjelmatiedot näytetään"},Object(x.h)("div",{style:{"background-color":"red",color:"yellow"},tabIndex:"0"},t.errmsg),Object(x.h)("div",{class:" mdc-typography--caption",tabIndex:"0",id:"divControl"},"Miten ohjelmatiedot näytetään:")),Object(x.h)("div",{class:P.a.cardBody},Object(x.h)("div",null,Object(x.h)("span",null,Object(x.h)(j.a,{tabIndex:"0",ripple:!0,raised:!0,disabled:null==t.channels||1==t.showChannelsAtSameTime&&t.bCheckShowChannelsAtSameTime||t.showChannelsAtSameTime>=t.channels.length,onClick:this.prevChannelSetClicked,style:s,"aria-label":"Aikaisemmat kanavat",text:"<"})),Object(x.h)("span",null,Object(x.h)("space",null," "),Object(x.h)(j.a,{tabIndex:"0",ripple:!0,raised:!0,disabled:null==t.channels||1==t.showChannelsAtSameTime&&t.bCheckShowChannelsAtSameTime||t.showChannelsAtSameTime>=t.channels.length,onClick:this.nextChannelSetClicked,style:s,"aria-label":"Seuraavat kanavat",text:">"})),Object(x.h)("span",null,Object(x.h)(T.a,{onChange:this.showAllDescriptions,propref:this.showAllDescrRef,inputid:"checkshowdescribtions",style:r,labeltext:"Näytä selitykset",checked:t.bDisplayAllDescriptions})),Object(x.h)("span",null,Object(x.h)(T.a,{onChange:this.showOneChannel,propref:this.showOneChannelRef,inputid:"checkshowonechannel",style:r,labeltext:"Näytä yksi kanava:",checked:t.bCheckShowChannelsAtSameTime}),Object(x.h)("select",{tabIndex:"0",selectedIndex:this.state.selectedchannelindex,disabled:1!==t.showChannelsAtSameTime,preselected:!0,outlined:!0,style:r,ref:this.selectChannelRef,onChange:function(e){l.setState({selectedchannelindex:e.target.selectedIndex,bSearchButtonClicked:!1})}},h)),Object(x.h)("space",null," "),Object(x.h)("span",null,Object(x.h)("label",{for:"input_number_columss",style:r},"Näytettävien kanavien lkm:"," "),Object(x.h)("input",{id:"input_number_columss",name:"input_number_columns",style:r,disabled:this.state.bCheckShowChannelsAtSameTime,type:"number",min:"1",max:"10",value:-1===this.state.showChannelsAtSameTime?"":this.state.showChannelsAtSameTime,onKeyUp:this.textFieldChannelsAtSameTimeChanged})),Object(x.h)("span",null,Object(x.h)("label",{for:"idsearchvalue"},"Etsi tekstiä ohjelmista:"),Object(x.h)("input",{id:"idsearchvalue",type:"text",tabIndex:"0",outlined:!0,disabled:null==t.channels||t.bUnderFetch,onKeyUp:this.textFieldSearchChanged,style:" width: 30%;"})),Object(x.h)("span",null,Object(x.h)(j.a,(b(n={tabIndex:"0",ripple:!0,raised:!0,style:r,disabled:null==t.channels||t.bUnderFetch,onClick:this.searchTextFromChannelsClicked},"style",s),b(n,"aria-label","Hae"),b(n,"text","Hae"),n))),Object(x.h)("span",null,Object(x.h)(j.a,{tabIndex:"0",ripple:!0,raised:!0,disabled:t.bUnderFetch||t.bAllChannelsLoaded,onClick:this.loadMoreChannelClicked,style:s,text:"Lataa +10 kanavaa"})),Object(x.h)("span",null,Object(x.h)(j.a,{tabIndex:"0",ripple:!0,raised:!0,disabled:t.bUnderFetch||t.bAllChannelsLoaded,onClick:this.loadAllChannelClicked,style:s,text:"Lataa kaikki kanavat"})),Object(x.h)("space",null," "),Object(x.h)("span",null,Object(x.h)(T.a,{onChange:this.showTableBorders,style:r,propref:this.showTableBordersRef,inputid:"checkTableBorders",labeltext:"Näytä taulun raamit",checked:t.bShowTableBorder})),Object(x.h)("space",null," "),Object(x.h)("span",null,Object(x.h)(j.a,{tabIndex:"0",ripple:!0,raised:!0,disabled:!t.bUnderFetch,style:s,onClick:this.abortFetchClicked,text:"Keskeytä lataus"})))))),Object(x.h)("br",null),Object(x.h)("br",null),Object(x.h)("section",{style:""===this.state.themevalue?"":this.tablesectionStyle},Object(x.h)("div",{style:{"background-color":"red",color:"yellow"}},t.errmsg),Object(x.h)("div",{class:" mdc-typography--caption"},Object(x.h)("h3",{id:"idprogramtableh3",tabIndex:"0"},"Ohjelmataulukko ",Object(x.h)(j.a,{lang:"fi",ripple:!0,raised:!0,style:s,text:t.hideButtonText,id:"buttonHide",onClick:this.buttonHidePressed,"aria-label":"Näytä/Piilota teksi"})),Object(x.h)("div",{class:P.a.cardHeader,id:"hideDiv"},Object(x.h)("h3",{lang:"fi",tabIndex:"0"},'-- Ohjelmataulukko, liikutaan hiirellä tai taulukon sisällä seuraavilla näppäimillä: alt+a = seuraava kanava, alt+k = edellinen kanava sekä alt+o = liikutaan kanavan otsakkeeseen. Myös ensimmäisen kerran/sama kanava on mahdollista painaa alt+c:ää, jolloin ruudunlukuohjelma sanoo kanavan nimen, mutta selauskohta ei muutu. Samoin atl+r:lla toistetaan kerran/ohjelmatieto sen teksti. Ohjelman kuvailun saa näkymään tab näppäimellä ja enterillä tai hiirenklikkauksella. Taulukon sisällä toimivat myös tab sekä shift-tab näppäimet. Taulukon yläpuolelle tekstin "Ohjelmataulukko" kohdalle pääsee komennolla alt+a. Myös seuraavat näppäimet toimivat, kun kanavia enemmän kuin taulukossa näytetään: edelliset kanavat: alt+g ja seuraavat kanavat: alt+j. Alt+n vie suoraan miten taulukon ohjelmatiedot näytetään yläpuolelle.')),t.bSearchButtonClicked&&null!=t.textSearch?" (haun tulokset)":""),Object(x.h)("table",{id:"programtable",style:"width:100%",ref:this.tablCntl},Object(x.h)("tbody",null,Object(x.h)("tr",null,null),Object(x.h)("tr",null,d))))),Object(x.h)(D.a,{role:"dialog",id:"dialogloading","aria-labelledby":"h1loading","aria-modal":"false",lang:"fi",ref:this.scrollingDlgRef,title:"Odota!",themevalue:e.themevalue,okButtonPressed:this.onClickDisplayDialog,okText:"Sulje",scrollable:!0},Object(x.h)("div",{style:o},Object(x.h)("div",{class:"card-header"},Object(x.h)("h3",{lang:"fi",id:"h1loading",default:!0,tabIndex:"0",class:" mdc-typography--title"},"Hetkinen tietoja haetaan par'aikaa...")))),Object(x.h)("div",{id:"screenreaderdiv",tabindex:"0","aria-live":"priority || polite",class:"visually-hidden","aria-label":this.state.screenreaderdiv})))}}])&&s(n.prototype,l),o&&s(n,o),Object.defineProperty(n,"prototype",{writable:!1}),t}(x.Component),F=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),C(k(n=o.call(this,e)),"control",null),C(k(n),"removelisteners",(function(){n.control.removelisteners()})),w.a.bDebug&&(console.log("YleRoute.js"),console.log("props"),console.log(e)),n.state={errmsg:null},n.control=Object(x.createRef)(),n}!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(t,e);var n,l,a,o=v(t);return n=t,(l=[{key:"componentDidMount",value:function(){w.a.bDebug&&console.log("componentDidMount 1")}},{key:"render",value:function(e,t){return Object(x.h)("div",{class:"".concat(O," page")},Object(x.h)(B,{store:e.store,ref:this.control,themevalue:e.themevalue}),Object(x.h)("div",{style:{"background-color":"red",color:"yellow"}},t.errmsg))}}])&&f(n.prototype,l),a&&f(n,a),Object.defineProperty(n,"prototype",{writable:!1}),t}(x.Component)}}]);
//# sourceMappingURL=12.chunk.4a034.js.map