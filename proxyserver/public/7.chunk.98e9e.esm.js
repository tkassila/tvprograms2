(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"2WAh":function(e,t,n){"use strict";(function(e){function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var l=n.call(e,t||"default");if("object"!=typeof l)return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return a}));var s=n("hosL"),o=(n("meR3"),n("x2AU"));n("jTUD"),n("basN");class a extends s.Component{constructor(e){super(e),l(this,"_mounted",!1),l(this,"store",null),l(this,"unsubscribelistener",null),l(this,"arr_selectchanneltypes",["kaikki","ilmaiset","maksulliset"]),l(this,"fetcheditems",[]),l(this,"channeltypeitems",[]),l(this,"removelisteners",(()=>{null!=this.unsubscribelistener&&(this.unsubscribelistener(),this.unsubscribelistener=null)})),l(this,"listenerStoreChange2",(e=>{if(null==e)return void console.log("ChannnelTypes listenerStoreChange storestate");if(!this._mounted)return;const t=e.fetchitems;if(t==this.state.fetchitems)return;o.a.bDebug&&(console.log("storestate.fetchitems change"),console.log("storestate"),console.log(e)),this.fetchitems=t;const n=this.filterChannesAfterChannelPay();this.channeltypeitems=n,this.setState({fetchitems:t}),this.store.setState({channeltypeitems:n})})),l(this,"filterChannesAfterChannelPay",(e=>{let t=null,n=null,l=null;const s=this.fetchitems;o.a.bDebug&&(console.log("filterChannesAfterChannelPay"),console.log("channeltype"),console.log(e),console.log("fitems"),console.log(s),console.log("fitems.size"),console.log(s.length)),void 0!==e?(t=e.ind,n=e.selected,l=e.channeltype):(n=this.state.selectedsuodattimet,t=this.state.selectedsuodatinindex),o.a.bDebug&&(console.log("filterChannesAfterChannelPay 2"),console.log("ind"),console.log(t),console.log("selected"),console.log(n));let a=null;if(null==s)a=null;else if(null==n||null==n)a=s;else if("kaikki"==n)a=s;else{let e=null;"ilmaiset"===n?e=s.filter((e=>!1===e.pay)):"maksulliset"===n&&(e=s.filter((e=>!0===e.pay))),a=e}return o.a.bDebug&&(console.log("chls 2"),console.log(a)),o.a.bDebug&&(console.log("chls - channeltypeitems"),console.log(a),console.log("channeltypeitems.size"),console.log(a.length)),this.channeltypeitems=a,o.a.bDebug&&(console.log("filterChannesAfterChannelPay 3"),console.log(this.state)),a})),o.a.bDebug&&(console.log("ChannnelTypes.js"),console.log("props"),console.log(e)),this.store=e.store;new Date(Date.now());this.state={errmsg:null,selectedsuodattimet:"kaikki",selectedsuodatinindex:0,fetcheditems:[],channeltypeitems:[],disabled:e.disabled}}componentDidMount(){o.a.bDebug&&console.log("componentDidMount ChannnelTypes");let e=[];e.push("fetchitems"),this.unsubscribelistener=this.store.subscribeAttributeNameListener(e,(e=>this.listenerStoreChange2(e))),this.props.setRemoverFunction(this.removelisteners,"ChannelTypes"),this._mounted=!0}componentWillUnmounted(){this.removelisteners()}componentWillReceiveProps(e){o.a.bDebug&&(console.log("ChannnelTypes componentWillReceiveProps nextProps"),console.log(e)),this._mounted&&null!=e.disabled&&e.disabled!=this.props.disabled&&this.setState({disabled:e.disabled})}render(t,n){o.a.bDebug&&(console.log("state"),console.log(n));let l=this.arr_selectchanneltypes.map(((t,n)=>e("option",{value:t,id:n},t)));return e(s.Fragment,null,e("span",null,e("label",{for:"idchanneltype"},"Kanavatyyppi:"),e("select",{tabIndex:"0",disabled:n.disabled,id:"idchanneltype",selectedIndex:this.state.selectedsuodatinindex,preselected:!0,outlined:!0,onChange:e=>{console.log("e.target.target"),console.log(e.target.text);const t=e.target.selectedIndex,n=this.arr_selectchanneltypes[e.target.selectedIndex];let l={};l.ind=t,l.selected=n;let s=this.filterChannesAfterChannelPay(l);this.setState({selectedsuodatinindex:t,selectedsuodattimet:n,channeltypeitems:s}),this.store.setState({channeltypeitems:s})}},l)))}}}).call(this,n("hosL").h)},"2fTU":function(e,t,n){"use strict";function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var l=n.call(e,t||"default");if("object"!=typeof l)return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=n("hosL"),o=n("kSFl"),a=n.n(o),i="odialog__C8B3T",r=n("x2AU"),c=n("nclG"),h=n.n(c),u=n("c/K1"),d=n.n(u);n("aejN");t.a=class extends s.Component{constructor(e){super(e),l(this,"dialogRef",null),l(this,"closeButtonRef",null),l(this,"channelHeader",null),l(this,"dialogBttnPressed",(e=>{e.preventDefault(),this.dialogRef.MDComponent.show()})),l(this,"open",(()=>{this.dialogRef.current.MDComponent.show(),r.a.bDebug&&console.log("before closeButtonRef.current.focus"),this.closeButtonRef.current.focus(),r.a.bDebug&&console.log("dialog componentDidMount: dialogRef="+this.dialogRef)})),l(this,"close",(()=>{this.dialogRef.current.MDComponent.close()})),l(this,"cancelBttnPressed",(e=>{e.preventDefault(),this.dialogRef.current.MDComponent.close(),this.props.cancelButtonPressed(e)})),l(this,"okBttnPressed",(e=>{e.preventDefault(),r.a.bDebug&&console.log("dialog okBttnPressed: dialogRef="+this.dialogRef),this.dialogRef.current.MDComponent.close(),this.props.okButtonPressed(e)})),l(this,"changeThemeBttnPressed",(e=>{e.preventDefault();(0,Omiu.setTheme)("primary","green")})),l(this,"enterKeyDown",(e=>{e=e||window.event;r.a.bDebug&&console.log("Dialog pressed");if(13===e.keyCode)this.dialogRef.current.MDComponent.close(),this.props.okButtonPressed(e)})),this.state={dialogid:a()("dialog-")},this.closeButtonRef=Object(s.createRef)(),this.dialogRef=Object(s.createRef)()}componentDidMount(){}render(e,t){return r.a.bDebug&&(console.log("->"),console.log(e),console.log(t),console.log("<-")),Object(s.h)(s.Fragment,null,Object(s.h)(h.a,{ref:this.dialogRef,role:"dialog",id:"dialogtheme","aria-modal":"true",style:i},Object(s.h)(h.a.Header,{lang:"fi",tabIndex:"0"},e.title),Object(s.h)(h.a.Body,{scrollable:!0},Object(s.h)(d.a,null,Object(s.h)("div",{class:"card-header"},e.children?e.children:null),Object(s.h)(d.a.Media,{className:"card-media"}))),Object(s.h)(h.a.Footer,null,Object(s.h)("div",{onKeyDown:this.enterKeyDown},Object(s.h)("span",null),Object(s.h)("span",{slot:"footer",class:"dialog-footer"},void 0!==e.cancelButtonPressed?Object(s.h)("button",{style:" margin: 15px;  height: 30px; background: blue; color: white;",id:"cancelBtn",tabIndex:"0",type:"primary",onClick:this.cancelBttnPressed},void 0!==e.cancelText?e.cancelText:"Cancel"):null,void 0!==e.okButtonPressed?Object(s.h)("button",{id:"okBtn",tabIndex:"0",style:" margin: 15px;  height: 30px; background: blue; color: white;",onClick:this.okBttnPressed,type:"primary",autofocus:!0,ref:this.closeButtonRef},void 0!==e.okText?e.okText:"Ok"):null)))))}}},IKRQ:function(e,t,n){"use strict";var l=n("hosL");t.a=e=>{const t=Date.now();return Object(l.h)(l.Fragment,null,Object(l.h)("button",{type:"primary",onClick:e.onClick,tabIndex:"0",disabled:e.disabled,id:e.id?e.id:t,style:void 0!==e.style?e.style+" height: 30px; background: blue; ":" height: 30px; background: blue; ",class:void 0!==e.class?e.class:null},e.text))}},KiBH:function(e,t,n){"use strict";function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},l.apply(this,arguments)}function s(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var l=n.call(e,t||"default");if("object"!=typeof l)return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},o.apply(this,arguments)}function a(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var l=n.call(e,t||"default");if("object"!=typeof l)return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},i.apply(this,arguments)}function r(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var l=n.call(e,t||"default");if("object"!=typeof l)return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var l=n.call(e,t||"default");if("object"!=typeof l)return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.r(t),n.d(t,"default",(function(){return T}));var h=n("hosL"),u=n("x2AU"),d="home__uUe1w",g=n("vqXW"),p=n.n(g),m=n("meR3"),b=n("IKRQ"),f=n("jTUD"),y=n.n(f),v=n("basN"),S=n("2WAh");class k extends h.Component{constructor(e){super(e),s(this,"_mounted",!1),s(this,"store",null),s(this,"unsubscribelistener",null),s(this,"arr_selecttyyppi_items",["kaikki","elokuvat","urheilu"]),s(this,"channeltypeitems",[]),s(this,"programtypeitems",[]),s(this,"removelisteners",(()=>{null!=this.unsubscribelistener&&(this.unsubscribelistener(),this.unsubscribelistener=null)})),s(this,"listenerStoreChange2",(e=>{if(u.a.bDebug&&(console.log("ProgramTypes listenerStoreChange2"),console.log(e)),null==e)return void(u.a.bDebug&&console.log("ChannnelTypes listenerStoreChange storestate"));if(!this._mounted)return;const t=e.channeltypeitems;if(t==this.state.channeltypeitems)return;u.a.bDebug&&(console.log("storestate.channeltypeitems change"),console.log("storestate"),console.log(e)),this.channeltypeitems=t,this.setState({channeltypeitems:t});const n=this.filterAfterProgramType();this.store.setState({programtypeitems:n})})),s(this,"filterAfterProgramType",(e=>{let t=null,n=null;null==e?n=this.state.selectedtyyppi:(t=e.ind,n=e.selected);const l=this.channeltypeitems;u.a.bDebug&&(console.log("filterAfterProgramType channeltypeitems"),console.log(this.channeltypeitems),console.log("channeltypeitems.length"),console.log(l.length));let s=l;return"kaikki"==n?s=l:("elokuvat"===n||"urheilu"===n)&&(s=this.getMovieOrSportChannels(n)),this.programtypeitems=s,this.channels=s,u.a.bDebug&&(console.log("programtypeitems"),console.log(this.programtypeitems),console.log("programtypeitems.length"),console.log(this.programtypeitems.length)),s})),s(this,"getMovieOrSportChannels",(e=>{const t=this.channeltypeitems;if(null==t)return null;if(null==e||null==e)return null;let n,s,o,a="elokuvat"===e,i="urheilu"===e,r=[];return Array.from(t).forEach((e=>{if(void 0===e)return;n={},l(n,e),s=[],o=!1;Array.from(n.channelprograms).forEach((e=>{void 0!==e&&(a&&e.movie||i&&e.sport)&&(o=!0,s.push(e))})),o&&null!=s&&0!=s.length&&(n.channelprograms=s,r.push(n))})),r})),u.a.bDebug&&(console.log("ProgramTypes.js"),console.log("props"),console.log(e)),this.store=e.store;new Date(Date.now());this.state={errmsg:null,selectedTyyppiinindex:0,disabled:e.disabled}}componentDidMount(){u.a.bDebug&&console.log("componentDidMount ProgramTypes");let e=[];e.push("channeltypeitems"),this.unsubscribelistener=this.store.subscribeAttributeNameListener(e,(e=>this.listenerStoreChange2(e))),this.props.setRemoverFunction(this.removelisteners,"ProgramTypes"),this._mounted=!0}componentWillReceiveProps(e){u.a.bDebug&&(console.log("ProgramTypes componentWillReceiveProps nextProps"),console.log(e)),this._mounted&&null!=e.disabled&&e.disabled!=this.props.disabled&&this.setState({disabled:e.disabled})}componentWillUnmounted(){this.removelisteners()}render(e,t){u.a.bDebug&&(console.log("state"),console.log(t));let n=this.arr_selecttyyppi_items.map(((e,t)=>Object(h.h)("option",{id:t,value:e},e)));return Object(h.h)(h.Fragment,null,Object(h.h)("span",null,Object(h.h)("label",{for:"idprogramtype"},"Ohjelmatyyppi:"),Object(h.h)("select",{tabIndex:"0",id:"idprogramtype",disabled:t.disabled,selectedIndex:this.state.selectedTyyppiinindex,preselected:!0,outlined:!0,onChange:e=>{console.log("e.target.target"),console.log(e.target.text);const t=e.target.selectedIndex,n=this.arr_selecttyyppi_items[t];let l={};l.ind=t,l.selected=n;const s=this.filterAfterProgramType(l);this.setState({selectedTyyppiinindex:t,selectedtyyppi:n,channels:s}),this.store.setState({programtypeitems:s,selectedtyyppi:n})}},n)))}}class x extends h.Component{constructor(e){super(e),a(this,"_mounted",!1),a(this,"store",null),a(this,"unsubscribelistener",null),a(this,"programtypeitems",[]),a(this,"textSearch",null),a(this,"removelisteners",(()=>{null!=this.unsubscribelistener&&(this.unsubscribelistener(),this.unsubscribelistener=null)})),a(this,"listenerStoreChange2",(e=>{if(u.a.bDebug&&(console.log("SearchPrograms listenerStoreChange2"),console.log(e)),null==e)return void console.log("SearchPrograms listenerStoreChange storestate");if(!this._mounted)return;const t=e.programtypeitems;if(null==t||null==t)return;if(t==this.state.programtypeitems)return;this.programtypeitems=t;const n=this.filterAfterSearch();this.setState({programtypeitems:t});let l=!1,s=!1;n!=this.programtypeitems&&(l=!0,s=!0,this.props.setDisplayAllDescriptionsTrue(this.textSearch)),this.store.setState({channels:n,bSearchButtonClicked:l,textSearch:this.textSearch,bDisplayAllDescriptions:s})})),a(this,"searchTextFromChannelsClicked",(e=>{e.preventDefault(),u.a.bDebug&&console.log("searchTextFromChannelsClicked");const t=this.textSearch;if(u.a.bDebug&&(console.log("searchText 2 "),console.log(t)),null==t||null==t||0==t.trim().length)return;u.a.bDebug&&console.log("searchTextFromChannelsClicked 2 "),console.log("before programtypeitems filter"),console.log(this.programtypeitems),this.programtypeitems=this.state.programtypeitems,this.setState({bSearchButtonClicked:!0});const n=this.filterAfterSearch(!0);let l=!1,s=!1;n!=this.programtypeitems&&(l=!0,s=!0,this.props.setDisplayAllDescriptionsTrue(this.textSearch)),this.setState({bSearchButtonClicked:!0,bDisplayAllDescriptions:!0}),console.log("before store channels"),console.log(n),this.store.setState({channels:n,bSearchButtonClicked:l,textSearch:this.textSearch,bDisplayAllDescriptions:!0}),console.log("after store"),console.log(this.store.getState())})),a(this,"makeSearchChange",(e=>{null==e||0==e.toString().trim().length?(this.textSearch=null,this.setState({textSearch:null,bSearchButtonClicked:!1}),this.store.setState({channels:this.programtypeitems,bSearchButtonClicked:!1,textSearch:null,bDisplayAllDescriptions:!1})):this.textSearch=e})),a(this,"textFieldSearchChanged",(e=>{e.preventDefault();const t=e.target.value;u.a.bDebug&&(console.log("textFieldSearchChanged"),console.log(t)),this.makeSearchChange(t)})),a(this,"filterAfterSearch",(e=>{let t=null;t=null==e?this.state.bSearchButtonClicked:e;let n=[],l=[];if(u.a.bDebug&&(console.log("filterAfterSearch mychange"),console.log(t)),this.channels=this.programtypeitems,null!=t&&t){let e=this.channels;if(u.a.bDebug&&(console.log("all_channels"),console.log(e),console.log("all_channels.length"),console.log(e.length)),null==e)return null;{const t=this.textSearch;if(u.a.bDebug&&(console.log("searchText"),console.log(t)),null==t||0==t.toString().trim().length);else{let s=-1,a=!1,i=!1,r=t.toUpperCase(),c={},h=e;if(this.state.bCheckShowChannelsAtSameTime&&-1!=this.state.selectedchannelindex){console.log("filter search bCheckShowChannelsAtSameTime");let e=h[this.state.selectedchannelindex].title,t=h.filter((t=>t.title===e));h=t}if(u.a.bDebug&&(console.log("search_channels"),console.log(h)),Array.from(h).forEach((e=>{if(c={},s=-1,a=!1,void 0===e)return;o(c,e),s=c.title?c.title.toUpperCase().indexOf(r):-1,-1!=s&&(c.titleindex=s,a=!0,u.a.bDebug&&(console.log("founded channel title chcoopy"),console.log(c))),l=[];let t=null;Array.from(c.channelprograms).forEach((e=>{i=!1,t=null,s=e.title?e.title.toString().toUpperCase().indexOf(r):-1,-1!=s&&(null==t&&(t={},o(t,e)),t.titleindex=s,a=!0,i=!0,u.a.bDebug&&(console.log("founded program title"),console.log(t))),s=e.description?e.description.toString().toUpperCase().indexOf(r):-1,-1!=s&&(null==t&&(t={},o(t,e)),t.descriptionindex=s,a=!0,i=!0,u.a.bDebug&&(console.log("founded program description"),console.log(t))),i&&l.push(t)})),a&&(c.channelprograms=null!=l&&0!=l.length?l:e.channelprograms,n.push(c))})),null!=n&&0!=n.length)return u.a.bDebug&&(console.log("foundedChannels"),console.log(this.foundedChannels),console.log("foundedChannels.length"),console.log(n.length)),this.channels=n,n;this.channels=null}}}return this.channels})),u.a.bDebug&&(console.log("SearchPrograms.js"),console.log("props"),console.log(e)),this.store=e.store;new Date(Date.now());this.state={errmsg:null,programtypeitems:[],channeltypeitems:[],textSearch:null,bDisplayAllDescriptions:!1,disabled:e.disabled}}componentDidMount(){u.a.bDebug&&console.log("componentDidMount SearchPrograms");let e=[];e.push("programtypeitems"),this.unsubscribelistener=this.store.subscribeAttributeNameListener(e,(e=>this.listenerStoreChange2(e))),this.props.setRemoverFunction(this.removelisteners,"SearchPrograms"),this._mounted=!0}componentWillUnmounted(){this.removelisteners()}componentWillReceiveProps(e){u.a.bDebug&&(console.log("SearchPrograms componentWillReceiveProps nextProps"),console.log(e)),this._mounted&&null!=e.disabled&&null!=e.disabled&&e.disabled!=this.props.disabled&&this.setState({disabled:e.disabled})}render(e,t){u.a.bDebug&&(console.log("state"),console.log(t));const n="float: none; display: inline-block; vertical-align: middle; ",l="float: none; display: inline-block; vertical-align: middle; "+(void 0!==e.themevalue&&""!==e.themevalue?"":" color: white; ");return Object(h.h)(h.Fragment,null,Object(h.h)("span",null,Object(h.h)("label",{for:"idsearchvalue",style:n},"Etsi tekstiä ohjelmista:"),Object(h.h)("input",{type:"text",tabIndex:"0",id:"idsearchvalue",disabled:t.disabled,onKeyUp:this.textFieldSearchChanged,style:" width: 30%;"+n}),Object(h.h)("space",null," "),Object(h.h)(b.a,{tabIndex:"0",ripple:!0,raised:!0,tabIndex:"0",disabled:t.disabled,style:l,onClick:this.searchTextFromChannelsClicked,"aria-label":"Hae",text:"Hae"})))}}var C=n("OXlV");String.prototype.indexOfRegex=function(e,t){var n=t?this.substring(t):this,l=n.match(e);return l?n.indexOf(l[0])+t:-1},String.prototype.lastIndexOfRegex=function(e,t){var n=t?this.substring(0,t):this,l=n.match(e);return l?n.lastIndexOf(l[l.length-1]):-1};const D="programtype",O="channeltype",w="searchchange",j="makesearch";class A extends h.Component{constructor(e){var t;super(e),t=this,r(this,"store",null),r(this,"unsubscribelistener",null),r(this,"fetch_url_telkku",null),r(this,"fetch_url_ampparissa",null),r(this,"arr_selecttyyppi_items",["kaikki","elokuvat","urheilu"]),r(this,"arr_selectchanneltypes",["kaikki","ilmaiset","maksulliset"]),r(this,"ilmaisetchannelnames",["Yle TV1","Yle TV2","MTV3","Nelonen","Yle Teema Fem","Sub","TV Viisi","Liv","Jim","Kutonen","TLC","Fox","Ava","Hero","alfatv","frii","National Geoprafic"]),r(this,"search_start_program",'["^2",'),r(this,"search_end_program",/\]\](,*)/gi),r(this,"showAllDescrRef",null),r(this,"showOneChannelRef",null),r(this,"selectChannelRef",null),r(this,"const_showChannelsAtSameTime",10),r(this,"showTableBordersRef",null),r(this,"channelTypeRef",null),r(this,"searchProgramRef",null),r(this,"programTypeRef",null),r(this,"tablCntl",null),r(this,"fetcheditems",[]),r(this,"channeltypeitems",[]),r(this,"programtypeitems",[]),r(this,"channels",[]),r(this,"textSearch",null),r(this,"_mounted",!1),r(this,"removerfunctionProgramType",null),r(this,"removerfunctionSearchProgram",null),r(this,"removerfunctionChannelType",null),r(this,"checkshowdcurrentprogramsRef",null),r(this,"bUnderFetch",!1),r(this,"sectionStyle",null),r(this,"tablesectionStyle",null),r(this,"sectionRef",null),r(this,"section_width",null),r(this,"sleep",(e=>new Promise((t=>setTimeout(t,e))))),r(this,"removelisteners",(()=>{null!=this.unsubscribelistener&&(this.unsubscribelistener(),this.unsubscribelistener=null),this.removerfunctionProgramType&&this.removerfunctionProgramType(),this.removerfunctionSearchProgram&&this.removerfunctionSearchProgram(),this.removerfunctionChannelType&&this.removerfunctionChannelType()})),r(this,"setRemoverFunction",((e,t)=>{"ProgramTypes"===t?this.removerfunctionProgramType=e:"SearchPrograms"===t?this.removerfunctionSearchProgram=e:"ChannelTypes"===t&&(this.removerfunctionChannelType=e)})),r(this,"listenerStoreChange2",(e=>{if(u.a.bDebug&&(console.log("Amppari listenerStoreChange2"),console.log(e)),null==e)return void console.log("Amppari listenerStoreChange storestate");const t=e.channels,n=e.bSearchButtonClicked,l=e.bDisplayAllDescriptions,s=e.textSearch;this.channels=t,this.textSearch=s;let o=e.selectedtyyppi;o&&o!=this.state.selectedtyyppi&&this.setState({selectedtyyppi:o}),n&&s&&this.setState({bDisplayAllDescriptions:!0}),this.setState({channels:t,textSearch:s,bSearchButtonClicked:n,selectedTyyppiinindex:0}),u.a.bDebug&&(console.log("-- 3 bSearchButtonClicked"),console.log(n),console.log("-- 3 bDisplayAllDescriptions"),console.log(l),console.log("-- 3 textSearch"),console.log(s),console.log("-- 3 channels"),console.log(t),console.log("-- 3"),console.log(this.state))})),r(this,"getSelectedDateParam",(()=>{let e=this.state.selecteddate,t=""+(e.getMonth()+1);1===t.trim().length&&(t="0"+t);let n=""+e.getDate();return 1===n.trim().length&&(n="0"+n),""+e.getFullYear()+t+n})),r(this,"getChannelsAndPrograms",(e=>{let t;if(null==e||null==e||0==e.length)return null;let n=[];return Array.from(e).forEach((e=>{void 0!==e&&(t=this.getJsonChannel(e),null!==t&&n.push(t))})),n})),r(this,"getArrayIntoChannel",(e=>{let t=null;if(u.a.bDebug&&(console.log("getArrayIntoChannel"),console.log(e)),null==e)return null;t={};let n=this.getNextJsonArrayAfterLabel(e,"name"),l=this.getNextJsonArrayAfterLabel(e,"slug"),s=this.getNextJsonArrayAfterLabel(e,"pay");return t.title=n,t.slug=l,t.pay=s,t})),r(this,"getJsonProgram",(e=>{let t=null;if(u.a.bDebug&&(console.log("getJsonProgram"),console.log(e)),null==e)return null;let n=e[1];t={};let l=this.getNextJsonArrayAfterLabel(n,"id"),s=this.getNextJsonArrayAfterLabel(n,"timestamp"),o=this.getNextJsonArrayAfterLabel(n,"title"),a=this.getNextJsonArrayAfterLabel(n,"description"),i=this.getNextJsonArrayAfterLabel(n,"channel"),r=this.getNextJsonArrayAfterLabel(n,"movie"),c=this.getNextJsonArrayAfterLabel(n,"sport");return t.id=l,t.title=o,t.timestamp=s,t.description=a,t.channel=i,t.movie=r,t.sport=c,t})),r(this,"getJsonChannel",(e=>{let t=e[1],n=t[1];u.a.bDebug&&(console.log("tvchannel"),console.log(n));let l=n[1],s=this.getNextJsonArrayAfterLabel(t,"programs")[1];u.a.bDebug&&(console.log("programs"),console.log(s));let o=[],a=null,i=this.getArrayIntoChannel(l);return null==i?null:(Array.from(s).forEach((e=>{void 0!==e&&(a=this.getJsonProgram(e),null!==a&&o.push(a))})),i.channels=o,i)})),r(this,"getChannelsAndProgramsFromJsonArray",(e=>{let t,n,l,s=null,o=null,a=null,i=null,r=e.length,c="tv",h=!1;for(t=0;t<r;t++)if(h||"string"!=typeof e[t]||e[t]!==c){if(h&&"tv"===c){s=e[t][1],c="programming",h=!1,o=s[1][1],l=o.length;let r={},u=[];for(n=0;n<l;n++){a=o[n][1][1][1],i=o[n][1][3][1],r={},r.id=a[1],r.title=a[3],r.slug=a[5],r.pay=a[7];let e,t,l=0,s=i.length,c=[];for(l=0;l<s;l++)e={},t=i[l][1],e.id=this.getNextJsonArrayAfterLabel(t,"id"),e.timestamp=this.getNextJsonArrayAfterLabel(t,"timestamp"),e.title=this.getNextJsonArrayAfterLabel(t,"title"),e.description=this.getNextJsonArrayAfterLabel(t,"description"),e.channel=this.getNextJsonArrayAfterLabel(t,"channel"),e.movie=this.getNextJsonArrayAfterLabel(t,"movie"),e.sport=this.getNextJsonArrayAfterLabel(t,"sport"),c.push(e);r.channelprograms=c,u.push(r)}return u}}else h=!0;return null})),r(this,"fetchHtmlAmppariChannels",(async function(e){if(t.state.bUnderFetch)return;let n=t.getUrlQueryForAmppari(e);u.a.bDebug&&(console.log("fetchHtmlAmppariChannels 1"),console.log(n)),t.fetcheditems=[],t.channeltypeitems=[],t.store.setState({fetchitems:[]}),t.setState({bUnderFetch:!0,channels:[],selectedchannelindex:0,currentChannelSetIndex:0,errmsg:null,fetcheditems:null}),t.bUnderFetch=!0;let l=null;return await fetch(n,{method:"GET",headers:{"Content-Type":"text/html; charset=UTF-8",Accept:"*/*"},mode:"cors",signal:t.abortSignal}).then(t.handleErrors).then((e=>e.text())).then((e=>{let n=e;u.a.bDebug&&console.log("fetchHtmlAmppariChannels 1.5");const s="window.__INITIAL_STATE__=";let o=e.indexOf(s);if(u.a.bDebug&&(console.log("index"),console.log(o)),o>-1){u.a.bDebug&&console.log("index > -1");let l=e.indexOf("<\/script>",o);if(u.a.bDebug&&(console.log("indexEnd"),console.log(l)),l>-1){u.a.bDebug&&console.log("indexEnd > -1"),n=e.substring(o+25,l);let s=JSON.parse(n),a=JSON.parse(s.state);u.a.bDebug&&(console.log("json2"),console.log(a)),n=t.getChannelsAndProgramsFromJsonArray(a),u.a.bDebug&&console.log("-- 1"),t.fetcheditems=n,t.channeltypeitems=n,t.setState({fetcheditems:t.fetcheditems,channels:[],bUnderFetch:!1,selectedsuodattimet:"kaikki",channeltypeitems:null,programtypeitems:null,selectedtyyppi:"kaikki",selectedTyyppiinindex:0,selectedsuodatinindex:0,bSearchButtonClicked:!1,selectedchannelindex:0}),t.store.setState({fetchitems:n}),t.setState({channels:t.channels,bUnderFetch:!1,selectedsuodattimet:"kaikki",selectedtyyppi:"kaikki",selectedTyyppiinindex:0,selectedsuodatinindex:0,bSearchButtonClicked:!1,selectedchannelindex:0}),t.bUnderFetch=!1}}l=n})).catch((e=>{throw console.error("error"),console.error(e),t.setState({errmsg:e.toString(),bUnderFetch:!1}),t.bUnderFetch=!1,new t.AmppariException(e.toString())})),l})),r(this,"getChannelsAndSortProgramsAfterChannels",(e=>{let t=new Map,n={};return u.a.bDebug&&console.log("chcoopy.channelprograms"),Array.from(e).forEach((e=>{void 0!==e&&(n=t.get(e.channel),null!=n&&null!=n||(console.log("channel == undefined"),n={},i(n,{}),n.title=e.channel,console.log("new channel"),console.log(n.title),t.set(n.title,n)),null!==n&&(null==n.channelprograms&&(n.channelprograms=[]),n.channelprograms.push(e),t.set(n.title,n)))})),t.size>0?Object.fromEntries(t):null})),r(this,"getJsonChannels",(e=>{if(null==e)return null;let t=0,n=this.getJsonLabel("channel",strprograms,t),l=null,s=-1,o=null,a=-1,r=null,c=null,h=1,u=[],d=-1;for(;null!==n;){if(d=r.indexOf('"channel"',searchResultChanne.indEnd+1),t=searchResult.indEnd,searchResult=this.getJsonLabel("id",strprograms,t,d),null!==searchResult&&(t=searchResult.indEnd,searchresult=this.getJsonNextValue(strprograms,t,d),null!==searchResult)){searchResult;if(t=searchResult.indEnd,searchResult=this.getJsonLabel("name",strprograms,t,d),null!==searchResult){t=searchResult.indEnd,searchresult=this.getJsonNextValue(strprograms,t,d);let n=searchResult.value;if(console.log("channelname"),console.log(n),searchResult=this.getJsonLabel("slug",strprograms,t,d),null!==searchResult){t=searchResult.indEnd,searchresult=this.getJsonNextValue(strprograms,t,d);let g=searchResult.value;if(console.log("channelslug"),console.log(g),searchResult=this.getJsonLabel("pay",strprograms,t,d),null!==searchResult){t=searchResult.indEnd,searchresult=this.getJsonNextValue(strprograms,t,d);let p=searchResult.value;for(l={},i(l,{}),l.title=n,l.slug=g,l.pay=p,o=new Array,s=e.indexOf(this.search_start_program,t),a=e.indexOf("]]"),r=null,c=null,h=1;-1!==s&&-1!==a&&(-1==d||-1!=d&&a<d)&&(r=e.substring(s+1,a),c=this.getJsonProg(r,d),null!=c);)console.log("jsonprog"),console.log(c),o.push(c),h+=1,s=e.indexOf(this.search_start_program,a),a=e.indexOf("]]",s);console.log("tv programs size"),console.log(h),l.channelprograms=[],Array.from(o).forEach((e=>{void 0!==e&&l.channelprograms.push(e)})),null!=l&&u.push(l)}}}}n=this.getJsonLabel("channel",strprograms,t)}return u})),r(this,"getJsonProg",((e,t)=>{if(null==e)return null;if(console.log("strprogram"),console.log(e),e.indexOf('"channel"')>-1)return null;let n=null,l='"^2",[',s=e.indexOf(l),o=null;if(s>-1){let l=0,a="";e=e.substring(s+6),console.log("strprogram 2"),console.log(e),o=this.getJsonLabelAndValue("id",e,l,t),null!=o&&(a='{"'+o.name+'":'+o.value,console.log("1 strjson"),console.log(a),l=o.indEnd,o=this.getJsonLabelAndValue("timestamp",e,l,t),null!=o&&(a=a+',"'+o.name+'":'+o.value,console.log("2 strjson"),console.log(a),l=o.indEnd,o=this.getJsonLabelAndValue("title",e,l,t),null!=o&&(a=a+',"'+o.name+'":'+o.value,console.log("3 strjson"),console.log(a),l=o.indEnd,o=this.getJsonLabelAndValue("description",e,l,t),null!=o&&(a=a+',"'+o.name+'":'+o.value,l=o.indEnd,console.log("4 strjson"),console.log(a),o=this.getJsonLabelAndValue("channel",e,l,t),null!=o&&(a=a+',"'+o.name+'":'+o.value,console.log("5 strjson"),console.log(a),l=o.indEnd,o=this.getJsonLabelAndValue("movie",e,l,t),null!=o&&(a=a+',"'+o.name+'":'+o.value,console.log("6 strjson"),console.log(a),l=o.indEnd,o=this.getJsonLabelAndValue("sport",e,l,t),null!=o&&(a=a+',"'+o.name+'":'+o.value,a+=" }",console.log("7 strjson"),console.log(a),n=JSON.parse(a),console.log("ret"),console.log(n))))))))}return n})),r(this,"getJsonLabelAndValue",((e,t,n,l)=>{let s=this.getJsonNextLabel(t,n,l);if(null!=s){let e=s.name;if(s=this.getJsonNextValue(t,s.indEnd,l),null!=s)return s.name=e,s}return null})),r(this,"getJsonNextLabel",((e,t)=>{let n=e.indexOf('"',t);if(console.log("getJsonNextLabel ind"),console.log(n),n>-1){let t=e.indexOf('"',n+1);if(t>-1){console.log("getJsonNextLabel ind2"),console.log(t);let l={};return l.name=e.substring(n+1,t),l.indStart=n+1,l.indEnd=t,console.log("getJsonLabel searchresult"),console.log(l),l}}return null})),r(this,"getJsonLabel",((e,t,n)=>{let l='"'+e+'"',s=t.indexOf(l,n);if(console.log("getJsonLabel ind"),console.log(s),s>-1){let t={};return t.name=e,t.indStart=s+1,t.indEnd=s+l.length,t.name=e,console.log("getJsonLabel searchresult"),console.log(t),t}return null})),r(this,"getJsonNextValue",((e,t)=>{let n=e.indexOf(",",t);if(console.log("getJsonNextValue ind"),console.log(n),n>-1){let t={},l='"'==e.substring(n+1,n+2);console.log("getJsonNextValue indEnd bStartWithStrike"),console.log(l),t.indStart=n;let s=1;l&&(s=2);let o=-1;return o=e.indexOf(l?'"':",",n+s),console.log("getJsonNextValue indEnd"),console.log(o),-1==o?(t.indEnd=e.length,t.value=e.substring(n+s),console.log("getJsonNextValue searchresult.value indEnd==-1"),console.log(t.value),t):(t.indEnd=l?o+1:o,t.value=e.substring(n+1,l?o+1:o),console.log("getJsonNextValue searchresult.value"),console.log(t.value),t)}return null})),r(this,"getJsonDataFromTelkkuRssXml",(e=>{e.querySelectorAll("item")})),r(this,"handleErrors",(e=>{if(!e.ok)throw console.log("response"),console.log(e),console.log(e.status),Error(e.status);return e})),r(this,"getUrlQueryForAmppari",(e=>this.fetch_url_ampparissa+"?aika="+this.state.selectedaika+"&pvm="+e+"&sanat="+this.state.searchsanat+"&suodatus="+this.state.selectedsuodattimet+"&tyyppi="+this.state.selectedtyyppi)),r(this,"onClickSetDateString",(e=>{e.preventDefault();let t=e.target.id;const n="dayname_";let l=t.indexOf(n);l>-1&&(t=t.substring(l+8).trim());const s=Date.parse(t),o=new Date(s),a=new Date(Date.now());o.getDate()!==a.getDate()?(this.checkshowdcurrentprogramsRef.current.value&&(this.checkshowdcurrentprogramsRef.current.value=!1,this.setState({bshowdcurrentprograms:!1})),this.checkshowdcurrentprogramsRef.current.disabled=!0):1==this.checkshowdcurrentprogramsRef.current.disabled&&(this.checkshowdcurrentprogramsRef.current.disabled=!1),this.setState({selecteddate:o}),this.fetchHtmlAmppariChannels(t)})),r(this,"getPlus1DayId",(e=>{const t=y()();let n=t;(e>0||e<0)&&(n=t.add(e,"days"));return n.format("YYYY-MM-DD")})),r(this,"getPlus1Day",(e=>{const t=y()();let n=t;(e>0||e<0)&&(n=t.add(e,"days"));let l="";switch(new Date(n).getDay()){case 1:l="Ma";break;case 2:l="Ti";break;case 3:l="Ke";break;case 4:l="To";break;case 5:l="Pe";break;case 6:l="La";break;case 0:l="Su"}return l+" "+n.format("DD.MM.YYYY")})),r(this,"onClickSelectedAika",(e=>{e.preventDefault();const t=e.target.id,n=t.indexOf("_");if(n>-1){const e=t.substring(n+1);this.setState({selectedaika:e})}})),r(this,"getTableHeaders",(()=>null)),r(this,"getTableRows",(()=>null)),r(this,"getFetchedDate",(()=>{u.a.bDebug&&(console.log("getFetchedDate"),console.log("this.state.selecteddate"),console.log(this.state.selecteddate));let e=this.state.selecteddate;if(null==e||null==e)return"";"string"==typeof e&&(e=Date.parse(this.state.selecteddate));let t=e.getDate(),n=e.getMonth()+1;t<10&&(t="0"+t),n<10&&(n="0"+n);return t+"."+n+"."+e.getFullYear()})),r(this,"calculateMaxChannelSetIndex",(()=>{if(u.a.bDebug&&console.log("calculateMaxChannelSetIndex"),null==this.state.channels)return 0;if(0===this.state.channels.length)return 0;if(this.state.bCheckShowChannelsAtSameTime)return 0;if(this.state.showChannelsAtSameTime>=this.state.channels.length)return 0;const e=this.state.channels.length/this.state.showChannelsAtSameTime;return u.a.bDebug&&(console.log("channelSets"),console.log(e)),0==e?0:e-1})),r(this,"nextChannelSetClicked",(e=>{e.preventDefault(),null!=this.state.channels&&0!=this.state.channels.length&&(this.state.currentChannelSetIndex>this.calculateMaxChannelSetIndex()?this.setState({currentChannelSetIndex:this.calculateMaxChannelSetIndex()}):this.state.currentChannelSetIndex!==this.calculateMaxChannelSetIndex()&&this.setState({currentChannelSetIndex:this.state.currentChannelSetIndex+1}))})),r(this,"prevChannelSetClicked",(e=>{e.preventDefault(),null!=this.state.channels&&0!=this.state.channels.length&&(this.state.currentChannelSetIndex<0?this.setState({currentChannelSetIndex:0}):0!==this.state.currentChannelSetIndex&&this.setState({currentChannelSetIndex:this.state.currentChannelSetIndex-1}))})),r(this,"showAllDescriptions",(e=>{e.preventDefault();let t=e.target.checked;u.a.bDebug&&console.log("showAllDescriptions");let n=t;u.a.bDebug&&console.log("bValue"),u.a.bDebug&&console.log(n),this.setState({bDisplayAllDescriptions:n})})),r(this,"showTableBorders",(e=>{e.preventDefault();let t=e.target.checked;console.log("showTableBorders");let n=t;console.log("bValue"),console.log(n),this.setState({bShowTableBorder:n})})),r(this,"showOneChannel",(e=>{if(e.preventDefault(),e.target.checked){const e=this.store.getState();this.setState({showChannelsAtSameTime:1,bCheckShowChannelsAtSameTime:!0,selectedchannelindex:0,currentChannelSetIndex:0,channels:e.channels})}else{const e=this.store.getState();this.channels=e.channels,this.setState({showChannelsAtSameTime:this.const_showChannelsAtSameTime,selectedchannelindex:-1,bCheckShowChannelsAtSameTime:!1,channels:e.channels})}})),r(this,"getPOfIndex",((e,t,n)=>{u.a.bDebug&&console.log("getPOfIndex");let l=this.textSearch;if(u.a.bDebug&&(console.log("textSearch"),console.log(l)),null==t||null==t||0==t.toString().trim().length)return"";u.a.bDebug&&(console.log("txt"),console.log(t),console.log("index"),console.log(e),console.log("textSearch"),console.log(l));let s=t.toString(),o=s.length;if(null==o||null==e||null==e||e<0||o<=e)return s.toString();if(null==l||null==l||0==l.toString().trim().length)return s.toString();let a=s.substring(0,e),i=s.substring(e,e+l.length),r=s.substring(e+l.length,s.length);u.a.bDebug&&(console.log("first"),console.log(a),console.log("between"),console.log(i),console.log("last"),console.log(r));let c=null!=a&&null!=a&&0!=a.trim().length?Object(h.h)("span",{style:"margin-right: 0px; margin-left: 0px; padding: 0px;"},a):"",d="background-color: green; color: white; margin-right: 0px; margin-left: 0px; padding: 0px;";"--dark"===n&&(d="background-color: yellow; color: black; margin-right: 0px; margin-left: 0px; padding: 0px;");let g=Object(h.h)("span",{style:d},i),p=null!=r&&null!=r&&0!=r.trim().length?Object(h.h)("span",{style:"margin-right: 0px; margin-left: 0px; padding: 0px;"},r):"",m=Object(h.h)("div",null,c,g,p);return u.a.bDebug&&(console.log("newvalue_first"),console.log(c),console.log("newvalue_between"),console.log(g),console.log("newvalue_last"),console.log(p)),u.a.bDebug&&(console.log("newvalue"),console.log(m)),m})),r(this,"oldProgram",((e,t,n)=>("kaikki"!=this.state.selectedtyyppi&&(n=this.getNextProgOf(e)),this.oldProgramWithNextProg(e,t,n)))),r(this,"getNextProgOf",(e=>{if(null==e)return null;const t=this.state.fetcheditems;if(null==t)return null;let n=null,l=null,s=0;if(l=t[s],null==l||null===l)return null;if(l.title!==e.channel)return null;if(n=l,n){let t=null,l=null,o=n.channelprograms.length;const a=n.channelprograms;let i=null;for(s=0;s<o;s++)if(i=a[s],null!=i&&null!==i){if(l){t=i;break}i.id===e.id&&(l=i)}return t}return null})),r(this,"oldProgramWithNextProg",((e,t,n)=>{new Date(1e3*e.timestamp);let l=null,s=null;if(!n)return!1;if(n&&(l=new Date(1e3*n.timestamp),s=l.getHours()),l>t)return!1;if(l<t)return!0;const o=t.getHours();if(s&&s<o)return console.log("kkk"),!0;if(s&&l.getHours()===t.getHours()){if(l.getMinutes()<t.getMinutes())return console.log("kkk"),!0}return!1})),r(this,"getTableHeadersAndTableRowsAfterChannels",(()=>{let e=null,t=null;u.a.bDebug&&(console.log("getTableHeadersAndTableRowsAfterChannels"),console.log("this.state.bCheckShowChannelsAtSameTime"),console.log(this.state.bCheckShowChannelsAtSameTime),console.log("this.state.selectedchannelindex"),console.log(this.state.selectedchannelindex),console.log(this.state));const n=new Date;let l=this.channels;if(null==l){e=[],t=[];let n={};return n.headers=e,n.channels=t,n}if(this.state.bCheckShowChannelsAtSameTime&&-1!=this.state.selectedchannelindex){console.log("filter");let s=null;l[this.state.selectedchannelindex]&&(s=l[this.state.selectedchannelindex].title);let o=l.filter((e=>e.title===s));e=o.map((e=>e.title)),t=o.map(((e,t)=>Object(h.h)(v.a,{id:t,data:e,selectedtyyppi:this.state.selectedtyyppi,showSearch:this.state.bSearchButtonClicked&&null!=this.state.textSearch,getPOfIndex:this.getPOfIndex,oldProgram:this.oldProgram,currenttime:n,themevalue:this.state.themevalue,bshowdcurrentprograms:this.state.bshowdcurrentprograms,displayAllDescriptions:this.state.bDisplayAllDescriptions})))}else if(this.state.showChannelsAtSameTime==l.length||this.state.showChannelsAtSameTime>l.length)e=l.map((e=>e.title)),t=l.map(((e,t)=>Object(h.h)(v.a,{id:t,data:e,showSearch:this.state.bSearchButtonClicked&&null!=this.state.textSearch,selectedtyyppi:this.state.selectedtyyppi,getPOfIndex:this.getPOfIndex,oldProgram:this.oldProgram,currenttime:n,bshowdcurrentprograms:this.state.bshowdcurrentprograms,themevalue:this.state.themevalue,displayAllDescriptions:this.state.bDisplayAllDescriptions})));else{let s=!1;if(this.state.showChannelsAtSameTime<l.length){let o=Math.floor(this.state.currentChannelSetIndex*this.state.showChannelsAtSameTime),a=0==this.state.currentChannelSetIndex?this.state.showChannelsAtSameTime:Math.floor(this.state.currentChannelSetIndex*this.state.showChannelsAtSameTime+this.state.showChannelsAtSameTime);if(u.a.bDebug&&(console.log("min"),console.log(o),console.log("max"),console.log(a)),o<0?o=0:o>l.length&&(o=l.length,s=!0),a>l.length&&(a=l.length),!s){let s,i=[];for(s=o;s<a;s++)i.push(l[s]);e=i.map((e=>e.title)),t=i.map(((e,t)=>Object(h.h)(v.a,{id:t,data:e,showSearch:this.state.bSearchButtonClicked&&null!=this.state.textSearch,selectedtyyppi:this.state.selectedtyyppi,getPOfIndex:this.getPOfIndex,oldProgram:this.oldProgram,currenttime:n,bshowdcurrentprograms:this.state.bshowdcurrentprograms,themevalue:this.state.themevalue,displayAllDescriptions:this.state.bDisplayAllDescriptions})))}}else s=!0;s&&(e=l.map((e=>e.title)),t=l.map(((e,t)=>Object(h.h)(v.a,{id:t,data:e,showSearch:this.state.bSearchButtonClicked&&null!=this.state.textSearch,selectedtyyppi:this.state.selectedtyyppi,getPOfIndex:this.getPOfIndex,oldProgram:this.oldProgram,currenttime:n,themevalue:props.themevalue?props.themevalue:this.state.themevalue,bshowdcurrentprograms:this.state.bshowdcurrentprograms,displayAllDescriptions:this.state.bDisplayAllDescriptions}))))}let s={};return s.headers=e,s.channels=t,s})),r(this,"textFieldChannelsAtSameTimeChanged",(e=>{e.preventDefault();let t=e.target.value;u.a.bDebug&&(console.log("textFieldChannelsAtSameTimeChanged"),console.log(t));let n=parseInt(t);u.a.bDebug&&(console.log("validNumber"),console.log(n)),NaN!=n&&null!=n?parseInt(n)<1?e.target.value=1:parseInt(n)>this.const_showChannelsAtSameTime?e.target.value=this.const_showChannelsAtSameTime:this.setState({showChannelsAtSameTime:n,currentChannelSetIndex:0}):e.target.value=this.const_showChannelsAtSameTime})),r(this,"textFieldSearchChanged",(e=>{e.preventDefault();const t=e.target.value;u.a.bDebug&&(console.log("textFieldSearchChanged"),console.log(t)),this.filterWhenUIControlsHasBeenChanged(w,t)})),r(this,"searchTextFromChannelsClicked",(()=>{event.preventDefault(),u.a.bDebug&&console.log("searchTextFromChannelsClicked");const e=this.textSearch;if(u.a.bDebug&&(console.log("searchText 2 "),console.log(e)),null==e||null==e||0==e.trim().length)return;u.a.bDebug&&console.log("searchTextFromChannelsClicked 2 "),this.showAllDescrRef.current.value||(this.showAllDescrRef.current.value=!0),this.filterWhenUIControlsHasBeenChanged(j,!0),this.setState({bSearchButtonClicked:!0,bDisplayAllDescriptions:!0,channels:this.channels}),this.forceUpdate()})),r(this,"getMovieOrSportChannels",(e=>{const t=this.channeltypeitems;if(null==t)return null;if(null==e||null==e)return null;let n,l,s,o="elokuvat"===e,a="urheilu"===e,r=[];return Array.from(t).forEach((e=>{if(void 0===e)return;n={},i(n,e),l=[],s=!1;Array.from(n.channelprograms).forEach((e=>{(o&&e.movie||a&&e.sport)&&(s=!0,l.push(e))})),s&&null!=l&&0!=l.length&&(n.channelprograms=l,r.push(n))})),r})),r(this,"filterFetchedItemsIntoChannelsAfterTyyppi",(e=>{const t=this.state.fetcheditems;if(null==t)return null;if(null==e||null==e)return null;let n=null;return"kaikki"==e?n=t:("elokuvat"===e||"urheile"===e)&&(n=this.getMovieOrSportChannels(e)),n})),r(this,"filterFetchedItemsIntoChannelsAfterSuodin",(e=>{const t=this.state.fetcheditems;if(null==t)return null;if(null==e||null==e)return null;let n=null;return"kaikki"==e?n=t:"ilmaiset"===e?n=t.filter((e=>!1===e.pay)):"maksulliset"===e&&(n=t.filter((e=>!0===e.pay))),n})),r(this,"filterChannesAfterChannelPay",(e=>{let t=null,n=null,l=null;const s=this.fetcheditems;u.a.bDebug&&(console.log("filterChannesAfterChannelPay"),console.log("channeltype"),console.log(e),console.log("channeltype"),console.log(e),console.log("fitems"),console.log(s),console.log("fitems.size"),console.log(s.length)),void 0!==e?(t=e.ind,n=e.selected,l=e.channeltype):(n=this.state.selectedsuodattimet,t=this.state.selectedsuodatinindex),u.a.bDebug&&(console.log("filterChannesAfterChannelPay 2"),console.log("ind"),console.log(t),console.log("selected"),console.log(n));let o=null;if(null==s)o=null;else if(null==n||null==n)o=s;else if("kaikki"==n)o=s;else{let e=null;"ilmaiset"===n?e=s.filter((e=>!1===e.pay)):"maksulliset"===n&&(e=s.filter((e=>!0===e.pay))),o=e}u.a.bDebug&&(console.log("chls 2"),console.log(o));let a=!1;this.showOneChannelRef.current.checked&&(this.showOneChannelRef.current.checked=!1,a=!0),u.a.bDebug&&(console.log("bChange 2"),console.log(a),console.log("chls - channeltypeitems"),console.log(o),console.log("channeltypeitems.size"),console.log(o.length)),this.channeltypeitems=o,u.a.bDebug&&(console.log("filterChannesAfterChannelPay 3"),console.log(this.state))})),r(this,"filterAfterProgramType",(e=>{let t=null,n=null;null==e?n=this.state.selectedtyyppi:(t=e.ind,n=e.selected);const l=this.channeltypeitems;u.a.bDebug&&(console.log("filterAfterProgramType channeltypeitems"),console.log(this.channeltypeitems),console.log("channeltypeitems.length"),console.log(l.length));let s=l;"kaikki"==n?s=l:("elokuvat"===n||"urheilu"===n)&&(s=this.getMovieOrSportChannels(n)),this.programtypeitems=s,this.channels=s,u.a.bDebug&&(console.log("programtypeitems"),console.log(this.programtypeitems),console.log("programtypeitems.length"),console.log(this.programtypeitems.length))})),r(this,"makeSearchChange",(e=>{null==e||0==e.toString().trim().length?(this.textSearch=null,this.channels=this.programtypeitems,this.setState({textSearch:null,bSearchButtonClicked:!1})):this.textSearch=e})),r(this,"filterAfterSearch",(e=>{let t=null;t=null==e?this.state.bSearchButtonClicked:e;let n=[],l=[];if(u.a.bDebug&&(console.log("filterAfterSearch mychange"),console.log(t)),this.channels=this.state.programtypeitems,void 0!==t||null!==t||t){let e=this.channels;if(u.a.bDebug&&(console.log("all_channels"),console.log(e),console.log("all_channels.length"),console.log(e.length)),null==e);else{const t=this.textSearch;if(u.a.bDebug&&(console.log("searchText"),console.log(t)),null==t||0==t.toString().trim().length);else{let s=-1,o=!1,a=!1,r=t.toUpperCase(),c={},h=this.state.selectedchannelindex;if(this.state.bCheckShowChannelsAtSameTime&&h>-1){const t=e[h];t&&(e=[],e.push(t),this.setState({currentChannelSetIndex:0}),h=0)}let d=e;if(this.state.bCheckShowChannelsAtSameTime&&-1!=h){console.log("filter search bCheckShowChannelsAtSameTime");let e=d[h].title,t=d.filter((t=>t.title===e));d=t}u.a.bDebug&&(console.log("search_channels"),console.log(d)),Array.from(d).forEach((e=>{if(void 0===e)return;c={},s=-1,o=!1,i(c,e),s=c.title.toUpperCase().indexOf(r),-1!=s&&(c.titleindex=s,o=!0,u.a.bDebug&&(console.log("founded channel title chcoopy"),console.log(c))),l=[];let t=null;Array.from(c.channelprograms).forEach((e=>{void 0!==e&&(a=!1,t={},i(t,e),s=t.title?t.title.toString().toUpperCase().indexOf(r):-1,-1!=s&&(t.titleindex=s,o=!0,a=!0,u.a.bDebug&&(console.log("founded program title"),console.log(t))),s=t.description?t.description.toString().toUpperCase().indexOf(r):-1,-1!=s&&(t.descriptionindex=s,o=!0,a=!0,u.a.bDebug&&(console.log("founded program description"),console.log(t))),a&&l.push(t))})),o&&(c.channelprograms=null!=l&&0!=l.length?l:e.channelprograms,n.push(c))})),null==n||0==n.length?this.channels=null:(u.a.bDebug&&(console.log("foundedChannels"),console.log(this.programtypeitems),console.log("foundedChannels.length"),console.log(n.length)),this.channels=n)}}}})),r(this,"filterWhenUIControlsHasBeenChanged",((e,t)=>{switch(console.log("filterWhenUIControlsHasBeenChanged"),console.log("calledfrom"),console.log(e),console.log("change"),console.log(t),e){case O:console.log("calledfrom.CHANNELTYPE"),this.filterChannesAfterChannelPay(t),this.filterAfterProgramType();break;case D:this.filterAfterProgramType(t);break;case w:this.makeSearchChange(t);break;case j:this.filterAfterSearch(t)}})),r(this,"setDisplayAllDescriptionsTrue",(()=>{this.showAllDescrRef.current.checked||(this.showAllDescrRef.current.checked=!0)})),r(this,"getCurrentColumnIndex",(e=>{if(null==e||0===e.length)return null;u.a.bDebug&&(console.log("path"),console.log(e));let t,n,l=-1,s=0,o=e.length;const a="tablecol";for(s=0;s<o;s++)if(t=e[s],n=t.id.toString(),n&&n.includes(a)){let e=n.indexOf(a),t=n.substring(e+8);l=parseInt(t);break}return l})),r(this,"getH3OfCurrentColumn",(e=>{if(null==e||0===e.length)return null;u.a.bDebug&&(console.log("path"),console.log(e));let t,n,l=-1,s=0,o=e.length;const a="tablecol";for(s=0;s<o;s++)if(t=e[s],n=t.id.toString(),n&&n.includes(a)){let e=n.indexOf(a),s=n.substring(e+8);parseInt(s);if(l=t.childNodes[0],l){let e=l.childNodes[0];e&&(l=e)}break}return l})),r(this,"getNextColumn",((e,t)=>{let n=null;return e&&null!=t&&e[t+1]&&(n=e[t+1]),n})),r(this,"getPrevColumn",((e,t)=>{let n=null;return e&&t&&e[t-1]&&(n=e[t-1]),n})),r(this,"altPlusKeyUp",(e=>{let t=(e=e||window.event).keyCode||e.which;if(u.a.bDebug&&console.log("pressed"),e.shiftKey||e.altKey){u.a.bDebug&&(console.log("control key"),console.log("e.altKey"),console.log(e.altKey),console.log("e.shiftKey"),console.log(e.shiftKey),console.log("keyCode"),console.log(t),console.log("e.keyCode"),console.log(e.keyCode),console.log("e"),console.log(e));let n=this.tablCntl.current.rows[1];const l=n.cells,s=n.colIndex,o=l.length,a=n.closest("td");u.a.bDebug&&(console.log("--- row"),console.log(n),console.log("--- cols"),console.log(l),console.log("--- lenCols"),console.log(o),console.log("--- currColInd"),console.log(s),console.log("--- currentCol"),console.log(a),console.log("--- this.tablCntl.current"),console.log(this.tablCntl.current));let i=null,r=null;switch(e.key){case"r":case"R":e.preventDefault(),r=document.activeElement,r&&r.innerHTML&&this.speakScreenReader(r.innerHTML.toString());break;case"c":case"C":if(e.preventDefault(),r=e.composedPath(),t=this.getH3OfCurrentColumn(r),t){const e=t.innerHTML.toString();e&&this.speakScreenReader(e)}break;case"o":case"O":e.preventDefault(),r=e.composedPath();let t=this.getH3OfCurrentColumn(r);t&&t.focus();break;case"k":case"K":if(e.preventDefault(),r=e.composedPath(),i=this.getCurrentColumnIndex(r),i>0){const e=this.getPrevColumn(l,i);e&&e.focus()}break;case"a":case"A":if(e.preventDefault(),r=e.composedPath(),i=this.getCurrentColumnIndex(r),-1!==i&&i<o-1){const e=this.getNextColumn(l,i);e&&(u.a.bDebug&&(console.log("nextcol"),console.log(e)),e.focus())}}}})),r(this,"showdcurrentprograms",(e=>{e.preventDefault();let t=e.target.checked;console.log("showdcurrentprograms");let n=t;console.log("bValue"),console.log(n),this.setState({bshowdcurrentprograms:n})})),r(this,"altPlusKeyUpProgramHeader",(e=>{let t=(e=e||window.event).keyCode||e.which;if(u.a.bDebug&&console.log("pressed"),e.altKey)switch(u.a.bDebug&&(console.log("control key"),console.log("e.altKey"),console.log(e.altKey),console.log("keyCode"),console.log(t),console.log("e.keyCode"),console.log(e.keyCode),console.log("e"),console.log(e)),e.key){case"m":case"M":if(document.getElementById("idprogramtableh3")){let e=document.getElementById("idprogramtableh3");e&&e.focus()}break;case"n":case"N":if(document.getElementById("divControl")){let e=document.getElementById("divControl");e&&e.focus()}break;case"i":case"I":if(document.getElementById("divDays")){let e=document.getElementById("divDays");e&&e.focus()}break;case"j":case"J":this.nextChannelSetClicked(e);break;case"g":case"G":this.prevChannelSetClicked(e);break;default:return this.altPlusKeyUp(e)}})),r(this,"getSectionWidthCss",(()=>"width: "+this.section_width+"px;")),r(this,"buttonHidePressed",(()=>{let e=!this.state.hideButton;var t=document.getElementById("hideDiv");t.style.display="none"===t.style.display?"block":"none",this.setState({hideButton:e,hideButtonText:e?"Näytä ohje":"Piilota ohje"})})),u.a.bDebug&&(console.log("Amppari.js"),console.log("props"),console.log(e)),this.store=e.store;new Date(Date.now());this.state={errmsg:null,html:null,selecteddate:null,selectedaika:"paiva",selectedsuodattimet:"kaikki",selectedtyyppi:"kaikki",selectedTyyppiinindex:0,selectedsuodatinindex:0,searchsanat:"",fetcheditems:[],channeltypeitems:[],programtypeitems:[],channels:[],selectedpage:1,today:new Date(Date.now),currentchannel:null,bDisplayAllDescriptions:!1,showChannelsAtSameTime:this.const_showChannelsAtSameTime,selectedchannelindex:0,bCheckShowChannelsAtSameTime:!1,currentChannelSetIndex:0,bUnderFetch:!1,bAllChannelsLoaded:!1,textSearch:null,bSearchButtonClicked:!1,bShowTableBorder:!1,bshowdcurrentprograms:!0,themevalue:e.themevalue,hideButton:!1,hideButtonText:"Piilota ohje"},this.fetch_url_telkku="/telkkussa/",this.fetch_url_ampparissa=u.a.http_curlserver+"/ampparissa/tv",this.AmppariException=this.AmppariException.bind(this),this.showAllDescrRef=Object(h.createRef)(),this.showOneChannelRef=Object(h.createRef)(),this.selectChannelRef=Object(h.createRef)(),this.showTableBordersRef=Object(h.createRef)(),this.channelTypeRef=Object(h.createRef)(),this.searchProgramRef=Object(h.createRef)(),this.programTypeRef=Object(h.createRef)(),this.tablCntl=Object(h.createRef)(),this.checkshowdcurrentprogramsRef=Object(h.createRef)(),this.sectionRef=Object(h.createRef)()}componentWillReceiveProps(e){u.a.bDebug&&(console.log("Amppari componentWillReceiveProps nextProps"),console.log(e)),null!==e&&e.themevalue!=this.props.themevalue&&(this.setState({themevalue:e.themevalue}),this.sectionStyle=void 0!==e.themevalue&&""!==e.themevalue?" border:1px solid pink; padding:15px;  margin:10px; background: black; color: white; "+(null==this.state.sectionwidth?"":this.state.sectionwidth):" border:1px solid black; padding:15px;  margin:10px; background: white; color: black;"+(null==this.state.sectionwidth?"":this.state.sectionwidth),this.tablesectionStyle=void 0!==e.themevalue&&""!==e.themevalue?" border:1px solid pink; padding:15px;  margin:10px; background: black; color: white; ":" border:1px solid black; padding:15px;  margin:10px; background: white; color: black;")}componentDidMount(){u.a.bDebug&&console.log("componentDidMount 1"),this.abortController=new p.a,this.abortSignal=this.abortController.signal;let e=[];e.push("channels"),this.unsubscribelistener=this.store.subscribeAttributeNameListener(e,(e=>this.listenerStoreChange2(e))),this._mounted=!0;const t=this.store.getState().fetcheditems;t&&(this.setState({fetcheditems:t}),this.store.setState({fetcheditems:t})),this.section_width=this.sectionRef.current.offsetWidth;let n=document.getElementById("focus_1_element");n&&(this.sleep(500),n.focus())}componentWillUnmount(){this.abortSignal&&!this.abortSignal.aborted&&this.abortController.abort(),this.removelisteners(),this.setState({}),this.store.setStateNoneCallListeners({fetchitems:[],channeltypeitems:[],programtypeitems:[],categories:[],schedules:[]}),this._mounted=!1}componentWillUnmounted(){null!=this.unsubscribelistener&&this.unsubscribelistener()}AmppariException(e){this.message=e,this.name="AmppariException"}getNextJsonArrayAfterLabel(e,t){if(null==t||null==t)return null;if(null==e||null==e||0==e.length)return null;let n=0,l=!1,s=!1,o=null,a=0,i=null,r=e.length;for(a=0;a<r;a++)if(i=e[a],n+=1,!s)if(l||"string"!=typeof i||i.toString()!==t){if(l)return o=i,s=!0,i}else l=!0;return null==o&&console.log("return null"),o}speakScreenReader(e){document.getElementById("screenreaderdiv").innerHTML=e,this.setState({screenreaderdiv:e})}render(e,t){u.a.bDebug&&(console.log("state"),console.log(t));let n="";null!=t.fetcheditems&&t.fetcheditems.length>0&&(n=this.getSectionWidthCss());const l="float: none; display: inline-block; vertical-align: middle; ",s="float: none; display: inline-block; vertical-align: middle; "+(void 0!==e.themevalue&&""!==e.themevalue?"":" color: white; ");let o=void 0!==e.themevalue&&""!==e.themevalue?"color: #FFF; background-color: black; border-color: #FFF;":"";this.store.getState();let a="",i="black";t.bShowTableBorder&&(a=" border: 1px solid "+i+";","--dark"===e.themevalue&&(i="white",a=" border: 1px solid "+i+";"));this.arr_selectchanneltypes.map(((e,t)=>Object(h.h)("option",{value:e,id:t},e))),this.arr_selecttyyppi_items.map(((e,t)=>Object(h.h)("option",{value:e,id:t},e)));let r=null,c=null,d=null,g=t.selectedchannelindex;(g<0||t.ddd)&&(g=0);let p=null,f=null;if(null!==t.channels){d=t.channels.map(((e,t)=>Object(h.h)("option",{selected:t===g,value:e.title,id:t},e.title)));let e=this.getTableHeadersAndTableRowsAfterChannels();r=e.headers,c=e.channels,null!=c&&c.length>0&&(f=c.map(((e,t)=>Object(h.h)("td",{tabIndex:"0",id:"tablecol"+t,lang:"fi",style:"vertical-align: top; padding-left: 5px; padding-right: 5px;"+a},e))))}return null!=c&&u.a.bDebug&&(console.log("tabletds.length"),null==f||null==f?console.log("tabletds == null || tabletds == undefined"):console.log(f.length)),Object(h.h)(h.Fragment,null,Object(h.h)("div",{id:"amppari_main_div",style:" min-height: 100%; margin: 0px; height: 100%: "+o,onKeyUp:this.altPlusKeyUpProgramHeader},Object(h.h)("div",{class:m.a.cardHeader+o},Object(h.h)("h1",{tabIndex:"0",lang:"fi",id:"focus_1_element"},"Amppari ",this.getFetchedDate()),Object(h.h)("section",{ref:this.sectionRef,style:""===this.state.themevalue?n:this.sectionStyle},Object(h.h)("div",{class:m.a.cardHeader},Object(h.h)("div",{lang:"fi",tabIndex:"0",id:"divDays"},"Hae tv-ohjelmatiedot alimpaan taulukkoon alla olevan päivämäärän mukaan:"),Object(h.h)("div",{class:m.a.cardHeader},Object(h.h)("a",{lang:"fi",href:".",id:"dayname_"+this.getPlus1DayId(0),onClick:this.onClickSetDateString},this.getPlus1Day(0)),Object(h.h)("space",null," "),Object(h.h)("a",{lang:"fi",href:".",id:"dayname_"+this.getPlus1DayId(1),onClick:this.onClickSetDateString},this.getPlus1Day(1)),Object(h.h)("space",null," "),Object(h.h)("a",{lang:"fi",href:".",id:"dayname_"+this.getPlus1DayId(2),onClick:this.onClickSetDateString},this.getPlus1Day(2)),Object(h.h)("space",null," "),Object(h.h)("a",{lang:"fi",href:".",id:"dayname_"+this.getPlus1DayId(3),onClick:this.onClickSetDateString},this.getPlus1Day(3)),Object(h.h)("space",null," "),Object(h.h)("a",{lang:"fi",href:".",id:"dayname_"+this.getPlus1DayId(4),onClick:this.onClickSetDateString},this.getPlus1Day(4)),Object(h.h)("space",null," "),Object(h.h)("a",{lang:"fi",href:".",id:"dayname_"+this.getPlus1DayId(5),onClick:this.onClickSetDateString},this.getPlus1Day(5)),Object(h.h)("space",null," "),Object(h.h)("a",{lang:"fi",href:".",id:"dayname_"+this.getPlus1DayId(6),onClick:this.onClickSetDateString},this.getPlus1Day(6)),Object(h.h)("space",null," "),Object(h.h)("a",{lang:"fi",href:".",id:"dayname_"+this.getPlus1DayId(7),onClick:this.onClickSetDateString},this.getPlus1Day(7)),Object(h.h)("space",null," "),Object(h.h)("a",{lang:"fi",href:".",id:"dayname_"+this.getPlus1DayId(8),onClick:this.onClickSetDateString},this.getPlus1Day(8)),Object(h.h)("space",null," "),Object(h.h)("a",{lang:"fi",href:".",id:"dayname_"+this.getPlus1DayId(9),onClick:this.onClickSetDateString},this.getPlus1Day(9))))),Object(h.h)("section",{ref:this.sectionRef,style:""===this.state.themevalue?n:this.sectionStyle},Object(h.h)("div",null,Object(h.h)("div",{lang:"fi",tabIndex:"0","aria-labelled":"Miten ohjelmatiedot näytetään"},Object(h.h)("div",{style:{"background-color":"red",color:"yellow"},tabIndex:"0"},t.errmsg),Object(h.h)("div",{class:" mdc-typography--caption",tabIndex:"0",id:"divControl"},"Miten ohjelmatiedot näytetään:")),Object(h.h)("br",null),Object(h.h)("span",null,Object(h.h)(b.a,{lang:"fi",ripple:!0,raised:!0,disabled:null==t.channels||1==t.showChannelsAtSameTime&&t.bCheckShowChannelsAtSameTime||t.showChannelsAtSameTime>=t.channels.length,style:s,text:"<",onClick:this.prevChannelSetClicked,"aria-label":"Aikaisemmat kanavat"})),Object(h.h)("space",null," "),Object(h.h)("span",null,Object(h.h)(b.a,{lang:"fi",ripple:!0,raised:!0,"aria-label":"Seuraavat kanavat",disabled:null==t.channels||1==t.showChannelsAtSameTime&&t.bCheckShowChannelsAtSameTime||t.showChannelsAtSameTime>=t.channels.length,style:s,text:">",onClick:this.nextChannelSetClicked})),Object(h.h)("span",null,Object(h.h)(C.a,{lang:"fi",inputid:"checkshowdcurrentprograms",labeltext:"Näytä par'aikaa ja myöhemmät esitettävät",checked:t.bshowdcurrentprograms,onChange:this.showdcurrentprograms,style:l,propref:this.checkshowdcurrentprogramsRef})),Object(h.h)("span",null,Object(h.h)(C.a,{onChange:this.showAllDescriptions,propref:this.showAllDescrRef,inputid:"checkshowdescribtions",style:l,labeltext:"Näytä selitykset",checked:t.bDisplayAllDescriptions})),Object(h.h)("span",null,Object(h.h)(C.a,{onChange:this.showOneChannel,propref:this.showOneChannelRef,inputid:"checkshowonechannel",style:l,labeltext:"Näytä yksi kanava:",checked:t.bCheckShowChannelsAtSameTime}),Object(h.h)("select",{tabIndex:"0",lang:"fi",selectedIndex:g,disabled:!t.bCheckShowChannelsAtSameTime,preselected:!0,outlined:!0,ref:this.selectChannelRef,style:l,onChange:e=>{this.setState({selectedchannelindex:e.target.selectedIndex,bSearchButtonClicked:!1})}},d)),Object(h.h)("space",null," "),Object(h.h)("span",null,Object(h.h)("label",{for:"input_number_columss",lang:"fi",style:l},"Näytettävien kanavien lkm:"," "),Object(h.h)("input",{id:"input_number_columss",lang:"fi",name:"input_number_columns",disabled:this.state.bCheckShowChannelsAtSameTime,type:"number",min:"1",max:"10",style:l,value:-1===this.state.showChannelsAtSameTime?"":this.state.showChannelsAtSameTime,onKeyUp:this.textFieldChannelsAtSameTimeChanged})),Object(h.h)("space",null," "),Object(h.h)(x,{disabled:null==t.fetcheditems||0==t.fetcheditems.length,setDisplayAllDescriptionsTrue:this.setDisplayAllDescriptionsTrue,store:this.store,setRemoverFunction:this.setRemoverFunction,ref:this.searchProgramRef}),Object(h.h)("space",null," "),Object(h.h)("span",null,Object(h.h)(C.a,{onChange:this.showTableBorders,propref:this.showTableBordersRef,lang:"fi",inputid:"checkTableBorders",style:l,labeltext:"Näytä taulun raamit",checked:t.bShowTableBorder})),Object(h.h)(k,{disabled:null==t.fetcheditems||0==t.fetcheditems.length,store:this.store,ref:this.programTypeRef,setRemoverFunction:this.setRemoverFunction,bshowdcurrentprograms:e.bshowdcurrentprograms}),Object(h.h)(S.a,{disabled:null==t.fetcheditems||0==t.fetcheditems.length,store:this.store,ref:this.channelTypeRef,setRemoverFunction:this.setRemoverFunction}))),Object(h.h)("section",{ref:this.sectionRef,style:""===this.state.themevalue?n:this.sectionStyle}," ",Object(h.h)("div",null,Object(h.h)("div",{style:{"background-color":"red",color:"yellow"}},t.errmsg),Object(h.h)("div",{class:" mdc-typography--caption"},Object(h.h)("h3",{id:"idprogramtableh3",lang:"fi",tabIndex:"0"},"Ohjelmataulukko ",Object(h.h)(b.a,{lang:"fi",ripple:!0,raised:!0,style:s,text:t.hideButtonText,id:"buttonHide",onClick:this.buttonHidePressed,"aria-label":"Näytä/Piilota teksi"})),Object(h.h)("div",{class:m.a.cardHeader,style:t.hideButton,id:"hideDiv"},Object(h.h)("h3",{lang:"fi",tabIndex:"0"},'-- Ohjelmataulukko, liikutaan hiirellä tai taulukon sisällä seuraavilla näppäimillä: alt+a = seuraava kanava, alt+k = edellinen kanava sekä alt+o = liikutaan kanavan otsakkeeseen. Myös ensimmäisen kerran/sama kanava on mahdollista painaa al+c:ää, jolloin ruudunlukuohjelma sanoo kanavan nimen, mutta selauskohta ei muutu. Samoin atl+r:lla toistetaan kerran/ohjelmatieto sen teksti. Ohjelman kuvailun saa näkymään tab näppäimellä ja enterillä tai hiirenklikkauksella. Taulukon sisällä toimivat myös tab sekä shift-tab näppäimet. Taulukon yläpuolelle tekstin "Ohjelmataulukko" kohdalle pääsee komennolla alt+m. Myös seuraavat näppäimet toimivat, kun kanavia enemmän kuin taulukossa näytetään: edelliset kanavat: alt+g ja seuraavat kanavat: alt+j. Alt+i vie suoraan päiväkohtaisten hakulinkkien yläpuolelle. Alt+n vie suoraan miten taulukon ohjelmatiedot näytetään yläpuolelle.')),t.bSearchButtonClicked&&null!=t.textSearch?" (haun tulokset)":""),null===f&&Object(h.h)("div",{tabIndex:"0",lang:"fi","aria-label":"Ei ohjelmatietoja haettu"},Object(h.h)("br",null),"Ei ohjelmatietoja haettu tai tekstihakutulosta (tyhjää hakutekstikenttä)"))),Object(h.h)("section",{style:""===this.state.themevalue?"":this.tablesectionStyle},Object(h.h)("table",{id:"programtable",style:"width:100%; "+a+(""===this.state.themevalue?this.sectionStyle:this.state.themevalue),ref:this.tablCntl},Object(h.h)("tbody",null,Object(h.h)("tr",null,p),Object(h.h)("tr",null,f))))),Object(h.h)("div",{id:"screenreaderdiv",tabindex:"0","aria-live":"priority || polite",class:"visually-hidden","aria-label":this.state.screenreaderdiv})))}}class T extends h.Component{constructor(e){super(e),c(this,"control",null),c(this,"removelisteners",(()=>{})),u.a.bDebug&&(console.log("AmppariRoute.js"),console.log("props"),console.log(e)),this.state={errmsg:null},this.control=Object(h.createRef)()}componentDidMount(){u.a.bDebug&&console.log("AmppariRoute componentDidMount 1");const e=window.performance.timing.domContentLoadedEventEnd-window.performance.timing.navigationStart;console.log("loadTime="+e)}render(e,t){return Object(h.h)("div",{class:`${d} page`},Object(h.h)(A,{store:e.store,themevalue:e.themevalue}),Object(h.h)("div",{style:{"background-color":"red",color:"yellow"}},t.errmsg))}}},OXlV:function(e,t,n){"use strict";var l=n("hosL"),s=n("x2AU");t.a=class extends l.Component{constructor(e){super(e),s.a.bDebug&&(console.log("SwitchCheckBox.js"),console.log("props"),console.log(e)),this.state={errmsg:null},this.chechRef=Object(l.createRef)()}render(e,t){const n="float: none; display: inline-block; vertical-align: middle; ";return Object(l.h)(l.Fragment,null,Object(l.h)("input",{lang:"fi",tabIndex:"0",type:"checkbox",onChange:e.onChange,className:"form-check-input filled-in",ref:e.propref,style:n,id:void 0===e.inputid?"idcheckboxundef":e.inputid,checked:void 0!==e.checked&&e.checked}),Object(l.h)("label",{lang:"fi",style:"margin-left: 5px;",class:"container",style:n,for:void 0===e.inputid?"idcheckboxundef":e.inputid,id:void 0===e.inputid?"idcheckboxundef-label":e.inputid+"-label"},e.labeltext))}}},XmHI:function(e,t,n){"use strict";var l=n("hosL"),s=n("QRet"),o=n("2fTU");n("x2AU");t.a=function(e){const[t,n]=Object(s.d)(!1),a=Object(s.c)(null),i=n=>{n.preventDefault(),e.displayAllDescriptions||(t||a.current.open(),r())},r=()=>c(!t),c=e=>{n(e)},h=e=>{e.preventDefault(),a.current.close(),r()};return Object(l.h)("div",null,Object(l.h)("div",null,Object(l.h)("div",{onClick:i,onKeyDown:e=>{e=e||window.event;console.log("pressed");if(13===e.keyCode)i(e)}},Object(l.h)("p",{lang:"fi",tabIndex:"0"},Object(l.h)("b",null,e.showSearch&&null!=e.data.titleindex?e.getPOfIndex(e.data.titleindex,e.data.title):e.data.title)),e.displayAllDescriptions?Object(l.h)(l.Fragment,null,Object(l.h)("p",{lang:"fi",tabIndex:"0"},e.showSearch&&null!=e.data.descriptionindex?e.getPOfIndex(e.data.descriptionindex,e.data.description,e.themevalue):e.data.description),null!=e.data.link||null!=e.data.link?Object(l.h)("p",null,Object(l.h)("a",{lang:"fi",href:e.data.link,onClick:e=>{console.log("openHtmlPage"),e.preventDefault();let t=e.target.href;return console.log("blankurl"),console.log(t),window.open(t,"_blank","Telkussa"),!1}},"ohjelmalinkki")):null):null),Object(l.h)(o.a,{role:"dialog",id:"telkkudialogshowporg","aria-labelledby":"h1loading","aria-modal":"false",lang:"fi",ref:a,title:e.channel?e.channel.replace("Telkussa: ",""):"",okButtonPressed:h,okText:"Sulje",scrollable:!0,themevalue:e.themevalue},Object(l.h)("div",{class:"card-header",style:"color: #FFF; background-color: black; border-color: #FFF;"},Object(l.h)("h3",{lang:"fi",id:"h3program",tabIndex:"0",class:" mdc-typography--title"},e.data.title),Object(l.h)("h3",{lang:"fi",tabIndex:"0",class:" mdc-typography--title"},e.data.description),Object(l.h)("br",null)))))}},basN:function(e,t,n){"use strict";(function(e){var l=n("wp7E");t.a=function(t){let n=null;if(null!==t.data.channelprograms){let s=t.data.channelprograms;if(void 0!==t.selectedtyyppi&&"kaikki"!==t.selectedtyyppi)if("elokuvat"===t.selectedtyyppi){let e=s.filter((e=>1==e.movie));s=e}else if("urheilu"===t.selectedtyyppi){let e=s.filter((e=>!0===e.sport));s=e}if(t.bshowdcurrentprograms&&s){let e,n,l=0,o=s.length,a=[];for(l=0;l<o;l++)e=s[l],n=null,l+1<o&&(n=s[l+1]),t.oldProgram(e,t.currenttime,n)||a.push(e);s=a}n=s.map(((n,s)=>e(l.a,{id:s,data:n,displayAllDescriptions:t.displayAllDescriptions,themevalue:t.themevalue,getPOfIndex:t.getPOfIndex,showSearch:null!=t.showSearch&&t.showSearch,channel:t.data.title.toString()})))}return e("div",null,e("h3",{tabIndex:"0",lang:"fi","aria-label":t.data.title},t.showSearch&&null!=t.data.titleindex?t.getPOfIndex(t.data.titleindex,t.data.title,t.themevalue):t.data.title),e("div",null,n))}}).call(this,n("hosL").h)},jTUD:function(e){e.exports=function(){"use strict";var e=1e3,t=6e4,n=36e5,l="millisecond",s="second",o="minute",a="hour",i="day",r="week",c="month",h="quarter",u="year",d="date",g="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,b={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},f=function(e,t,n){var l=String(e);return!l||l.length>=t?e:""+Array(t+1-l.length).join(n)+e},y={s:f,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),l=Math.floor(n/60),s=n%60;return(t<=0?"+":"-")+f(l,2,"0")+":"+f(s,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var l=12*(n.year()-t.year())+(n.month()-t.month()),s=t.clone().add(l,c),o=n-s<0,a=t.clone().add(l+(o?-1:1),c);return+(-(l+(n-s)/(o?s-a:a-s))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:c,y:u,w:r,d:i,D:d,h:a,m:o,s:s,ms:l,Q:h}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},v="en",S={};S[v]=b;var k=function(e){return e instanceof O},x=function e(t,n,l){var s;if(!t)return v;if("string"==typeof t){var o=t.toLowerCase();S[o]&&(s=o),n&&(S[o]=n,s=o);var a=t.split("-");if(!s&&a.length>1)return e(a[0])}else{var i=t.name;S[i]=t,s=i}return!l&&s&&(v=s),s||!l&&v},C=function(e,t){if(k(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new O(n)},D=y;D.l=x,D.i=k,D.w=function(e,t){return C(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var O=function(){function b(e){this.$L=x(e.locale,null,!0),this.parse(e)}var f=b.prototype;return f.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(D.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var l=t.match(p);if(l){var s=l[2]-1||0,o=(l[7]||"0").substring(0,3);return n?new Date(Date.UTC(l[1],s,l[3]||1,l[4]||0,l[5]||0,l[6]||0,o)):new Date(l[1],s,l[3]||1,l[4]||0,l[5]||0,l[6]||0,o)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},f.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},f.$utils=function(){return D},f.isValid=function(){return!(this.$d.toString()===g)},f.isSame=function(e,t){var n=C(e);return this.startOf(t)<=n&&n<=this.endOf(t)},f.isAfter=function(e,t){return C(e)<this.startOf(t)},f.isBefore=function(e,t){return this.endOf(t)<C(e)},f.$g=function(e,t,n){return D.u(e)?this[t]:this.set(n,e)},f.unix=function(){return Math.floor(this.valueOf()/1e3)},f.valueOf=function(){return this.$d.getTime()},f.startOf=function(e,t){var n=this,l=!!D.u(t)||t,h=D.p(e),g=function(e,t){var s=D.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return l?s:s.endOf(i)},p=function(e,t){return D.w(n.toDate()[e].apply(n.toDate("s"),(l?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},m=this.$W,b=this.$M,f=this.$D,y="set"+(this.$u?"UTC":"");switch(h){case u:return l?g(1,0):g(31,11);case c:return l?g(1,b):g(0,b+1);case r:var v=this.$locale().weekStart||0,S=(m<v?m+7:m)-v;return g(l?f-S:f+(6-S),b);case i:case d:return p(y+"Hours",0);case a:return p(y+"Minutes",1);case o:return p(y+"Seconds",2);case s:return p(y+"Milliseconds",3);default:return this.clone()}},f.endOf=function(e){return this.startOf(e,!1)},f.$set=function(e,t){var n,r=D.p(e),h="set"+(this.$u?"UTC":""),g=(n={},n[i]=h+"Date",n[d]=h+"Date",n[c]=h+"Month",n[u]=h+"FullYear",n[a]=h+"Hours",n[o]=h+"Minutes",n[s]=h+"Seconds",n[l]=h+"Milliseconds",n)[r],p=r===i?this.$D+(t-this.$W):t;if(r===c||r===u){var m=this.clone().set(d,1);m.$d[g](p),m.init(),this.$d=m.set(d,Math.min(this.$D,m.daysInMonth())).$d}else g&&this.$d[g](p);return this.init(),this},f.set=function(e,t){return this.clone().$set(e,t)},f.get=function(e){return this[D.p(e)]()},f.add=function(l,h){var d,g=this;l=Number(l);var p=D.p(h),m=function(e){var t=C(g);return D.w(t.date(t.date()+Math.round(e*l)),g)};if(p===c)return this.set(c,this.$M+l);if(p===u)return this.set(u,this.$y+l);if(p===i)return m(1);if(p===r)return m(7);var b=(d={},d[o]=t,d[a]=n,d[s]=e,d)[p]||1,f=this.$d.getTime()+l*b;return D.w(f,this)},f.subtract=function(e,t){return this.add(-1*e,t)},f.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||g;var l=e||"YYYY-MM-DDTHH:mm:ssZ",s=D.z(this),o=this.$H,a=this.$m,i=this.$M,r=n.weekdays,c=n.months,h=function(e,n,s,o){return e&&(e[n]||e(t,l))||s[n].slice(0,o)},u=function(e){return D.s(o%12||12,e,"0")},d=n.meridiem||function(e,t,n){var l=e<12?"AM":"PM";return n?l.toLowerCase():l};return l.replace(m,(function(e,l){return l||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return D.s(t.$y,4,"0");case"M":return i+1;case"MM":return D.s(i+1,2,"0");case"MMM":return h(n.monthsShort,i,c,3);case"MMMM":return h(c,i);case"D":return t.$D;case"DD":return D.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return h(n.weekdaysMin,t.$W,r,2);case"ddd":return h(n.weekdaysShort,t.$W,r,3);case"dddd":return r[t.$W];case"H":return String(o);case"HH":return D.s(o,2,"0");case"h":return u(1);case"hh":return u(2);case"a":return d(o,a,!0);case"A":return d(o,a,!1);case"m":return String(a);case"mm":return D.s(a,2,"0");case"s":return String(t.$s);case"ss":return D.s(t.$s,2,"0");case"SSS":return D.s(t.$ms,3,"0");case"Z":return s}return null}(e)||s.replace(":","")}))},f.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},f.diff=function(l,d,g){var p,m=this,b=D.p(d),f=C(l),y=(f.utcOffset()-this.utcOffset())*t,v=this-f,S=function(){return D.m(m,f)};switch(b){case u:p=S()/12;break;case c:p=S();break;case h:p=S()/3;break;case r:p=(v-y)/6048e5;break;case i:p=(v-y)/864e5;break;case a:p=v/n;break;case o:p=v/t;break;case s:p=v/e;break;default:p=v}return g?p:D.a(p)},f.daysInMonth=function(){return this.endOf(c).$D},f.$locale=function(){return S[this.$L]},f.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),l=x(e,t,!0);return l&&(n.$L=l),n},f.clone=function(){return D.w(this.$d,this)},f.toDate=function(){return new Date(this.valueOf())},f.toJSON=function(){return this.isValid()?this.toISOString():null},f.toISOString=function(){return this.$d.toISOString()},f.toString=function(){return this.$d.toUTCString()},b}(),w=O.prototype;return C.prototype=w,[["$ms",l],["$s",s],["$m",o],["$H",a],["$W",i],["$M",c],["$y",u],["$D",d]].forEach((function(e){w[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),C.extend=function(e,t){return e.$i||(e(t,O,C),e.$i=!0),C},C.locale=x,C.isDayjs=k,C.unix=function(e){return C(1e3*e)},C.en=S[v],C.Ls=S,C.p={},C}()},meR3:function(e,t){"use strict";t.a={home:"home__nIvoY",cardHeader:"cardHeader__sKTze",cardBody:"cardBody__ktGWq"}},wp7E:function(e,t,n){"use strict";var l=n("hosL"),s=n("QRet"),o=n("2fTU"),a=n("jTUD"),i=n.n(a),r=n("x2AU");n("XmHI");i.a.locale("fi"),t.a=function(e){const[t,n]=Object(s.d)(!1),a=Object(s.c)(null),i="border-radius: 50%; width: 10px; height: 10px; padding: 2px; background: #fff;  border: 2px solid #000; color: #000; text-align: center; font: 10px Arial, sans-serif;",c=n=>{n.preventDefault(),e.displayAllDescriptions||(t||a.current.open(),h())},h=()=>u(!t),u=e=>{n(e)},d=e=>{let t=new Date(1e3*e),n=t.getHours(),l=t.getMinutes();return l<10&&(l="0"+l),n<10&&(n="0"+n),n+":"+l},g=e=>{let t=null;return e.data.movie?t=Object(l.h)("span",{style:i},"E"):e.data.sport&&(t=Object(l.h)("span",{style:i},"U")),t};return r.a.bDebug&&(console.log("Amppari ShowProgram.js props"),console.log(e)),Object(l.h)(l.Fragment,null,Object(l.h)("div",null,Object(l.h)("div",{tabIndex:"0",lang:"fi",onClick:c,onKeyDown:e=>{e=e||window.event;r.a.bDebug&&console.log("pressed");if(13===e.keyCode)c(e)}},Object(l.h)("p",null,Object(l.h)("b",null,e.showSearch&&null!=e.data.titleindex?Object(l.h)("div",null,g(e)," ",d(e.data.timestamp),Object(l.h)("space",null," "),(e=>{console.log("getPOfTitleIndex");let t=e.data.titleindex;console.log("titleindex"),console.log(t);let n=e.data.title;if(null!=n&&(n=n.toString()),console.log("title"),console.log(n),null==t||t<0)return n;let l=e.getPOfIndex(t,n,e.themevalue);return console.log("ret after getPOfIndex"),console.log(l),l})(e)):Object(l.h)("div",null,g(e)," ",d(e.data.timestamp),Object(l.h)("space",null," "),e.data.title.toString()))),e.displayAllDescriptions?Object(l.h)(l.Fragment,null,Object(l.h)("p",null,e.showSearch&&null!=e.data.descriptionindex?e.getPOfIndex(e.data.descriptionindex,e.data.description.toString(),e.themevalue):e.data.description.toString()),null!=e.data.link||null!=e.data.link?Object(l.h)("p",null,Object(l.h)("a",{href:e.data.link,onClick:this.openHtmlPage},"ohjelmalinkki")):null):null)),Object(l.h)(o.a,{role:"dialog",id:"showamppariprogram","aria-labelledby":"amppari","aria-modal":"false",lang:"fi",ref:a,title:e.channel,okButtonPressed:e=>{e.preventDefault(),t&&a.current.close(),h()},themevalue:e.themevalue,okText:"Sulje",scrollable:!0},Object(l.h)("div",{style:"color: #FFF; background-color: black; border-color: #FFF;"},Object(l.h)("div",{class:"card-header"},Object(l.h)("h3",{lang:"fi",id:"h1loading",default:!0,tabIndex:"0",class:" mdc-typography--title"},g(e)," ",d(e.data.timestamp),Object(l.h)("space",null," ")," ",e.data.title.toString()),Object(l.h)("h3",{tabIndex:"0",class:" mdc-typography--title"},e.data.description.toString()),Object(l.h)("br",null)))))}}}]);
//# sourceMappingURL=7.chunk.98e9e.esm.js.map