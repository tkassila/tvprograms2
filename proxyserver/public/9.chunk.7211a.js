(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"2WAh":function(e,t,n){"use strict";(function(e){function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function o(e,t){for(var n=0;n<t.length;n++){var l=t[n];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,h(l.key),l)}}function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,l=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(l,arguments,o)}else n=l.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function u(e,t,n){return(t=h(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==l(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}n.d(t,"a",(function(){return f}));var d=n("hosL"),g=(n("meR3"),n("x2AU")),f=(n("jTUD"),n("basN"),function(t){function n(e){var t;u(i(t=h.call(this,e)),"_mounted",!1),u(i(t),"store",null),u(i(t),"unsubscribelistener",null),u(i(t),"arr_selectchanneltypes",["kaikki","ilmaiset","maksulliset"]),u(i(t),"fetcheditems",[]),u(i(t),"channeltypeitems",[]),u(i(t),"removelisteners",(function(){null!=t.unsubscribelistener&&(t.unsubscribelistener(),t.unsubscribelistener=null)})),u(i(t),"listenerStoreChange2",(function(e){if(null!=e){if(t._mounted){var n=e.fetchitems;if(n!=t.state.fetchitems){g.a.bDebug&&(console.log("storestate.fetchitems change"),console.log("storestate"),console.log(e)),t.fetchitems=n;var l=t.filterChannesAfterChannelPay();t.channeltypeitems=l,t.setState({fetchitems:n}),t.store.setState({channeltypeitems:l})}}}else console.log("ChannnelTypes listenerStoreChange storestate")})),u(i(t),"filterChannesAfterChannelPay",(function(e){var n=null,l=null,o=t.fetchitems;g.a.bDebug&&(console.log("filterChannesAfterChannelPay"),console.log("channeltype"),console.log(e),console.log("fitems"),console.log(o),console.log("fitems.size"),console.log(o.length)),void 0!==e?(n=e.ind,l=e.selected):(l=t.state.selectedsuodattimet,n=t.state.selectedsuodatinindex),g.a.bDebug&&(console.log("filterChannesAfterChannelPay 2"),console.log("ind"),console.log(n),console.log("selected"),console.log(l));var r=null;if(null==o)r=null;else if(null==l||null==l)r=o;else if("kaikki"==l)r=o;else{var a=null;"ilmaiset"===l?a=o.filter((function(e){return!1===e.pay})):"maksulliset"===l&&(a=o.filter((function(e){return!0===e.pay}))),r=a}return g.a.bDebug&&(console.log("chls 2"),console.log(r)),g.a.bDebug&&(console.log("chls - channeltypeitems"),console.log(r),console.log("channeltypeitems.size"),console.log(r.length)),t.channeltypeitems=r,g.a.bDebug&&(console.log("filterChannesAfterChannelPay 3"),console.log(t.state)),r})),g.a.bDebug&&(console.log("ChannnelTypes.js"),console.log("props"),console.log(e)),t.store=e.store;new Date(Date.now());return t.state={errmsg:null,selectedsuodattimet:"kaikki",selectedsuodatinindex:0,fetcheditems:[],channeltypeitems:[],disabled:e.disabled},t}!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)}(n,t);var l,s,c,h=a(n);return l=n,(s=[{key:"componentDidMount",value:function(){var e=this;g.a.bDebug&&console.log("componentDidMount ChannnelTypes");var t=[];t.push("fetchitems"),this.unsubscribelistener=this.store.subscribeAttributeNameListener(t,(function(t){return e.listenerStoreChange2(t)})),this.props.setRemoverFunction(this.removelisteners,"ChannelTypes"),this._mounted=!0}},{key:"componentWillUnmounted",value:function(){this.removelisteners()}},{key:"componentWillReceiveProps",value:function(e){g.a.bDebug&&(console.log("ChannnelTypes componentWillReceiveProps nextProps"),console.log(e)),this._mounted&&null!=e.disabled&&e.disabled!=this.props.disabled&&this.setState({disabled:e.disabled})}},{key:"render",value:function(t,n){var l=this;g.a.bDebug&&(console.log("state"),console.log(n));var o=this.arr_selectchanneltypes.map((function(t,n){return e("option",{value:t,id:n},t)}));return e(d.Fragment,null,e("span",null,e("label",{for:"idchanneltype"},"Kanavatyyppi:"),e("select",{tabIndex:"0",disabled:n.disabled,id:"idchanneltype",selectedIndex:this.state.selectedsuodatinindex,preselected:!0,outlined:!0,onChange:function(e){console.log("e.target.target"),console.log(e.target.text);var t=e.target.selectedIndex,n=l.arr_selectchanneltypes[e.target.selectedIndex],o={};o.ind=t,o.selected=n;var r=l.filterChannesAfterChannelPay(o);l.setState({selectedsuodatinindex:t,selectedsuodattimet:n,channeltypeitems:r}),l.store.setState({channeltypeitems:r})}},o)))}}])&&o(l.prototype,s),c&&o(l,c),Object.defineProperty(l,"prototype",{writable:!1}),n}(d.Component))}).call(this,n("hosL").h)},KiBH:function(e,t,n){"use strict";function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},o.apply(this,arguments)}function r(e,t){for(var n=0;n<t.length;n++){var l=t[n];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,d(l.key),l)}}function a(e,t){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,l=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(l,arguments,o)}else n=l.apply(this,arguments);return i(this,n)}}function i(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return c(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function h(e,t,n){return(t=d(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==l(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},f.apply(this,arguments)}function p(e,t){for(var n=0;n<t.length;n++){var l=t[n];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,k(l.key),l)}}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,l=v(e);if(t){var o=v(this).constructor;n=Reflect.construct(l,arguments,o)}else n=l.apply(this,arguments);return function(e,t){if(t&&("object"===g(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}(this,n)}}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function S(e,t,n){return(t=k(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e){var t=function(e,t){if("object"!==g(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var l=n.call(e,t||"default");if("object"!==g(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===g(t)?t:String(t)}function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function x(){return x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},x.apply(this,arguments)}function O(e,t,n,l,o,r,a){try{var s=e[r](a),i=s.value}catch(e){return void n(e)}s.done?t(i):Promise.resolve(i).then(l,o)}function D(e,t){for(var n=0;n<t.length;n++){var l=t[n];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,_(l.key),l)}}function w(e,t){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},w(e,t)}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,l=P(e);if(t){var o=P(this).constructor;n=Reflect.construct(l,arguments,o)}else n=l.apply(this,arguments);return function(e,t){if(t&&("object"===C(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return A(e)}(this,n)}}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e){return P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},P(e)}function T(e,t,n){return(t=_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e){var t=function(e,t){if("object"!==C(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var l=n.call(e,t||"default");if("object"!==C(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===C(t)?t:String(t)}function R(e){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R(e)}function I(e,t){for(var n=0;n<t.length;n++){var l=t[n];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,L(l.key),l)}}function E(e,t){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},E(e,t)}function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,l=$(e);if(t){var o=$(this).constructor;n=Reflect.construct(l,arguments,o)}else n=l.apply(this,arguments);return function(e,t){if(t&&("object"===R(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return N(e)}(this,n)}}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $(e){return $=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$(e)}function J(e,t,n){return(t=L(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L(e){var t=function(e,t){if("object"!==R(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var l=n.call(e,t||"default");if("object"!==R(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===R(t)?t:String(t)}n.r(t),n.d(t,"default",(function(){return ne}));var F=n("hosL"),B=n("x2AU"),H="home__uUe1w",U=n("vqXW"),W=n.n(U),Y=n("meR3"),V=n("IKRQ"),K=n("jTUD"),z=n.n(K),G=n("basN"),Q=n("2WAh"),q=function(e){function t(e){var t;h(c(t=u.call(this,e)),"_mounted",!1),h(c(t),"store",null),h(c(t),"unsubscribelistener",null),h(c(t),"arr_selecttyyppi_items",["kaikki","elokuvat","urheilu"]),h(c(t),"channeltypeitems",[]),h(c(t),"programtypeitems",[]),h(c(t),"removelisteners",(function(){null!=t.unsubscribelistener&&(t.unsubscribelistener(),t.unsubscribelistener=null)})),h(c(t),"listenerStoreChange2",(function(e){if(B.a.bDebug&&(console.log("ProgramTypes listenerStoreChange2"),console.log(e)),null!=e){if(t._mounted){var n=e.channeltypeitems;if(n!=t.state.channeltypeitems){B.a.bDebug&&(console.log("storestate.channeltypeitems change"),console.log("storestate"),console.log(e)),t.channeltypeitems=n,t.setState({channeltypeitems:n});var l=t.filterAfterProgramType();t.store.setState({programtypeitems:l})}}}else B.a.bDebug&&console.log("ChannnelTypes listenerStoreChange storestate")})),h(c(t),"filterAfterProgramType",(function(e){var n=null;null==e?n=t.state.selectedtyyppi:(e.ind,n=e.selected);var l=t.channeltypeitems;B.a.bDebug&&(console.log("filterAfterProgramType channeltypeitems"),console.log(t.channeltypeitems),console.log("channeltypeitems.length"),console.log(l.length));var o=l;return"kaikki"==n?o=l:("elokuvat"===n||"urheilu"===n)&&(o=t.getMovieOrSportChannels(n)),t.programtypeitems=o,t.channels=o,B.a.bDebug&&(console.log("programtypeitems"),console.log(t.programtypeitems),console.log("programtypeitems.length"),console.log(t.programtypeitems.length)),o})),h(c(t),"getMovieOrSportChannels",(function(e){var n=t.channeltypeitems;if(null==n)return null;if(null==e||null==e)return null;var l,r,a,s="elokuvat"===e,i="urheilu"===e,c=[];return Array.from(n).forEach((function(e){if(void 0!==e){o(l={},e),r=[],a=!1;Array.from(l.channelprograms).forEach((function(e){void 0!==e&&(s&&e.movie||i&&e.sport)&&(a=!0,r.push(e))})),a&&null!=r&&0!=r.length&&(l.channelprograms=r,c.push(l))}})),c})),B.a.bDebug&&(console.log("ProgramTypes.js"),console.log("props"),console.log(e)),t.store=e.store;new Date(Date.now());return t.state={errmsg:null,selectedTyyppiinindex:0,disabled:e.disabled},t}!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}(t,e);var n,l,i,u=s(t);return n=t,(l=[{key:"componentDidMount",value:function(){var e=this;B.a.bDebug&&console.log("componentDidMount ProgramTypes");var t=[];t.push("channeltypeitems"),this.unsubscribelistener=this.store.subscribeAttributeNameListener(t,(function(t){return e.listenerStoreChange2(t)})),this.props.setRemoverFunction(this.removelisteners,"ProgramTypes"),this._mounted=!0}},{key:"componentWillReceiveProps",value:function(e){B.a.bDebug&&(console.log("ProgramTypes componentWillReceiveProps nextProps"),console.log(e)),this._mounted&&null!=e.disabled&&e.disabled!=this.props.disabled&&this.setState({disabled:e.disabled})}},{key:"componentWillUnmounted",value:function(){this.removelisteners()}},{key:"render",value:function(e,t){var n=this;B.a.bDebug&&(console.log("state"),console.log(t));var l=this.arr_selecttyyppi_items.map((function(e,t){return Object(F.h)("option",{id:t,value:e},e)}));return Object(F.h)(F.Fragment,null,Object(F.h)("span",null,Object(F.h)("label",{for:"idprogramtype"},"Ohjelmatyyppi:"),Object(F.h)("select",{tabIndex:"0",id:"idprogramtype",disabled:t.disabled,selectedIndex:this.state.selectedTyyppiinindex,preselected:!0,outlined:!0,onChange:function(e){console.log("e.target.target"),console.log(e.target.text);var t=e.target.selectedIndex,l=n.arr_selecttyyppi_items[t],o={};o.ind=t,o.selected=l;var r=n.filterAfterProgramType(o);n.setState({selectedTyyppiinindex:t,selectedtyyppi:l,channels:r}),n.store.setState({programtypeitems:r,selectedtyyppi:l})}},l)))}}])&&r(n.prototype,l),i&&r(n,i),Object.defineProperty(n,"prototype",{writable:!1}),t}(F.Component),X=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),S(y(n=r.call(this,e)),"_mounted",!1),S(y(n),"store",null),S(y(n),"unsubscribelistener",null),S(y(n),"programtypeitems",[]),S(y(n),"textSearch",null),S(y(n),"removelisteners",(function(){null!=n.unsubscribelistener&&(n.unsubscribelistener(),n.unsubscribelistener=null)})),S(y(n),"listenerStoreChange2",(function(e){if(B.a.bDebug&&(console.log("SearchPrograms listenerStoreChange2"),console.log(e)),null!=e){if(n._mounted){var t=e.programtypeitems;if(null!=t&&null!=t&&t!=n.state.programtypeitems){n.programtypeitems=t;var l=n.filterAfterSearch();n.setState({programtypeitems:t});var o=!1,r=!1;l!=n.programtypeitems&&(o=!0,r=!0,n.props.setDisplayAllDescriptionsTrue(n.textSearch)),n.store.setState({channels:l,bSearchButtonClicked:o,textSearch:n.textSearch,bDisplayAllDescriptions:r})}}}else console.log("SearchPrograms listenerStoreChange storestate")})),S(y(n),"searchTextFromChannelsClicked",(function(e){e.preventDefault(),B.a.bDebug&&console.log("searchTextFromChannelsClicked");var t=n.textSearch;if(B.a.bDebug&&(console.log("searchText 2 "),console.log(t)),null!=t&&null!=t&&0!=t.trim().length){B.a.bDebug&&console.log("searchTextFromChannelsClicked 2 "),console.log("before programtypeitems filter"),console.log(n.programtypeitems),n.programtypeitems=n.state.programtypeitems,n.setState({bSearchButtonClicked:!0});var l=n.filterAfterSearch(!0),o=!1;l!=n.programtypeitems&&(o=!0,!0,n.props.setDisplayAllDescriptionsTrue(n.textSearch)),n.setState({bSearchButtonClicked:!0,bDisplayAllDescriptions:!0}),console.log("before store channels"),console.log(l),n.store.setState({channels:l,bSearchButtonClicked:o,textSearch:n.textSearch,bDisplayAllDescriptions:!0}),console.log("after store"),console.log(n.store.getState())}})),S(y(n),"makeSearchChange",(function(e){null==e||0==e.toString().trim().length?(n.textSearch=null,n.setState({textSearch:null,bSearchButtonClicked:!1}),n.store.setState({channels:n.programtypeitems,bSearchButtonClicked:!1,textSearch:null,bDisplayAllDescriptions:!1})):n.textSearch=e})),S(y(n),"textFieldSearchChanged",(function(e){e.preventDefault();var t=e.target.value;B.a.bDebug&&(console.log("textFieldSearchChanged"),console.log(t)),n.makeSearchChange(t)})),S(y(n),"filterAfterSearch",(function(e){var t=null;t=null==e?n.state.bSearchButtonClicked:e;var l=[],o=[];if(B.a.bDebug&&(console.log("filterAfterSearch mychange"),console.log(t)),n.channels=n.programtypeitems,null!=t&&t){var r=n.channels;if(B.a.bDebug&&(console.log("all_channels"),console.log(r),console.log("all_channels.length"),console.log(r.length)),null==r)return null;var a=n.textSearch;if(B.a.bDebug&&(console.log("searchText"),console.log(a)),null==a||0==a.toString().trim().length);else{var s=-1,i=!1,c=!1,u=a.toUpperCase(),h={},d=r;if(n.state.bCheckShowChannelsAtSameTime&&-1!=n.state.selectedchannelindex){console.log("filter search bCheckShowChannelsAtSameTime");var g=d[n.state.selectedchannelindex].title,p=d.filter((function(e){return e.title===g}));d=p}if(B.a.bDebug&&(console.log("search_channels"),console.log(d)),Array.from(d).forEach((function(e){if(h={},s=-1,i=!1,void 0!==e){f(h,e),-1!=(s=h.title?h.title.toUpperCase().indexOf(u):-1)&&(h.titleindex=s,i=!0,B.a.bDebug&&(console.log("founded channel title chcoopy"),console.log(h))),o=[];var t=null;Array.from(h.channelprograms).forEach((function(e){c=!1,t=null,-1!=(s=e.title?e.title.toString().toUpperCase().indexOf(u):-1)&&(null==t&&f(t={},e),t.titleindex=s,i=!0,c=!0,B.a.bDebug&&(console.log("founded program title"),console.log(t))),-1!=(s=e.description?e.description.toString().toUpperCase().indexOf(u):-1)&&(null==t&&f(t={},e),t.descriptionindex=s,i=!0,c=!0,B.a.bDebug&&(console.log("founded program description"),console.log(t))),c&&o.push(t)})),i&&(h.channelprograms=null!=o&&0!=o.length?o:e.channelprograms,l.push(h))}})),null!=l&&0!=l.length)return B.a.bDebug&&(console.log("foundedChannels"),console.log(n.foundedChannels),console.log("foundedChannels.length"),console.log(l.length)),n.channels=l,l;n.channels=null}}return n.channels})),B.a.bDebug&&(console.log("SearchPrograms.js"),console.log("props"),console.log(e)),n.store=e.store;new Date(Date.now());return n.state={errmsg:null,programtypeitems:[],channeltypeitems:[],textSearch:null,bDisplayAllDescriptions:!1,disabled:e.disabled},n}!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(t,e);var n,l,o,r=b(t);return n=t,(l=[{key:"componentDidMount",value:function(){var e=this;B.a.bDebug&&console.log("componentDidMount SearchPrograms");var t=[];t.push("programtypeitems"),this.unsubscribelistener=this.store.subscribeAttributeNameListener(t,(function(t){return e.listenerStoreChange2(t)})),this.props.setRemoverFunction(this.removelisteners,"SearchPrograms"),this._mounted=!0}},{key:"componentWillUnmounted",value:function(){this.removelisteners()}},{key:"componentWillReceiveProps",value:function(e){B.a.bDebug&&(console.log("SearchPrograms componentWillReceiveProps nextProps"),console.log(e)),this._mounted&&null!=e.disabled&&null!=e.disabled&&e.disabled!=this.props.disabled&&this.setState({disabled:e.disabled})}},{key:"render",value:function(e,t){var n;B.a.bDebug&&(console.log("state"),console.log(t));var l="float: none; display: inline-block; vertical-align: middle; ",o="float: none; display: inline-block; vertical-align: middle; "+(void 0!==e.themevalue&&""!==e.themevalue?"":" color: white; ");return Object(F.h)(F.Fragment,null,Object(F.h)("span",null,Object(F.h)("label",{for:"idsearchvalue",style:l},"Etsi tekstiä ohjelmista:"),Object(F.h)("input",{type:"text",tabIndex:"0",id:"idsearchvalue",disabled:t.disabled,onKeyUp:this.textFieldSearchChanged,style:" width: 30%;"+l}),Object(F.h)("space",null," "),Object(F.h)(V.a,(S(n={tabIndex:"0",ripple:!0,raised:!0},"tabIndex","0"),S(n,"disabled",t.disabled),S(n,"style",o),S(n,"onClick",this.searchTextFromChannelsClicked),S(n,"aria-label","Hae"),S(n,"text","Hae"),n))))}}])&&p(n.prototype,l),o&&p(n,o),Object.defineProperty(n,"prototype",{writable:!1}),t}(F.Component),Z=n("OXlV");String.prototype.indexOfRegex=function(e,t){var n=t?this.substring(t):this,l=n.match(e);return l?n.indexOf(l[0])+t:-1},String.prototype.lastIndexOfRegex=function(e,t){var n=t?this.substring(0,t):this,l=n.match(e);return l?n.lastIndexOf(l[l.length-1]):-1};var ee={PROGRAMTYPE:"programtype",CHANNELTYPE:"channeltype",SEARCHCHANE:"searchchange",MAKESEARCH:"makesearch"},te=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),T(A(n=r.call(this,e)),"store",null),T(A(n),"unsubscribelistener",null),T(A(n),"fetch_url_telkku",null),T(A(n),"fetch_url_ampparissa",null),T(A(n),"arr_selecttyyppi_items",["kaikki","elokuvat","urheilu"]),T(A(n),"arr_selectchanneltypes",["kaikki","ilmaiset","maksulliset"]),T(A(n),"ilmaisetchannelnames",["Yle TV1","Yle TV2","MTV3","Nelonen","Yle Teema Fem","Sub","TV Viisi","Liv","Jim","Kutonen","TLC","Fox","Ava","Hero","alfatv","frii","National Geoprafic"]),T(A(n),"search_start_program",'["^2",'),T(A(n),"search_end_program",/\]\](,*)/gi),T(A(n),"showAllDescrRef",null),T(A(n),"showOneChannelRef",null),T(A(n),"selectChannelRef",null),T(A(n),"const_showChannelsAtSameTime",10),T(A(n),"showTableBordersRef",null),T(A(n),"channelTypeRef",null),T(A(n),"searchProgramRef",null),T(A(n),"programTypeRef",null),T(A(n),"tablCntl",null),T(A(n),"fetcheditems",[]),T(A(n),"channeltypeitems",[]),T(A(n),"programtypeitems",[]),T(A(n),"channels",[]),T(A(n),"textSearch",null),T(A(n),"_mounted",!1),T(A(n),"removerfunctionProgramType",null),T(A(n),"removerfunctionSearchProgram",null),T(A(n),"removerfunctionChannelType",null),T(A(n),"checkshowdcurrentprogramsRef",null),T(A(n),"bUnderFetch",!1),T(A(n),"sectionStyle",null),T(A(n),"tablesectionStyle",null),T(A(n),"sectionRef",null),T(A(n),"section_width",null),T(A(n),"sleep",(function(e){return new Promise((function(t){return setTimeout(t,e)}))})),T(A(n),"removelisteners",(function(){null!=n.unsubscribelistener&&(n.unsubscribelistener(),n.unsubscribelistener=null),n.removerfunctionProgramType&&n.removerfunctionProgramType(),n.removerfunctionSearchProgram&&n.removerfunctionSearchProgram(),n.removerfunctionChannelType&&n.removerfunctionChannelType()})),T(A(n),"setRemoverFunction",(function(e,t){"ProgramTypes"===t?n.removerfunctionProgramType=e:"SearchPrograms"===t?n.removerfunctionSearchProgram=e:"ChannelTypes"===t&&(n.removerfunctionChannelType=e)})),T(A(n),"listenerStoreChange2",(function(e){if(B.a.bDebug&&(console.log("Amppari listenerStoreChange2"),console.log(e)),null!=e){var t=e.channels,l=e.bSearchButtonClicked,o=e.bDisplayAllDescriptions,r=e.textSearch;n.channels=t,n.textSearch=r;var a=e.selectedtyyppi;a&&a!=n.state.selectedtyyppi&&n.setState({selectedtyyppi:a}),l&&r&&n.setState({bDisplayAllDescriptions:!0}),n.setState({channels:t,textSearch:r,bSearchButtonClicked:l,selectedTyyppiinindex:0}),B.a.bDebug&&(console.log("-- 3 bSearchButtonClicked"),console.log(l),console.log("-- 3 bDisplayAllDescriptions"),console.log(o),console.log("-- 3 textSearch"),console.log(r),console.log("-- 3 channels"),console.log(t),console.log("-- 3"),console.log(n.state))}else console.log("Amppari listenerStoreChange storestate")})),T(A(n),"getSelectedDateParam",(function(){var e=n.state.selecteddate,t=""+(e.getMonth()+1);1===t.trim().length&&(t="0"+t);var l=""+e.getDate();return 1===l.trim().length&&(l="0"+l),""+e.getFullYear()+t+l})),T(A(n),"getChannelsAndPrograms",(function(e){var t;if(null==e||null==e||0==e.length)return null;var l=[];return Array.from(e).forEach((function(e){void 0!==e&&null!==(t=n.getJsonChannel(e))&&l.push(t)})),l})),T(A(n),"getArrayIntoChannel",(function(e){var t=null;if(B.a.bDebug&&(console.log("getArrayIntoChannel"),console.log(e)),null==e)return null;t={};var l=n.getNextJsonArrayAfterLabel(e,"name"),o=n.getNextJsonArrayAfterLabel(e,"slug"),r=n.getNextJsonArrayAfterLabel(e,"pay");return t.title=l,t.slug=o,t.pay=r,t})),T(A(n),"getJsonProgram",(function(e){var t=null;if(B.a.bDebug&&(console.log("getJsonProgram"),console.log(e)),null==e)return null;var l=e[1];t={};var o=n.getNextJsonArrayAfterLabel(l,"id"),r=n.getNextJsonArrayAfterLabel(l,"timestamp"),a=n.getNextJsonArrayAfterLabel(l,"title"),s=n.getNextJsonArrayAfterLabel(l,"description"),i=n.getNextJsonArrayAfterLabel(l,"channel"),c=n.getNextJsonArrayAfterLabel(l,"movie"),u=n.getNextJsonArrayAfterLabel(l,"sport");return t.id=o,t.title=a,t.timestamp=r,t.description=s,t.channel=i,t.movie=c,t.sport=u,t})),T(A(n),"getJsonChannel",(function(e){var t=e[1],l=t[1];B.a.bDebug&&(console.log("tvchannel"),console.log(l));var o=l[1],r=n.getNextJsonArrayAfterLabel(t,"programs")[1];B.a.bDebug&&(console.log("programs"),console.log(r));var a=[],s=null,i=n.getArrayIntoChannel(o);return null==i?null:(Array.from(r).forEach((function(e){void 0!==e&&null!==(s=n.getJsonProgram(e))&&a.push(s)})),i.channels=a,i)})),T(A(n),"getChannelsAndProgramsFromJsonArray",(function(e){var t,l,o,r=null,a=null,s=null,i=e.length,c="tv",u=!1;for(t=0;t<i;t++)if(u||"string"!=typeof e[t]||e[t]!==c){if(u&&"tv"===c){c="programming",u=!1,o=(r=e[t][1][1][1]).length;var h={},d=[];for(l=0;l<o;l++){s=r[l][1][3][1],(h={}).id=(a=r[l][1][1][1])[1],h.title=a[3],h.slug=a[5],h.pay=a[7];var g=0,f=s.length,p=void 0,m=void 0,b=[];for(g=0;g<f;g++)(p={}).id=n.getNextJsonArrayAfterLabel(m=s[g][1],"id"),p.timestamp=n.getNextJsonArrayAfterLabel(m,"timestamp"),p.title=n.getNextJsonArrayAfterLabel(m,"title"),p.description=n.getNextJsonArrayAfterLabel(m,"description"),p.channel=n.getNextJsonArrayAfterLabel(m,"channel"),p.movie=n.getNextJsonArrayAfterLabel(m,"movie"),p.sport=n.getNextJsonArrayAfterLabel(m,"sport"),b.push(p);h.channelprograms=b,d.push(h)}return d}}else u=!0;return null})),T(A(n),"fetchHtmlAmppariChannels",function(){var e,t=(e=function*(e){if(!n.state.bUnderFetch){var t=n.getUrlQueryForAmppari(e);B.a.bDebug&&(console.log("fetchHtmlAmppariChannels 1"),console.log(t)),n.fetcheditems=[],n.channeltypeitems=[],n.store.setState({fetchitems:[]}),n.setState({bUnderFetch:!0,channels:[],selectedchannelindex:0,currentChannelSetIndex:0,errmsg:null,fetcheditems:null}),n.bUnderFetch=!0;var l=null;return yield fetch(t,{method:"GET",headers:{"Content-Type":"text/html; charset=UTF-8",Accept:"*/*"},mode:"cors",signal:n.abortSignal}).then(n.handleErrors).then((function(e){return e.text()})).then((function(e){var t=e;B.a.bDebug&&console.log("fetchHtmlAmppariChannels 1.5");var o="window.__INITIAL_STATE__=",r=e.indexOf(o);if(B.a.bDebug&&(console.log("index"),console.log(r)),r>-1){B.a.bDebug&&console.log("index > -1");var a=e.indexOf("<\/script>",r);if(B.a.bDebug&&(console.log("indexEnd"),console.log(a)),a>-1){B.a.bDebug&&console.log("indexEnd > -1"),t=e.substring(r+o.length,a);var s=JSON.parse(t),i=JSON.parse(s.state);B.a.bDebug&&(console.log("json2"),console.log(i)),t=n.getChannelsAndProgramsFromJsonArray(i),B.a.bDebug&&console.log("-- 1"),n.fetcheditems=t,n.channeltypeitems=t,n.setState({fetcheditems:n.fetcheditems,channels:[],bUnderFetch:!1,selectedsuodattimet:"kaikki",channeltypeitems:null,programtypeitems:null,selectedtyyppi:"kaikki",selectedTyyppiinindex:0,selectedsuodatinindex:0,bSearchButtonClicked:!1,selectedchannelindex:0}),n.store.setState({fetchitems:t}),n.setState({channels:n.channels,bUnderFetch:!1,selectedsuodattimet:"kaikki",selectedtyyppi:"kaikki",selectedTyyppiinindex:0,selectedsuodatinindex:0,bSearchButtonClicked:!1,selectedchannelindex:0}),n.bUnderFetch=!1}}l=t})).catch((function(e){throw console.error("error"),console.error(e),n.setState({errmsg:e.toString(),bUnderFetch:!1}),n.bUnderFetch=!1,new n.AmppariException(e.toString())})),l}},function(){var t=this,n=arguments;return new Promise((function(l,o){function r(e){O(s,l,o,r,a,"next",e)}function a(e){O(s,l,o,r,a,"throw",e)}var s=e.apply(t,n);r(void 0)}))});return function(e){return t.apply(this,arguments)}}()),T(A(n),"getChannelsAndSortProgramsAfterChannels",(function(e){var t=new Map,n={};return B.a.bDebug&&console.log("chcoopy.channelprograms"),Array.from(e).forEach((function(e){void 0!==e&&(null!=(n=t.get(e.channel))&&null!=n||(console.log("channel == undefined"),x(n={},{}),n.title=e.channel,console.log("new channel"),console.log(n.title),t.set(n.title,n)),null!==n&&(null==n.channelprograms&&(n.channelprograms=[]),n.channelprograms.push(e),t.set(n.title,n)))})),t.size>0?Object.fromEntries(t):null})),T(A(n),"getJsonChannels",(function(e){if(null==e)return null;for(var t=0,l=n.getJsonLabel("channel",strprograms,t),o=null,r=-1,a=null,s=-1,i=null,c=null,u=1,h=[],d=-1;null!==l;){if(d=i.indexOf('"channel"',searchResultChanne.indEnd+1),t=searchResult.indEnd,searchResult=n.getJsonLabel("id",strprograms,t,d),null!==searchResult&&(t=searchResult.indEnd,searchresult=n.getJsonNextValue(strprograms,t,d),null!==searchResult)){searchResult;if(t=searchResult.indEnd,searchResult=n.getJsonLabel("name",strprograms,t,d),null!==searchResult){t=searchResult.indEnd,searchresult=n.getJsonNextValue(strprograms,t,d);var g=searchResult.value;if(console.log("channelname"),console.log(g),searchResult=n.getJsonLabel("slug",strprograms,t,d),null!==searchResult){t=searchResult.indEnd,searchresult=n.getJsonNextValue(strprograms,t,d);var f=searchResult.value;if(console.log("channelslug"),console.log(f),searchResult=n.getJsonLabel("pay",strprograms,t,d),null!==searchResult){t=searchResult.indEnd,searchresult=n.getJsonNextValue(strprograms,t,d);var p=searchResult.value;for(x(o={},{}),o.title=g,o.slug=f,o.pay=p,a=new Array,r=e.indexOf(n.search_start_program,t),s=e.indexOf("]]"),i=null,c=null,u=1;-1!==r&&-1!==s&&(-1==d||-1!=d&&s<d)&&(i=e.substring(r+1,s),null!=(c=n.getJsonProg(i,d)));)console.log("jsonprog"),console.log(c),a.push(c),u+=1,r=e.indexOf(n.search_start_program,s),s=e.indexOf("]]",r);console.log("tv programs size"),console.log(u),o.channelprograms=[],Array.from(a).forEach((function(e){void 0!==e&&o.channelprograms.push(e)})),null!=o&&h.push(o)}}}}l=n.getJsonLabel("channel",strprograms,t)}return h})),T(A(n),"getJsonProg",(function(e,t){if(null==e)return null;if(console.log("strprogram"),console.log(e),e.indexOf('"channel"')>-1)return null;var l=null,o='"^2",[',r=e.indexOf(o),a=null;if(r>-1){var s=0,i="";e=e.substring(r+o.length),console.log("strprogram 2"),console.log(e),null!=(a=n.getJsonLabelAndValue("id",e,s,t))&&(i='{"'+a.name+'":'+a.value,console.log("1 strjson"),console.log(i),null!=(a=n.getJsonLabelAndValue("timestamp",e,s=a.indEnd,t))&&(i=i+',"'+a.name+'":'+a.value,console.log("2 strjson"),console.log(i),null!=(a=n.getJsonLabelAndValue("title",e,s=a.indEnd,t))&&(i=i+',"'+a.name+'":'+a.value,console.log("3 strjson"),console.log(i),null!=(a=n.getJsonLabelAndValue("description",e,s=a.indEnd,t))&&(i=i+',"'+a.name+'":'+a.value,s=a.indEnd,console.log("4 strjson"),console.log(i),null!=(a=n.getJsonLabelAndValue("channel",e,s,t))&&(i=i+',"'+a.name+'":'+a.value,console.log("5 strjson"),console.log(i),null!=(a=n.getJsonLabelAndValue("movie",e,s=a.indEnd,t))&&(i=i+',"'+a.name+'":'+a.value,console.log("6 strjson"),console.log(i),null!=(a=n.getJsonLabelAndValue("sport",e,s=a.indEnd,t))&&(i=i+',"'+a.name+'":'+a.value,i+=" }",console.log("7 strjson"),console.log(i),l=JSON.parse(i),console.log("ret"),console.log(l))))))))}return l})),T(A(n),"getJsonLabelAndValue",(function(e,t,l,o){var r=n.getJsonNextLabel(t,l,o);if(null!=r){var a=r.name;if(null!=(r=n.getJsonNextValue(t,r.indEnd,o)))return r.name=a,r}return null})),T(A(n),"getJsonNextLabel",(function(e,t){var n=e.indexOf('"',t);if(console.log("getJsonNextLabel ind"),console.log(n),n>-1){var l=e.indexOf('"',n+1);if(l>-1){console.log("getJsonNextLabel ind2"),console.log(l);var o={};return o.name=e.substring(n+1,l),o.indStart=n+1,o.indEnd=l,console.log("getJsonLabel searchresult"),console.log(o),o}}return null})),T(A(n),"getJsonLabel",(function(e,t,n){var l='"'+e+'"',o=t.indexOf(l,n);if(console.log("getJsonLabel ind"),console.log(o),o>-1){var r={};return r.name=e,r.indStart=o+1,r.indEnd=o+l.length,r.name=e,console.log("getJsonLabel searchresult"),console.log(r),r}return null})),T(A(n),"getJsonNextValue",(function(e,t){var n=e.indexOf(",",t);if(console.log("getJsonNextValue ind"),console.log(n),n>-1){var l={},o='"'==e.substring(n+1,n+2);console.log("getJsonNextValue indEnd bStartWithStrike"),console.log(o),l.indStart=n;var r=1;o&&(r=2);var a=-1;return a=e.indexOf(o?'"':",",n+r),console.log("getJsonNextValue indEnd"),console.log(a),-1==a?(l.indEnd=e.length,l.value=e.substring(n+r),console.log("getJsonNextValue searchresult.value indEnd==-1"),console.log(l.value),l):(l.indEnd=o?a+1:a,l.value=e.substring(n+1,o?a+1:a),console.log("getJsonNextValue searchresult.value"),console.log(l.value),l)}return null})),T(A(n),"getJsonDataFromTelkkuRssXml",(function(e){e.querySelectorAll("item")})),T(A(n),"handleErrors",(function(e){if(!e.ok)throw console.log("response"),console.log(e),console.log(e.status),Error(e.status);return e})),T(A(n),"getUrlQueryForAmppari",(function(e){return n.fetch_url_ampparissa+"?aika="+n.state.selectedaika+"&pvm="+e+"&sanat="+n.state.searchsanat+"&suodatus="+n.state.selectedsuodattimet+"&tyyppi="+n.state.selectedtyyppi})),T(A(n),"onClickSetDateString",(function(e){e.preventDefault();var t=e.target.id,l="dayname_",o=t.indexOf(l);o>-1&&(t=t.substring(o+l.length).trim());var r=Date.parse(t),a=new Date(r),s=new Date(Date.now());a.getDate()!==s.getDate()?(n.checkshowdcurrentprogramsRef.current.value&&(n.checkshowdcurrentprogramsRef.current.value=!1,n.setState({bshowdcurrentprograms:!1})),n.checkshowdcurrentprogramsRef.current.disabled=!0):1==n.checkshowdcurrentprogramsRef.current.disabled&&(n.checkshowdcurrentprogramsRef.current.disabled=!1),n.setState({selecteddate:a}),n.fetchHtmlAmppariChannels(t)})),T(A(n),"getPlus1DayId",(function(e){var t=z()(),n=t;return(e>0||e<0)&&(n=t.add(e,"days")),n.format("YYYY-MM-DD")})),T(A(n),"getPlus1Day",(function(e){var t=z()(),n=t;(e>0||e<0)&&(n=t.add(e,"days"));var l="";switch(new Date(n).getDay()){case 1:l="Ma";break;case 2:l="Ti";break;case 3:l="Ke";break;case 4:l="To";break;case 5:l="Pe";break;case 6:l="La";break;case 0:l="Su"}return l+" "+n.format("DD.MM.YYYY")})),T(A(n),"onClickSelectedAika",(function(e){e.preventDefault();var t=e.target.id,l=t.indexOf("_");if(l>-1){var o=t.substring(l+1);n.setState({selectedaika:o})}})),T(A(n),"getTableHeaders",(function(){return null})),T(A(n),"getTableRows",(function(){return null})),T(A(n),"getFetchedDate",(function(){B.a.bDebug&&(console.log("getFetchedDate"),console.log("this.state.selecteddate"),console.log(n.state.selecteddate));var e=n.state.selecteddate;if(null==e||null==e)return"";"string"==typeof e&&(e=Date.parse(n.state.selecteddate));var t=e.getDate(),l=e.getMonth()+1;return t<10&&(t="0"+t),l<10&&(l="0"+l),t+"."+l+"."+e.getFullYear()})),T(A(n),"calculateMaxChannelSetIndex",(function(){if(B.a.bDebug&&console.log("calculateMaxChannelSetIndex"),null==n.state.channels)return 0;if(0===n.state.channels.length)return 0;if(n.state.bCheckShowChannelsAtSameTime)return 0;if(n.state.showChannelsAtSameTime>=n.state.channels.length)return 0;var e=n.state.channels.length/n.state.showChannelsAtSameTime;return B.a.bDebug&&(console.log("channelSets"),console.log(e)),0==e?0:e-1})),T(A(n),"nextChannelSetClicked",(function(e){e.preventDefault(),null!=n.state.channels&&0!=n.state.channels.length&&(n.state.currentChannelSetIndex>n.calculateMaxChannelSetIndex()?n.setState({currentChannelSetIndex:n.calculateMaxChannelSetIndex()}):n.state.currentChannelSetIndex!==n.calculateMaxChannelSetIndex()&&n.setState({currentChannelSetIndex:n.state.currentChannelSetIndex+1}))})),T(A(n),"prevChannelSetClicked",(function(e){e.preventDefault(),null!=n.state.channels&&0!=n.state.channels.length&&(n.state.currentChannelSetIndex<0?n.setState({currentChannelSetIndex:0}):0!==n.state.currentChannelSetIndex&&n.setState({currentChannelSetIndex:n.state.currentChannelSetIndex-1}))})),T(A(n),"showAllDescriptions",(function(e){e.preventDefault();var t=e.target.checked;B.a.bDebug&&console.log("showAllDescriptions");var l=t;B.a.bDebug&&console.log("bValue"),B.a.bDebug&&console.log(l),n.setState({bDisplayAllDescriptions:l})})),T(A(n),"showTableBorders",(function(e){e.preventDefault();var t=e.target.checked;console.log("showTableBorders");var l=t;console.log("bValue"),console.log(l),n.setState({bShowTableBorder:l})})),T(A(n),"showOneChannel",(function(e){if(e.preventDefault(),e.target.checked){var t=n.store.getState();n.setState({showChannelsAtSameTime:1,bCheckShowChannelsAtSameTime:!0,selectedchannelindex:0,currentChannelSetIndex:0,channels:t.channels})}else{var l=n.store.getState();n.channels=l.channels,n.setState({showChannelsAtSameTime:n.const_showChannelsAtSameTime,selectedchannelindex:-1,bCheckShowChannelsAtSameTime:!1,channels:l.channels})}})),T(A(n),"getPOfIndex",(function(e,t,l){B.a.bDebug&&console.log("getPOfIndex");var o=n.textSearch;if(B.a.bDebug&&(console.log("textSearch"),console.log(o)),null==t||null==t||0==t.toString().trim().length)return"";B.a.bDebug&&(console.log("txt"),console.log(t),console.log("index"),console.log(e),console.log("textSearch"),console.log(o));var r=t.toString(),a=r.length;if(null==a||null==e||null==e||e<0||a<=e)return r.toString();if(null==o||null==o||0==o.toString().trim().length)return r.toString();var s=r.substring(0,e),i=r.substring(e,e+o.length),c=r.substring(e+o.length,r.length);B.a.bDebug&&(console.log("first"),console.log(s),console.log("between"),console.log(i),console.log("last"),console.log(c));var u=null!=s&&null!=s&&0!=s.trim().length?Object(F.h)("span",{style:"margin-right: 0px; margin-left: 0px; padding: 0px;"},s):"",h="background-color: green; color: white; margin-right: 0px; margin-left: 0px; padding: 0px;";"--dark"===l&&(h="background-color: yellow; color: black; margin-right: 0px; margin-left: 0px; padding: 0px;");var d=Object(F.h)("span",{style:h},i),g=null!=c&&null!=c&&0!=c.trim().length?Object(F.h)("span",{style:"margin-right: 0px; margin-left: 0px; padding: 0px;"},c):"",f=Object(F.h)("div",null,u,d,g);return B.a.bDebug&&(console.log("newvalue_first"),console.log(u),console.log("newvalue_between"),console.log(d),console.log("newvalue_last"),console.log(g)),B.a.bDebug&&(console.log("newvalue"),console.log(f)),f})),T(A(n),"oldProgram",(function(e,t,l){return"kaikki"!=n.state.selectedtyyppi&&(l=n.getNextProgOf(e)),n.oldProgramWithNextProg(e,t,l)})),T(A(n),"getNextProgOf",(function(e){if(null==e)return null;var t=n.state.fetcheditems;if(null==t)return null;var l,o,r=0;if(null==(o=t[r])||null===o)return null;if(o.title!==e.channel)return null;if(l=o){var a=null,s=null,i=l.channelprograms.length,c=l.channelprograms,u=null;for(r=0;r<i;r++)if(null!=(u=c[r])&&null!==u){if(s){a=u;break}u.id===e.id&&(s=u)}return a}return null})),T(A(n),"oldProgramWithNextProg",(function(e,t,n){new Date(1e3*e.timestamp);var l=null,o=null;if(!n)return!1;if(n&&(o=(l=new Date(1e3*n.timestamp)).getHours()),l>t)return!1;if(l<t)return!0;var r=t.getHours();if(o&&o<r)return console.log("kkk"),!0;if(o&&l.getHours()===t.getHours()&&l.getMinutes()<t.getMinutes())return console.log("kkk"),!0;return!1})),T(A(n),"getTableHeadersAndTableRowsAfterChannels",(function(){var e=null,t=null;B.a.bDebug&&(console.log("getTableHeadersAndTableRowsAfterChannels"),console.log("this.state.bCheckShowChannelsAtSameTime"),console.log(n.state.bCheckShowChannelsAtSameTime),console.log("this.state.selectedchannelindex"),console.log(n.state.selectedchannelindex),console.log(n.state));var l=new Date,o=n.channels;if(null==o){t=[];var r={};return r.headers=e=[],r.channels=t,r}if(n.state.bCheckShowChannelsAtSameTime&&-1!=n.state.selectedchannelindex){console.log("filter");var a=null;o[n.state.selectedchannelindex]&&(a=o[n.state.selectedchannelindex].title);var s=o.filter((function(e){return e.title===a}));e=s.map((function(e){return e.title})),t=s.map((function(e,t){return Object(F.h)(G.a,{id:t,data:e,selectedtyyppi:n.state.selectedtyyppi,showSearch:n.state.bSearchButtonClicked&&null!=n.state.textSearch,getPOfIndex:n.getPOfIndex,oldProgram:n.oldProgram,currenttime:l,themevalue:n.state.themevalue,bshowdcurrentprograms:n.state.bshowdcurrentprograms,displayAllDescriptions:n.state.bDisplayAllDescriptions})}))}else if(n.state.showChannelsAtSameTime==o.length||n.state.showChannelsAtSameTime>o.length)e=o.map((function(e){return e.title})),t=o.map((function(e,t){return Object(F.h)(G.a,{id:t,data:e,showSearch:n.state.bSearchButtonClicked&&null!=n.state.textSearch,selectedtyyppi:n.state.selectedtyyppi,getPOfIndex:n.getPOfIndex,oldProgram:n.oldProgram,currenttime:l,bshowdcurrentprograms:n.state.bshowdcurrentprograms,themevalue:n.state.themevalue,displayAllDescriptions:n.state.bDisplayAllDescriptions})}));else{var i=!1;if(n.state.showChannelsAtSameTime<o.length){var c=Math.floor(n.state.currentChannelSetIndex*n.state.showChannelsAtSameTime),u=0==n.state.currentChannelSetIndex?n.state.showChannelsAtSameTime:Math.floor(n.state.currentChannelSetIndex*n.state.showChannelsAtSameTime+n.state.showChannelsAtSameTime);if(B.a.bDebug&&(console.log("min"),console.log(c),console.log("max"),console.log(u)),c<0?c=0:c>o.length&&(c=o.length,i=!0),u>o.length&&(u=o.length),!i){var h,d=[];for(h=c;h<u;h++)d.push(o[h]);e=d.map((function(e){return e.title})),t=d.map((function(e,t){return Object(F.h)(G.a,{id:t,data:e,showSearch:n.state.bSearchButtonClicked&&null!=n.state.textSearch,selectedtyyppi:n.state.selectedtyyppi,getPOfIndex:n.getPOfIndex,oldProgram:n.oldProgram,currenttime:l,bshowdcurrentprograms:n.state.bshowdcurrentprograms,themevalue:n.state.themevalue,displayAllDescriptions:n.state.bDisplayAllDescriptions})}))}}else i=!0;i&&(e=o.map((function(e){return e.title})),t=o.map((function(e,t){return Object(F.h)(G.a,{id:t,data:e,showSearch:n.state.bSearchButtonClicked&&null!=n.state.textSearch,selectedtyyppi:n.state.selectedtyyppi,getPOfIndex:n.getPOfIndex,oldProgram:n.oldProgram,currenttime:l,themevalue:props.themevalue?props.themevalue:n.state.themevalue,bshowdcurrentprograms:n.state.bshowdcurrentprograms,displayAllDescriptions:n.state.bDisplayAllDescriptions})})))}var g={};return g.headers=e,g.channels=t,g})),T(A(n),"textFieldChannelsAtSameTimeChanged",(function(e){e.preventDefault();var t=e.target.value;B.a.bDebug&&(console.log("textFieldChannelsAtSameTimeChanged"),console.log(t));var l=parseInt(t);B.a.bDebug&&(console.log("validNumber"),console.log(l)),NaN!=l&&null!=l?parseInt(l)<1?e.target.value=1:parseInt(l)>n.const_showChannelsAtSameTime?e.target.value=n.const_showChannelsAtSameTime:n.setState({showChannelsAtSameTime:l,currentChannelSetIndex:0}):e.target.value=n.const_showChannelsAtSameTime})),T(A(n),"textFieldSearchChanged",(function(e){e.preventDefault();var t=e.target.value;B.a.bDebug&&(console.log("textFieldSearchChanged"),console.log(t)),n.filterWhenUIControlsHasBeenChanged(ee.SEARCHCHANE,t)})),T(A(n),"searchTextFromChannelsClicked",(function(){event.preventDefault(),B.a.bDebug&&console.log("searchTextFromChannelsClicked");var e=n.textSearch;(B.a.bDebug&&(console.log("searchText 2 "),console.log(e)),null!=e&&null!=e&&0!=e.trim().length)&&(B.a.bDebug&&console.log("searchTextFromChannelsClicked 2 "),n.showAllDescrRef.current.value||(n.showAllDescrRef.current.value=!0),n.filterWhenUIControlsHasBeenChanged(ee.MAKESEARCH,!0),n.setState({bSearchButtonClicked:!0,bDisplayAllDescriptions:!0,channels:n.channels}),n.forceUpdate())})),T(A(n),"getMovieOrSportChannels",(function(e){var t=n.channeltypeitems;if(null==t)return null;if(null==e||null==e)return null;var l,o,r,a="elokuvat"===e,s="urheilu"===e,i=[];return Array.from(t).forEach((function(e){if(void 0!==e){x(l={},e),o=[],r=!1;Array.from(l.channelprograms).forEach((function(e){(a&&e.movie||s&&e.sport)&&(r=!0,o.push(e))})),r&&null!=o&&0!=o.length&&(l.channelprograms=o,i.push(l))}})),i})),T(A(n),"filterFetchedItemsIntoChannelsAfterTyyppi",(function(e){var t=n.state.fetcheditems;if(null==t)return null;if(null==e||null==e)return null;var l=null;return"kaikki"==e?l=t:("elokuvat"===e||"urheile"===e)&&(l=n.getMovieOrSportChannels(e)),l})),T(A(n),"filterFetchedItemsIntoChannelsAfterSuodin",(function(e){var t=n.state.fetcheditems;if(null==t)return null;if(null==e||null==e)return null;var l=null;return"kaikki"==e?l=t:"ilmaiset"===e?l=t.filter((function(e){return!1===e.pay})):"maksulliset"===e&&(l=t.filter((function(e){return!0===e.pay}))),l})),T(A(n),"filterChannesAfterChannelPay",(function(e){var t=null,l=null,o=n.fetcheditems;B.a.bDebug&&(console.log("filterChannesAfterChannelPay"),console.log("channeltype"),console.log(e),console.log("channeltype"),console.log(e),console.log("fitems"),console.log(o),console.log("fitems.size"),console.log(o.length)),void 0!==e?(t=e.ind,l=e.selected):(l=n.state.selectedsuodattimet,t=n.state.selectedsuodatinindex),B.a.bDebug&&(console.log("filterChannesAfterChannelPay 2"),console.log("ind"),console.log(t),console.log("selected"),console.log(l));var r=null;if(null==o)r=null;else if(null==l||null==l)r=o;else if("kaikki"==l)r=o;else{var a=null;"ilmaiset"===l?a=o.filter((function(e){return!1===e.pay})):"maksulliset"===l&&(a=o.filter((function(e){return!0===e.pay}))),r=a}B.a.bDebug&&(console.log("chls 2"),console.log(r));var s=!1;n.showOneChannelRef.current.checked&&(n.showOneChannelRef.current.checked=!1,s=!0),B.a.bDebug&&(console.log("bChange 2"),console.log(s),console.log("chls - channeltypeitems"),console.log(r),console.log("channeltypeitems.size"),console.log(r.length)),n.channeltypeitems=r,B.a.bDebug&&(console.log("filterChannesAfterChannelPay 3"),console.log(n.state))})),T(A(n),"filterAfterProgramType",(function(e){var t=null;null==e?t=n.state.selectedtyyppi:(e.ind,t=e.selected);var l=n.channeltypeitems;B.a.bDebug&&(console.log("filterAfterProgramType channeltypeitems"),console.log(n.channeltypeitems),console.log("channeltypeitems.length"),console.log(l.length));var o=l;"kaikki"==t?o=l:("elokuvat"===t||"urheilu"===t)&&(o=n.getMovieOrSportChannels(t)),n.programtypeitems=o,n.channels=o,B.a.bDebug&&(console.log("programtypeitems"),console.log(n.programtypeitems),console.log("programtypeitems.length"),console.log(n.programtypeitems.length))})),T(A(n),"makeSearchChange",(function(e){null==e||0==e.toString().trim().length?(n.textSearch=null,n.channels=n.programtypeitems,n.setState({textSearch:null,bSearchButtonClicked:!1})):n.textSearch=e})),T(A(n),"filterAfterSearch",(function(e){var t=null;t=null==e?n.state.bSearchButtonClicked:e;var l=[],o=[];if(B.a.bDebug&&(console.log("filterAfterSearch mychange"),console.log(t)),n.channels=n.state.programtypeitems,void 0!==t||null!==t||t){var r=n.channels;if(B.a.bDebug&&(console.log("all_channels"),console.log(r),console.log("all_channels.length"),console.log(r.length)),null==r);else{var a=n.textSearch;if(B.a.bDebug&&(console.log("searchText"),console.log(a)),null==a||0==a.toString().trim().length);else{var s=-1,i=!1,c=!1,u=a.toUpperCase(),h={},d=n.state.selectedchannelindex;if(n.state.bCheckShowChannelsAtSameTime&&d>-1){var g=r[d];g&&((r=[]).push(g),n.setState({currentChannelSetIndex:0}),d=0)}var f=r;if(n.state.bCheckShowChannelsAtSameTime&&-1!=d){console.log("filter search bCheckShowChannelsAtSameTime");var p=f[d].title,m=f.filter((function(e){return e.title===p}));f=m}B.a.bDebug&&(console.log("search_channels"),console.log(f)),Array.from(f).forEach((function(e){if(void 0!==e){s=-1,i=!1,x(h={},e),-1!=(s=h.title.toUpperCase().indexOf(u))&&(h.titleindex=s,i=!0,B.a.bDebug&&(console.log("founded channel title chcoopy"),console.log(h))),o=[];var t=null;Array.from(h.channelprograms).forEach((function(e){void 0!==e&&(c=!1,x(t={},e),-1!=(s=t.title?t.title.toString().toUpperCase().indexOf(u):-1)&&(t.titleindex=s,i=!0,c=!0,B.a.bDebug&&(console.log("founded program title"),console.log(t))),-1!=(s=t.description?t.description.toString().toUpperCase().indexOf(u):-1)&&(t.descriptionindex=s,i=!0,c=!0,B.a.bDebug&&(console.log("founded program description"),console.log(t))),c&&o.push(t))})),i&&(h.channelprograms=null!=o&&0!=o.length?o:e.channelprograms,l.push(h))}})),null==l||0==l.length?n.channels=null:(B.a.bDebug&&(console.log("foundedChannels"),console.log(n.programtypeitems),console.log("foundedChannels.length"),console.log(l.length)),n.channels=l)}}}})),T(A(n),"filterWhenUIControlsHasBeenChanged",(function(e,t){switch(console.log("filterWhenUIControlsHasBeenChanged"),console.log("calledfrom"),console.log(e),console.log("change"),console.log(t),e){case ee.CHANNELTYPE:console.log("calledfrom.CHANNELTYPE"),n.filterChannesAfterChannelPay(t),n.filterAfterProgramType();break;case ee.PROGRAMTYPE:n.filterAfterProgramType(t);break;case ee.SEARCHCHANE:n.makeSearchChange(t);break;case ee.MAKESEARCH:n.filterAfterSearch(t)}})),T(A(n),"setDisplayAllDescriptionsTrue",(function(){n.showAllDescrRef.current.checked||(n.showAllDescrRef.current.checked=!0)})),T(A(n),"getCurrentColumnIndex",(function(e){if(null==e||0===e.length)return null;B.a.bDebug&&(console.log("path"),console.log(e));var t,n=-1,l=0,o=e.length,r="tablecol";for(l=0;l<o;l++)if((t=e[l].id.toString())&&t.includes(r)){var a=t.indexOf(r),s=t.substring(a+r.length);n=parseInt(s);break}return n})),T(A(n),"getH3OfCurrentColumn",(function(e){if(null==e||0===e.length)return null;B.a.bDebug&&(console.log("path"),console.log(e));var t,n,l=-1,o=0,r=e.length,a="tablecol";for(o=0;o<r;o++)if((n=(t=e[o]).id.toString())&&n.includes(a)){var s=n.indexOf(a),i=n.substring(s+a.length);parseInt(i);if(l=t.childNodes[0]){var c=l.childNodes[0];c&&(l=c)}break}return l})),T(A(n),"getNextColumn",(function(e,t){var n=null;return e&&null!=t&&e[t+1]&&(n=e[t+1]),n})),T(A(n),"getPrevColumn",(function(e,t){var n=null;return e&&t&&e[t-1]&&(n=e[t-1]),n})),T(A(n),"altPlusKeyUp",(function(e){var t=(e=e||window.event).keyCode||e.which;if(B.a.bDebug&&console.log("pressed"),e.shiftKey||e.altKey){B.a.bDebug&&(console.log("control key"),console.log("e.altKey"),console.log(e.altKey),console.log("e.shiftKey"),console.log(e.shiftKey),console.log("keyCode"),console.log(t),console.log("e.keyCode"),console.log(e.keyCode),console.log("e"),console.log(e));var l=n.tablCntl.current.rows[1],o=l.cells,r=l.colIndex,a=o.length,s=l.closest("td");B.a.bDebug&&(console.log("--- row"),console.log(l),console.log("--- cols"),console.log(o),console.log("--- lenCols"),console.log(a),console.log("--- currColInd"),console.log(r),console.log("--- currentCol"),console.log(s),console.log("--- this.tablCntl.current"),console.log(n.tablCntl.current));var i=null,c=null;switch(e.key){case"r":case"R":e.preventDefault(),(c=document.activeElement)&&c.innerHTML&&n.speakScreenReader(c.innerHTML.toString());break;case"c":case"C":if(e.preventDefault(),c=e.composedPath(),h=n.getH3OfCurrentColumn(c)){var u=h.innerHTML.toString();u&&n.speakScreenReader(u)}break;case"o":case"O":e.preventDefault(),c=e.composedPath();var h=n.getH3OfCurrentColumn(c);h&&h.focus();break;case"k":case"K":if(e.preventDefault(),c=e.composedPath(),(i=n.getCurrentColumnIndex(c))>0){var d=n.getPrevColumn(o,i);d&&d.focus()}break;case"a":case"A":if(e.preventDefault(),c=e.composedPath(),-1!==(i=n.getCurrentColumnIndex(c))&&i<a-1){var g=n.getNextColumn(o,i);g&&(B.a.bDebug&&(console.log("nextcol"),console.log(g)),g.focus())}}}})),T(A(n),"showdcurrentprograms",(function(e){e.preventDefault();var t=e.target.checked;console.log("showdcurrentprograms");var l=t;console.log("bValue"),console.log(l),n.setState({bshowdcurrentprograms:l})})),T(A(n),"altPlusKeyUpProgramHeader",(function(e){var t=(e=e||window.event).keyCode||e.which;if(B.a.bDebug&&console.log("pressed"),e.altKey)switch(B.a.bDebug&&(console.log("control key"),console.log("e.altKey"),console.log(e.altKey),console.log("keyCode"),console.log(t),console.log("e.keyCode"),console.log(e.keyCode),console.log("e"),console.log(e)),e.key){case"m":case"M":if(document.getElementById("idprogramtableh3")){var l=document.getElementById("idprogramtableh3");l&&l.focus()}break;case"n":case"N":if(document.getElementById("divControl")){var o=document.getElementById("divControl");o&&o.focus()}break;case"i":case"I":if(document.getElementById("divDays")){var r=document.getElementById("divDays");r&&r.focus()}break;case"j":case"J":n.nextChannelSetClicked(e);break;case"g":case"G":n.prevChannelSetClicked(e);break;default:return n.altPlusKeyUp(e)}})),T(A(n),"getSectionWidthCss",(function(){return"width: "+n.section_width+"px;"})),T(A(n),"buttonHidePressed",(function(){var e=!n.state.hideButton,t=document.getElementById("hideDiv");t.style.display="none"===t.style.display?"block":"none",n.setState({hideButton:e,hideButtonText:e?"Näytä ohje":"Piilota ohje"})})),B.a.bDebug&&(console.log("Amppari.js"),console.log("props"),console.log(e)),n.store=e.store;new Date(Date.now());return n.state={errmsg:null,html:null,selecteddate:null,selectedaika:"paiva",selectedsuodattimet:"kaikki",selectedtyyppi:"kaikki",selectedTyyppiinindex:0,selectedsuodatinindex:0,searchsanat:"",fetcheditems:[],channeltypeitems:[],programtypeitems:[],channels:[],selectedpage:1,today:new Date(Date.now),currentchannel:null,bDisplayAllDescriptions:!1,showChannelsAtSameTime:n.const_showChannelsAtSameTime,selectedchannelindex:0,bCheckShowChannelsAtSameTime:!1,currentChannelSetIndex:0,bUnderFetch:!1,bAllChannelsLoaded:!1,textSearch:null,bSearchButtonClicked:!1,bShowTableBorder:!1,bshowdcurrentprograms:!0,themevalue:e.themevalue,hideButton:!1,hideButtonText:"Piilota ohje"},n.fetch_url_telkku="/telkkussa/",n.fetch_url_ampparissa=B.a.http_curlserver+"/ampparissa/tv",n.AmppariException=n.AmppariException.bind(A(n)),n.showAllDescrRef=Object(F.createRef)(),n.showOneChannelRef=Object(F.createRef)(),n.selectChannelRef=Object(F.createRef)(),n.showTableBordersRef=Object(F.createRef)(),n.channelTypeRef=Object(F.createRef)(),n.searchProgramRef=Object(F.createRef)(),n.programTypeRef=Object(F.createRef)(),n.tablCntl=Object(F.createRef)(),n.checkshowdcurrentprogramsRef=Object(F.createRef)(),n.sectionRef=Object(F.createRef)(),n}!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}(t,e);var n,l,o,r=j(t);return n=t,(l=[{key:"componentWillReceiveProps",value:function(e){B.a.bDebug&&(console.log("Amppari componentWillReceiveProps nextProps"),console.log(e)),null!==e&&e.themevalue!=this.props.themevalue&&(this.setState({themevalue:e.themevalue}),this.sectionStyle=void 0!==e.themevalue&&""!==e.themevalue?" border:1px solid pink; padding:15px;  margin:10px; background: black; color: white; "+(null==this.state.sectionwidth?"":this.state.sectionwidth):" border:1px solid black; padding:15px;  margin:10px; background: white; color: black;"+(null==this.state.sectionwidth?"":this.state.sectionwidth),this.tablesectionStyle=void 0!==e.themevalue&&""!==e.themevalue?" border:1px solid pink; padding:15px;  margin:10px; background: black; color: white; ":" border:1px solid black; padding:15px;  margin:10px; background: white; color: black;")}},{key:"componentDidMount",value:function(){var e=this;B.a.bDebug&&console.log("componentDidMount 1"),this.abortController=new W.a,this.abortSignal=this.abortController.signal;var t=[];t.push("channels"),this.unsubscribelistener=this.store.subscribeAttributeNameListener(t,(function(t){return e.listenerStoreChange2(t)})),this._mounted=!0;var n=this.store.getState().fetcheditems;n&&(this.setState({fetcheditems:n}),this.store.setState({fetcheditems:n})),this.section_width=this.sectionRef.current.offsetWidth;var l=document.getElementById("focus_1_element");l&&(this.sleep(500),l.focus())}},{key:"componentWillUnmount",value:function(){this.abortSignal&&!this.abortSignal.aborted&&this.abortController.abort(),this.removelisteners(),this.setState({}),this.store.setStateNoneCallListeners({fetchitems:[],channeltypeitems:[],programtypeitems:[],categories:[],schedules:[]}),this._mounted=!1}},{key:"componentWillUnmounted",value:function(){null!=this.unsubscribelistener&&this.unsubscribelistener()}},{key:"AmppariException",value:function(e){this.message=e,this.name="AmppariException"}},{key:"getNextJsonArrayAfterLabel",value:function(e,t){if(null==t||null==t)return null;if(null==e||null==e||0==e.length)return null;var n=!1,l=!1,o=null,r=0,a=null,s=e.length;for(r=0;r<s;r++)if(a=e[r],!l)if(n||"string"!=typeof a||a.toString()!==t){if(n)return o=a,l=!0,a}else n=!0;return null==o&&console.log("return null"),o}},{key:"speakScreenReader",value:function(e){document.getElementById("screenreaderdiv").innerHTML=e,this.setState({screenreaderdiv:e})}},{key:"render",value:function(e,t){var n=this;B.a.bDebug&&(console.log("state"),console.log(t));var l="";null!=t.fetcheditems&&t.fetcheditems.length>0&&(l=this.getSectionWidthCss());var o="float: none; display: inline-block; vertical-align: middle; ",r="float: none; display: inline-block; vertical-align: middle; "+(void 0!==e.themevalue&&""!==e.themevalue?"":" color: white; "),a=void 0!==e.themevalue&&""!==e.themevalue?"color: #FFF; background-color: black; border-color: #FFF;":"",s=(this.store.getState(),""),i="black";t.bShowTableBorder&&(s=" border: 1px solid "+i+";","--dark"===e.themevalue&&(s=" border: 1px solid "+(i="white")+";")),this.arr_selectchanneltypes.map((function(e,t){return Object(F.h)("option",{value:e,id:t},e)})),this.arr_selecttyyppi_items.map((function(e,t){return Object(F.h)("option",{value:e,id:t},e)}));var c=null,u=null,h=t.selectedchannelindex;(h<0||t.ddd)&&(h=0);var d=null,g=null;if(null!==t.channels){u=t.channels.map((function(e,t){return Object(F.h)("option",{selected:t===h,value:e.title,id:t},e.title)}));var f=this.getTableHeadersAndTableRowsAfterChannels();null!=(c=f.channels)&&c.length>0&&(g=c.map((function(e,t){return Object(F.h)("td",{tabIndex:"0",id:"tablecol"+t,lang:"fi",style:"vertical-align: top; padding-left: 5px; padding-right: 5px;"+s},e)})))}return null!=c&&B.a.bDebug&&(console.log("tabletds.length"),null==g||null==g?console.log("tabletds == null || tabletds == undefined"):console.log(g.length)),Object(F.h)(F.Fragment,null,Object(F.h)("div",{id:"amppari_main_div",style:" min-height: 100%; margin: 0px; height: 100%: "+a,onKeyUp:this.altPlusKeyUpProgramHeader},Object(F.h)("div",{class:Y.a.cardHeader+a},Object(F.h)("h1",{tabIndex:"0",lang:"fi",id:"focus_1_element"},"Amppari ",this.getFetchedDate()),Object(F.h)("section",{ref:this.sectionRef,style:""===this.state.themevalue?l:this.sectionStyle},Object(F.h)("div",{class:Y.a.cardHeader},Object(F.h)("div",{lang:"fi",tabIndex:"0",id:"divDays"},"Hae tv-ohjelmatiedot alimpaan taulukkoon alla olevan päivämäärän mukaan:"),Object(F.h)("div",{class:Y.a.cardHeader},Object(F.h)("a",{lang:"fi",href:".",id:"dayname_"+this.getPlus1DayId(0),onClick:this.onClickSetDateString},this.getPlus1Day(0)),Object(F.h)("space",null," "),Object(F.h)("a",{lang:"fi",href:".",id:"dayname_"+this.getPlus1DayId(1),onClick:this.onClickSetDateString},this.getPlus1Day(1)),Object(F.h)("space",null," "),Object(F.h)("a",{lang:"fi",href:".",id:"dayname_"+this.getPlus1DayId(2),onClick:this.onClickSetDateString},this.getPlus1Day(2)),Object(F.h)("space",null," "),Object(F.h)("a",{lang:"fi",href:".",id:"dayname_"+this.getPlus1DayId(3),onClick:this.onClickSetDateString},this.getPlus1Day(3)),Object(F.h)("space",null," "),Object(F.h)("a",{lang:"fi",href:".",id:"dayname_"+this.getPlus1DayId(4),onClick:this.onClickSetDateString},this.getPlus1Day(4)),Object(F.h)("space",null," "),Object(F.h)("a",{lang:"fi",href:".",id:"dayname_"+this.getPlus1DayId(5),onClick:this.onClickSetDateString},this.getPlus1Day(5)),Object(F.h)("space",null," "),Object(F.h)("a",{lang:"fi",href:".",id:"dayname_"+this.getPlus1DayId(6),onClick:this.onClickSetDateString},this.getPlus1Day(6)),Object(F.h)("space",null," "),Object(F.h)("a",{lang:"fi",href:".",id:"dayname_"+this.getPlus1DayId(7),onClick:this.onClickSetDateString},this.getPlus1Day(7)),Object(F.h)("space",null," "),Object(F.h)("a",{lang:"fi",href:".",id:"dayname_"+this.getPlus1DayId(8),onClick:this.onClickSetDateString},this.getPlus1Day(8)),Object(F.h)("space",null," "),Object(F.h)("a",{lang:"fi",href:".",id:"dayname_"+this.getPlus1DayId(9),onClick:this.onClickSetDateString},this.getPlus1Day(9))))),Object(F.h)("section",{ref:this.sectionRef,style:""===this.state.themevalue?l:this.sectionStyle},Object(F.h)("div",null,Object(F.h)("div",{lang:"fi",tabIndex:"0","aria-labelled":"Miten ohjelmatiedot näytetään"},Object(F.h)("div",{style:{"background-color":"red",color:"yellow"},tabIndex:"0"},t.errmsg),Object(F.h)("div",{class:" mdc-typography--caption",tabIndex:"0",id:"divControl"},"Miten ohjelmatiedot näytetään:")),Object(F.h)("br",null),Object(F.h)("span",null,Object(F.h)(V.a,{lang:"fi",ripple:!0,raised:!0,disabled:null==t.channels||1==t.showChannelsAtSameTime&&t.bCheckShowChannelsAtSameTime||t.showChannelsAtSameTime>=t.channels.length,style:r,text:"<",onClick:this.prevChannelSetClicked,"aria-label":"Aikaisemmat kanavat"})),Object(F.h)("space",null," "),Object(F.h)("span",null,Object(F.h)(V.a,{lang:"fi",ripple:!0,raised:!0,"aria-label":"Seuraavat kanavat",disabled:null==t.channels||1==t.showChannelsAtSameTime&&t.bCheckShowChannelsAtSameTime||t.showChannelsAtSameTime>=t.channels.length,style:r,text:">",onClick:this.nextChannelSetClicked})),Object(F.h)("span",null,Object(F.h)(Z.a,{lang:"fi",inputid:"checkshowdcurrentprograms",labeltext:"Näytä par'aikaa ja myöhemmät esitettävät",checked:t.bshowdcurrentprograms,onChange:this.showdcurrentprograms,style:o,propref:this.checkshowdcurrentprogramsRef})),Object(F.h)("span",null,Object(F.h)(Z.a,{onChange:this.showAllDescriptions,propref:this.showAllDescrRef,inputid:"checkshowdescribtions",style:o,labeltext:"Näytä selitykset",checked:t.bDisplayAllDescriptions})),Object(F.h)("span",null,Object(F.h)(Z.a,{onChange:this.showOneChannel,propref:this.showOneChannelRef,inputid:"checkshowonechannel",style:o,labeltext:"Näytä yksi kanava:",checked:t.bCheckShowChannelsAtSameTime}),Object(F.h)("select",{tabIndex:"0",lang:"fi",selectedIndex:h,disabled:!t.bCheckShowChannelsAtSameTime,preselected:!0,outlined:!0,ref:this.selectChannelRef,style:o,onChange:function(e){n.setState({selectedchannelindex:e.target.selectedIndex,bSearchButtonClicked:!1})}},u)),Object(F.h)("space",null," "),Object(F.h)("span",null,Object(F.h)("label",{for:"input_number_columss",lang:"fi",style:o},"Näytettävien kanavien lkm:"," "),Object(F.h)("input",{id:"input_number_columss",lang:"fi",name:"input_number_columns",disabled:this.state.bCheckShowChannelsAtSameTime,type:"number",min:"1",max:"10",style:o,value:-1===this.state.showChannelsAtSameTime?"":this.state.showChannelsAtSameTime,onKeyUp:this.textFieldChannelsAtSameTimeChanged})),Object(F.h)("space",null," "),Object(F.h)(X,{disabled:null==t.fetcheditems||0==t.fetcheditems.length,setDisplayAllDescriptionsTrue:this.setDisplayAllDescriptionsTrue,store:this.store,setRemoverFunction:this.setRemoverFunction,ref:this.searchProgramRef}),Object(F.h)("space",null," "),Object(F.h)("span",null,Object(F.h)(Z.a,{onChange:this.showTableBorders,propref:this.showTableBordersRef,lang:"fi",inputid:"checkTableBorders",style:o,labeltext:"Näytä taulun raamit",checked:t.bShowTableBorder})),Object(F.h)(q,{disabled:null==t.fetcheditems||0==t.fetcheditems.length,store:this.store,ref:this.programTypeRef,setRemoverFunction:this.setRemoverFunction,bshowdcurrentprograms:e.bshowdcurrentprograms}),Object(F.h)(Q.a,{disabled:null==t.fetcheditems||0==t.fetcheditems.length,store:this.store,ref:this.channelTypeRef,setRemoverFunction:this.setRemoverFunction}))),Object(F.h)("section",{ref:this.sectionRef,style:""===this.state.themevalue?l:this.sectionStyle}," ",Object(F.h)("div",null,Object(F.h)("div",{style:{"background-color":"red",color:"yellow"}},t.errmsg),Object(F.h)("div",{class:" mdc-typography--caption"},Object(F.h)("h3",{id:"idprogramtableh3",lang:"fi",tabIndex:"0"},"Ohjelmataulukko ",Object(F.h)(V.a,{lang:"fi",ripple:!0,raised:!0,style:r,text:t.hideButtonText,id:"buttonHide",onClick:this.buttonHidePressed,"aria-label":"Näytä/Piilota teksi"})),Object(F.h)("div",{class:Y.a.cardHeader,style:t.hideButton,id:"hideDiv"},Object(F.h)("h3",{lang:"fi",tabIndex:"0"},'-- Ohjelmataulukko, liikutaan hiirellä tai taulukon sisällä seuraavilla näppäimillä: alt+a = seuraava kanava, alt+k = edellinen kanava sekä alt+o = liikutaan kanavan otsakkeeseen. Myös ensimmäisen kerran/sama kanava on mahdollista painaa al+c:ää, jolloin ruudunlukuohjelma sanoo kanavan nimen, mutta selauskohta ei muutu. Samoin atl+r:lla toistetaan kerran/ohjelmatieto sen teksti. Ohjelman kuvailun saa näkymään tab näppäimellä ja enterillä tai hiirenklikkauksella. Taulukon sisällä toimivat myös tab sekä shift-tab näppäimet. Taulukon yläpuolelle tekstin "Ohjelmataulukko" kohdalle pääsee komennolla alt+m. Myös seuraavat näppäimet toimivat, kun kanavia enemmän kuin taulukossa näytetään: edelliset kanavat: alt+g ja seuraavat kanavat: alt+j. Alt+i vie suoraan päiväkohtaisten hakulinkkien yläpuolelle. Alt+n vie suoraan miten taulukon ohjelmatiedot näytetään yläpuolelle.')),t.bSearchButtonClicked&&null!=t.textSearch?" (haun tulokset)":""),null===g&&Object(F.h)("div",{tabIndex:"0",lang:"fi","aria-label":"Ei ohjelmatietoja haettu"},Object(F.h)("br",null),"Ei ohjelmatietoja haettu tai tekstihakutulosta (tyhjää hakutekstikenttä)"))),Object(F.h)("section",{style:""===this.state.themevalue?"":this.tablesectionStyle},Object(F.h)("table",{id:"programtable",style:"width:100%; "+s+(""===this.state.themevalue?this.sectionStyle:this.state.themevalue),ref:this.tablCntl},Object(F.h)("tbody",null,Object(F.h)("tr",null,d),Object(F.h)("tr",null,g))))),Object(F.h)("div",{id:"screenreaderdiv",tabindex:"0","aria-live":"priority || polite",class:"visually-hidden","aria-label":this.state.screenreaderdiv})))}}])&&D(n.prototype,l),o&&D(n,o),Object.defineProperty(n,"prototype",{writable:!1}),t}(F.Component),ne=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),J(N(n=r.call(this,e)),"control",null),J(N(n),"removelisteners",(function(){})),B.a.bDebug&&(console.log("AmppariRoute.js"),console.log("props"),console.log(e)),n.state={errmsg:null},n.control=Object(F.createRef)(),n}!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E(e,t)}(t,e);var n,l,o,r=M(t);return n=t,(l=[{key:"componentDidMount",value:function(){B.a.bDebug&&console.log("AmppariRoute componentDidMount 1");var e=window.performance.timing.domContentLoadedEventEnd-window.performance.timing.navigationStart;console.log("loadTime="+e)}},{key:"render",value:function(e,t){return Object(F.h)("div",{class:"".concat(H," page")},Object(F.h)(te,{store:e.store,themevalue:e.themevalue}),Object(F.h)("div",{style:{"background-color":"red",color:"yellow"}},t.errmsg))}}])&&I(n.prototype,l),o&&I(n,o),Object.defineProperty(n,"prototype",{writable:!1}),t}(F.Component)},basN:function(e,t,n){"use strict";(function(e){var l=n("wp7E");t.a=function(t){var n=null;if(null!==t.data.channelprograms){var o=t.data.channelprograms;if(void 0!==t.selectedtyyppi&&"kaikki"!==t.selectedtyyppi)if("elokuvat"===t.selectedtyyppi){var r=o.filter((function(e){return 1==e.movie}));o=r}else if("urheilu"===t.selectedtyyppi){var a=o.filter((function(e){return!0===e.sport}));o=a}if(t.bshowdcurrentprograms&&o){var s,i,c=0,u=o.length,h=[];for(c=0;c<u;c++)i=null,c+1<u&&(i=o[c+1]),t.oldProgram(s=o[c],t.currenttime,i)||h.push(s);o=h}n=o.map((function(n,o){return e(l.a,{id:o,data:n,displayAllDescriptions:t.displayAllDescriptions,themevalue:t.themevalue,getPOfIndex:t.getPOfIndex,showSearch:null!=t.showSearch&&t.showSearch,channel:t.data.title.toString()})}))}return e("div",null,e("h3",{tabIndex:"0",lang:"fi","aria-label":t.data.title},t.showSearch&&null!=t.data.titleindex?t.getPOfIndex(t.data.titleindex,t.data.title,t.themevalue):t.data.title),e("div",null,n))}}).call(this,n("hosL").h)},jTUD:function(e,t,n){function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}var o,r,a;a=function(){"use strict";var e=6e4,t=36e5,n="millisecond",o="second",r="minute",a="hour",s="day",i="week",c="month",u="quarter",h="year",d="date",g="Invalid Date",f=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,p=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},b=function(e,t,n){var l=String(e);return!l||l.length>=t?e:""+Array(t+1-l.length).join(n)+e},y={s:b,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),l=Math.floor(n/60),o=n%60;return(t<=0?"+":"-")+b(l,2,"0")+":"+b(o,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var l=12*(n.year()-t.year())+(n.month()-t.month()),o=t.clone().add(l,c),r=n-o<0,a=t.clone().add(l+(r?-1:1),c);return+(-(l+(n-o)/(r?o-a:a-o))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:c,y:h,w:i,d:s,D:d,h:a,m:r,s:o,ms:n,Q:u}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},v="en",S={};S[v]=m;var k=function(e){return e instanceof D},C=function e(t,n,l){var o;if(!t)return v;if("string"==typeof t){var r=t.toLowerCase();S[r]&&(o=r),n&&(S[r]=n,o=r);var a=t.split("-");if(!o&&a.length>1)return e(a[0])}else{var s=t.name;S[s]=t,o=s}return!l&&o&&(v=o),o||!l&&v},x=function(e,t){if(k(e))return e.clone();var n="object"==l(t)?t:{};return n.date=e,n.args=arguments,new D(n)},O=y;O.l=C,O.i=k,O.w=function(e,t){return x(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var D=function(){function l(e){this.$L=C(e.locale,null,!0),this.parse(e)}var m=l.prototype;return m.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(O.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var l=t.match(f);if(l){var o=l[2]-1||0,r=(l[7]||"0").substring(0,3);return n?new Date(Date.UTC(l[1],o,l[3]||1,l[4]||0,l[5]||0,l[6]||0,r)):new Date(l[1],o,l[3]||1,l[4]||0,l[5]||0,l[6]||0,r)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},m.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},m.$utils=function(){return O},m.isValid=function(){return!(this.$d.toString()===g)},m.isSame=function(e,t){var n=x(e);return this.startOf(t)<=n&&n<=this.endOf(t)},m.isAfter=function(e,t){return x(e)<this.startOf(t)},m.isBefore=function(e,t){return this.endOf(t)<x(e)},m.$g=function(e,t,n){return O.u(e)?this[t]:this.set(n,e)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(e,t){var n=this,l=!!O.u(t)||t,u=O.p(e),g=function(e,t){var o=O.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return l?o:o.endOf(s)},f=function(e,t){return O.w(n.toDate()[e].apply(n.toDate("s"),(l?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},p=this.$W,m=this.$M,b=this.$D,y="set"+(this.$u?"UTC":"");switch(u){case h:return l?g(1,0):g(31,11);case c:return l?g(1,m):g(0,m+1);case i:var v=this.$locale().weekStart||0,S=(p<v?p+7:p)-v;return g(l?b-S:b+(6-S),m);case s:case d:return f(y+"Hours",0);case a:return f(y+"Minutes",1);case r:return f(y+"Seconds",2);case o:return f(y+"Milliseconds",3);default:return this.clone()}},m.endOf=function(e){return this.startOf(e,!1)},m.$set=function(e,t){var l,i=O.p(e),u="set"+(this.$u?"UTC":""),g=(l={},l[s]=u+"Date",l[d]=u+"Date",l[c]=u+"Month",l[h]=u+"FullYear",l[a]=u+"Hours",l[r]=u+"Minutes",l[o]=u+"Seconds",l[n]=u+"Milliseconds",l)[i],f=i===s?this.$D+(t-this.$W):t;if(i===c||i===h){var p=this.clone().set(d,1);p.$d[g](f),p.init(),this.$d=p.set(d,Math.min(this.$D,p.daysInMonth())).$d}else g&&this.$d[g](f);return this.init(),this},m.set=function(e,t){return this.clone().$set(e,t)},m.get=function(e){return this[O.p(e)]()},m.add=function(n,l){var u,d=this;n=Number(n);var g=O.p(l),f=function(e){var t=x(d);return O.w(t.date(t.date()+Math.round(e*n)),d)};if(g===c)return this.set(c,this.$M+n);if(g===h)return this.set(h,this.$y+n);if(g===s)return f(1);if(g===i)return f(7);var p=(u={},u[r]=e,u[a]=t,u[o]=1e3,u)[g]||1,m=this.$d.getTime()+n*p;return O.w(m,this)},m.subtract=function(e,t){return this.add(-1*e,t)},m.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||g;var l=e||"YYYY-MM-DDTHH:mm:ssZ",o=O.z(this),r=this.$H,a=this.$m,s=this.$M,i=n.weekdays,c=n.months,u=function(e,n,o,r){return e&&(e[n]||e(t,l))||o[n].slice(0,r)},h=function(e){return O.s(r%12||12,e,"0")},d=n.meridiem||function(e,t,n){var l=e<12?"AM":"PM";return n?l.toLowerCase():l},f={YY:String(this.$y).slice(-2),YYYY:this.$y,M:s+1,MM:O.s(s+1,2,"0"),MMM:u(n.monthsShort,s,c,3),MMMM:u(c,s),D:this.$D,DD:O.s(this.$D,2,"0"),d:String(this.$W),dd:u(n.weekdaysMin,this.$W,i,2),ddd:u(n.weekdaysShort,this.$W,i,3),dddd:i[this.$W],H:String(r),HH:O.s(r,2,"0"),h:h(1),hh:h(2),a:d(r,a,!0),A:d(r,a,!1),m:String(a),mm:O.s(a,2,"0"),s:String(this.$s),ss:O.s(this.$s,2,"0"),SSS:O.s(this.$ms,3,"0"),Z:o};return l.replace(p,(function(e,t){return t||f[e]||o.replace(":","")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(n,l,d){var g,f=O.p(l),p=x(n),m=(p.utcOffset()-this.utcOffset())*e,b=this-p,y=O.m(this,p);return y=(g={},g[h]=y/12,g[c]=y,g[u]=y/3,g[i]=(b-m)/6048e5,g[s]=(b-m)/864e5,g[a]=b/t,g[r]=b/e,g[o]=b/1e3,g)[f]||b,d?y:O.a(y)},m.daysInMonth=function(){return this.endOf(c).$D},m.$locale=function(){return S[this.$L]},m.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),l=C(e,t,!0);return l&&(n.$L=l),n},m.clone=function(){return O.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},l}(),w=D.prototype;return x.prototype=w,[["$ms",n],["$s",o],["$m",r],["$H",a],["$W",s],["$M",c],["$y",h],["$D",d]].forEach((function(e){w[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),x.extend=function(e,t){return e.$i||(e(t,D,x),e.$i=!0),x},x.locale=C,x.isDayjs=k,x.unix=function(e){return x(1e3*e)},x.en=S[v],x.Ls=S,x.p={},x},"object"==l(t)&&void 0!==e?e.exports=a():void 0===(r="function"==typeof(o=a)?o.call(t,n,t,e):o)||(e.exports=r)},meR3:function(e,t){"use strict";t.a={home:"home__nIvoY",cardHeader:"cardHeader__sKTze",cardBody:"cardBody__ktGWq"}},wp7E:function(e,t,n){"use strict";function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var l,o,r,a,s=[],i=!0,c=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(l=r.call(n)).done)&&(s.push(l.value),s.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{if(!i&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,l=new Array(t);n<t;n++)l[n]=e[n];return l}var r=n("hosL"),a=n("QRet"),s=n("2fTU"),i=n("jTUD"),c=n.n(i),u=n("x2AU");n("XmHI");c.a.locale("fi"),t.a=function(e){var t=l(Object(a.d)(!1),2),n=t[0],o=t[1],i=Object(a.c)(null),c="border-radius: 50%; width: 10px; height: 10px; padding: 2px; background: #fff;  border: 2px solid #000; color: #000; text-align: center; font: 10px Arial, sans-serif;",h=function(t){t.preventDefault(),e.displayAllDescriptions||(n||i.current.open(),d())},d=function(){return g(!n)},g=function(e){o(e)},f=function(e){var t=new Date(1e3*e),n=t.getHours(),l=t.getMinutes();return l<10&&(l="0"+l),n<10&&(n="0"+n),n+":"+l},p=function(e){var t=null;return e.data.movie?t=Object(r.h)("span",{style:c},"E"):e.data.sport&&(t=Object(r.h)("span",{style:c},"U")),t};return u.a.bDebug&&(console.log("Amppari ShowProgram.js props"),console.log(e)),Object(r.h)(r.Fragment,null,Object(r.h)("div",null,Object(r.h)("div",{tabIndex:"0",lang:"fi",onClick:h,onKeyDown:function(e){e=e||window.event;u.a.bDebug&&console.log("pressed");if(13===e.keyCode)h(e)}},Object(r.h)("p",null,Object(r.h)("b",null,e.showSearch&&null!=e.data.titleindex?Object(r.h)("div",null,p(e)," ",f(e.data.timestamp),Object(r.h)("space",null," "),function(e){console.log("getPOfTitleIndex");var t=e.data.titleindex;console.log("titleindex"),console.log(t);var n=e.data.title;if(null!=n&&(n=n.toString()),console.log("title"),console.log(n),null==t||t<0)return n;var l=e.getPOfIndex(t,n,e.themevalue);return console.log("ret after getPOfIndex"),console.log(l),l}(e)):Object(r.h)("div",null,p(e)," ",f(e.data.timestamp),Object(r.h)("space",null," "),e.data.title.toString()))),e.displayAllDescriptions?Object(r.h)(r.Fragment,null,Object(r.h)("p",null,e.showSearch&&null!=e.data.descriptionindex?e.getPOfIndex(e.data.descriptionindex,e.data.description.toString(),e.themevalue):e.data.description.toString()),null!=e.data.link||null!=e.data.link?Object(r.h)("p",null,Object(r.h)("a",{href:e.data.link,onClick:this.openHtmlPage},"ohjelmalinkki")):null):null)),Object(r.h)(s.a,{role:"dialog",id:"showamppariprogram","aria-labelledby":"amppari","aria-modal":"false",lang:"fi",ref:i,title:e.channel,okButtonPressed:function(e){e.preventDefault(),n&&i.current.close(),d()},themevalue:e.themevalue,okText:"Sulje",scrollable:!0},Object(r.h)("div",{style:"color: #FFF; background-color: black; border-color: #FFF;"},Object(r.h)("div",{class:"card-header"},Object(r.h)("h3",{lang:"fi",id:"h1loading",default:!0,tabIndex:"0",class:" mdc-typography--title"},p(e)," ",f(e.data.timestamp),Object(r.h)("space",null," ")," ",e.data.title.toString()),Object(r.h)("h3",{tabIndex:"0",class:" mdc-typography--title"},e.data.description.toString()),Object(r.h)("br",null)))))}}}]);
//# sourceMappingURL=9.chunk.7211a.js.map